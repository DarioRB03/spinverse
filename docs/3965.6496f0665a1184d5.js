"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3965],{3965:(v,l,i)=>{i.r(l),i.d(l,{RuletaModule:()=>R});var d=i(177),s=i(3667),u=i(9384),p=i(467),e=i(4438),m=i(5454);let f=(()=>{var t;class a{constructor(){this.rewardIcon="help-circle",this.rewardName="Recompensa",this.close=new e.bkB}closeRewardModal(){this.close.emit()}}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-reward-modal"]],inputs:{rewardIcon:"rewardIcon",rewardName:"rewardName"},outputs:{close:"close"},decls:9,vars:2,consts:[[1,"reward-modal"],[1,"modal-content"],[1,"reward-icon",3,"name"],[3,"click"]],template:function(n,r){1&n&&(e.j41(0,"ion-modal",0)(1,"div",1),e.nrm(2,"ion-icon",2),e.j41(3,"h2"),e.EFF(4,"\xa1Felicidades!"),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s(),e.j41(7,"ion-button",3),e.bIt("click",function(){return r.closeRewardModal()}),e.EFF(8,"Aceptar"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("name",r.rewardIcon),e.R7$(4),e.SpI("Has ganado: ",r.rewardName,""))},dependencies:[s.Jm,s.iq,s.Sb],styles:[".reward-modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background-color:#1a1a1a;padding:20px;border-radius:10px;text-align:center;width:80%;max-width:300px}.reward-icon[_ngcontent-%COMP%]{font-size:3rem;color:var(--accent-color);margin-bottom:15px}"]}),a})();function g(t,a){if(1&t){const o=e.RV6();e.j41(0,"app-reward-modal",4),e.bIt("close",function(){e.eBV(o);const r=e.XpG();return e.Njj(r.closeRewardModal())}),e.k0s()}if(2&t){const o=e.XpG();e.Y8G("rewardIcon",o.rewardIcon)("rewardName",o.rewardName)}}const h=[{path:"",component:(()=>{var t;class a{constructor(n){this.firestoreService=n,this.isSpinning=!1,this.currentIcon="help-circle",this.rewardIcon="help-circle",this.rewardName="",this.showRewardModal=!1,this.spinsLeft=3,this.userId="user123",this.recompensas=[{nombre:"Marcos de Perfil",icono:"person-circle"},{nombre:"Cupones de Descuento",icono:"pricetag"},{nombre:"Galletita de la Suerte",icono:"star"},{nombre:"Tirada Extra",icono:"refresh"}]}ngOnInit(){this.firestoreService.getUserSpins(this.userId).subscribe(n=>{this.spinsLeft=n||3})}girarRuleta(){var n=this;return(0,p.A)(function*(){n.isSpinning||n.spinsLeft<=0||(n.isSpinning=!0,n.currentIcon="help-circle",n.intervalId=setInterval(()=>{const r=Math.floor(Math.random()*n.recompensas.length);n.currentIcon=n.recompensas[r].icono},100),setTimeout(()=>{clearInterval(n.intervalId);const r=Math.floor(Math.random()*n.recompensas.length),c=n.recompensas[r];n.currentIcon=c.icono,n.rewardIcon=c.icono,n.rewardName=c.nombre,n.showRewardModal=!0,n.isSpinning=!1,n.firestoreService.saveReward(n.userId,{name:c.nombre,icon:c.icono}),"Tirada Extra"!==c.nombre&&(n.spinsLeft-=1),n.firestoreService.updateUserSpins(n.userId,n.spinsLeft)},3e3))})()}closeRewardModal(){this.showRewardModal=!1}}return(t=a).\u0275fac=function(n){return new(n||t)(e.rXU(m.B))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-ruleta"]],decls:5,vars:4,consts:[[1,"roulette-container"],[1,"icon-container",3,"click"],[1,"roulette-icon",3,"name"],[3,"rewardIcon","rewardName","close",4,"ngIf"],[3,"close","rewardIcon","rewardName"]],template:function(n,r){1&n&&(e.j41(0,"ion-content")(1,"div",0)(2,"div",1),e.bIt("click",function(){return r.girarRuleta()}),e.nrm(3,"ion-icon",2),e.k0s()(),e.DNE(4,g,1,2,"app-reward-modal",3),e.k0s()),2&n&&(e.R7$(2),e.AVh("spinning",r.isSpinning),e.R7$(),e.Y8G("name",r.currentIcon),e.R7$(),e.Y8G("ngIf",r.showRewardModal))},dependencies:[d.bT,s.W9,s.iq,f],styles:['ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color);color:var(--ion-text-color)}.roulette-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.roulette-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_icon-pulse 2s infinite ease-in-out}@keyframes _ngcontent-%COMP%_icon-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.icon-container[_ngcontent-%COMP%]{width:250px;height:250px;display:flex;justify-content:center;align-items:center;border-radius:50%;background:radial-gradient(circle,#1c1c1c,#000);color:var(--accent-color);font-size:5rem;margin-bottom:20px;box-shadow:0 0 30px #ff008066,inset 0 0 15px #00000080;cursor:pointer;position:relative;transition:transform .5s ease-out}.icon-container[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px #ff008099,inset 0 0 15px #00000080;transform:scale(1.05)}.icon-container[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;border-radius:50%;border:3px solid rgba(255,0,128,.6);box-shadow:0 0 10px #ff0080cc;animation:_ngcontent-%COMP%_spin-light 4s linear infinite}@keyframes _ngcontent-%COMP%_spin-light{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s ease-in-out infinite,_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 30px #ff008066,inset 0 0 20px #ff008033}to{box-shadow:0 0 40px #ff008099,inset 0 0 25px #ff008066}}ion-button[_ngcontent-%COMP%]{--background: var(--primary-color);--color: #ffffff;border-radius:20px;width:150px;transition:transform .1s}ion-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.reward-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center}.reward-icon[_ngcontent-%COMP%]{font-size:5rem;color:var(--accent-color);margin-bottom:1rem}.spins-counter[_ngcontent-%COMP%]{text-align:center;color:var(--warning-color);margin-top:20px}']}),a})()}];let w=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(h),u.iI]}),a})();var M=i(3887);let R=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.MD,s.bv,w,M.G]}),a})()}}]);