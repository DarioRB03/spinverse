(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(An,ft,$)=>{"use strict";$.d(ft,{Am:()=>mr,Bd:()=>Se,FA:()=>$t,Fy:()=>rt,I9:()=>Mn,Im:()=>Nt,Ku:()=>We,Ll:()=>Rt,T9:()=>pt,Uj:()=>ze,XA:()=>ve,ZQ:()=>ut,bD:()=>En,c1:()=>Ht,cY:()=>we,eX:()=>De,g:()=>ot,gR:()=>Tn,hp:()=>$n,jZ:()=>Ct,lT:()=>Pt,lV:()=>on,mS:()=>Oe,nr:()=>X,p7:()=>Wt,sr:()=>pn,tD:()=>Or,u:()=>Ie,zW:()=>Y,zw:()=>Ue});const ae=function(pe){const Te=[];let Ke=0;for(let xt=0;xt<pe.length;xt++){let ht=pe.charCodeAt(xt);ht<128?Te[Ke++]=ht:ht<2048?(Te[Ke++]=ht>>6|192,Te[Ke++]=63&ht|128):55296==(64512&ht)&&xt+1<pe.length&&56320==(64512&pe.charCodeAt(xt+1))?(ht=65536+((1023&ht)<<10)+(1023&pe.charCodeAt(++xt)),Te[Ke++]=ht>>18|240,Te[Ke++]=ht>>12&63|128,Te[Ke++]=ht>>6&63|128,Te[Ke++]=63&ht|128):(Te[Ke++]=ht>>12|224,Te[Ke++]=ht>>6&63|128,Te[Ke++]=63&ht|128)}return Te},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,Te){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ke=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,xt=[];for(let ht=0;ht<pe.length;ht+=3){const Dn=pe[ht],On=ht+1<pe.length,Zr=On?pe[ht+1]:0,pi=ht+2<pe.length,Nr=pi?pe[ht+2]:0;let Pn=(15&Zr)<<2|Nr>>6,Wr=63&Nr;pi||(Wr=64,On||(Pn=64)),xt.push(Ke[Dn>>2],Ke[(3&Dn)<<4|Zr>>4],Ke[Pn],Ke[Wr])}return xt.join("")},encodeString(pe,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(pe):this.encodeByteArray(ae(pe),Te)},decodeString(pe,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(pe):function(pe){const Te=[];let Ke=0,xt=0;for(;Ke<pe.length;){const ht=pe[Ke++];if(ht<128)Te[xt++]=String.fromCharCode(ht);else if(ht>191&&ht<224){const Dn=pe[Ke++];Te[xt++]=String.fromCharCode((31&ht)<<6|63&Dn)}else if(ht>239&&ht<365){const pi=((7&ht)<<18|(63&pe[Ke++])<<12|(63&pe[Ke++])<<6|63&pe[Ke++])-65536;Te[xt++]=String.fromCharCode(55296+(pi>>10)),Te[xt++]=String.fromCharCode(56320+(1023&pi))}else{const Dn=pe[Ke++],On=pe[Ke++];Te[xt++]=String.fromCharCode((15&ht)<<12|(63&Dn)<<6|63&On)}}return Te.join("")}(this.decodeStringToByteArray(pe,Te))},decodeStringToByteArray(pe,Te){this.init_();const Ke=Te?this.charToByteMapWebSafe_:this.charToByteMap_,xt=[];for(let ht=0;ht<pe.length;){const Dn=Ke[pe.charAt(ht++)],Zr=ht<pe.length?Ke[pe.charAt(ht)]:0;++ht;const Nr=ht<pe.length?Ke[pe.charAt(ht)]:64;++ht;const ir=ht<pe.length?Ke[pe.charAt(ht)]:64;if(++ht,null==Dn||null==Zr||null==Nr||null==ir)throw new be;xt.push(Dn<<2|Zr>>4),64!==Nr&&(xt.push(Zr<<4&240|Nr>>2),64!==ir&&xt.push(Nr<<6&192|ir))}return xt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ze=function(pe){return function(pe){const Te=ae(pe);return ce.encodeByteArray(Te,!0)}(pe).replace(/\./g,"")},Ie=function(pe){try{return ce.decodeString(pe,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Ue(pe,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return Te}for(const Ke in Te)!Te.hasOwnProperty(Ke)||!xe(Ke)||(pe[Ke]=Ue(pe[Ke],Te[Ke]));return pe}function xe(pe){return"__proto__"!==pe}function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ye=()=>{try{return Oe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const pe=process.env.__FIREBASE_DEFAULTS__;return pe?JSON.parse(pe):void 0})()||(()=>{if(typeof document>"u")return;let pe;try{pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=pe&&Ie(pe[1]);return Te&&JSON.parse(Te)})()}catch(pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${pe}`)}},pt=()=>{var pe;return null===(pe=Ye())||void 0===pe?void 0:pe.config},ve=pe=>{var Te;return null===(Te=Ye())||void 0===Te?void 0:Te[`_${pe}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Ke)=>{this.resolve=Te,this.reject=Ke})}wrapCallback(Te){return(Ke,xt)=>{Ke?this.reject(Ke):this.resolve(xt),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Ke):Te(Ke,xt))}}}function rt(pe,Te){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xt=Te||"demo-project",ht=pe.iat||0,Dn=pe.sub||pe.user_id;if(!Dn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const On=Object.assign({iss:`https://securetoken.google.com/${xt}`,aud:xt,iat:ht,exp:ht+3600,auth_time:ht,sub:Dn,user_id:Dn,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[ze(JSON.stringify({alg:"none",type:"JWT"})),ze(JSON.stringify(On)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function Rt(){var pe;const Te=null===(pe=Ye())||void 0===pe?void 0:pe.forceEnvironment;if("node"===Te)return!0;if("browser"===Te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return typeof window<"u"||Wt()}function Wt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ht(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function pn(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function on(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const pe=ut();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function X(){return!Rt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((pe,Te)=>{try{let Ke=!0;const xt="validate-browser-context-for-indexeddb-analytics-module",ht=self.indexedDB.open(xt);ht.onsuccess=()=>{ht.result.close(),Ke||self.indexedDB.deleteDatabase(xt),pe(!0)},ht.onupgradeneeded=()=>{Ke=!1},ht.onerror=()=>{var Dn;Te((null===(Dn=ht.error)||void 0===Dn?void 0:Dn.message)||"")}}catch(Ke){Te(Ke)}})}class ot extends Error{constructor(Te,Ke,xt){super(Ke),this.code=Te,this.customData=xt,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$t.prototype.create)}}class $t{constructor(Te,Ke,xt){this.service=Te,this.serviceName=Ke,this.errors=xt}create(Te,...Ke){const xt=Ke[0]||{},ht=`${this.service}/${Te}`,Dn=this.errors[Te],On=Dn?function Ln(pe,Te){return pe.replace(dn,(Ke,xt)=>{const ht=Te[xt];return null!=ht?String(ht):`<${xt}?>`})}(Dn,xt):"Error";return new ot(ht,`${this.serviceName}: ${On} (${ht}).`,xt)}}const dn=/\{\$([^}]+)}/g;function Tn(pe,Te){return Object.prototype.hasOwnProperty.call(pe,Te)}function Nt(pe){for(const Te in pe)if(Object.prototype.hasOwnProperty.call(pe,Te))return!1;return!0}function En(pe,Te){if(pe===Te)return!0;const Ke=Object.keys(pe),xt=Object.keys(Te);for(const ht of Ke){if(!xt.includes(ht))return!1;const Dn=pe[ht],On=Te[ht];if(Vt(Dn)&&Vt(On)){if(!En(Dn,On))return!1}else if(Dn!==On)return!1}for(const ht of xt)if(!Ke.includes(ht))return!1;return!0}function Vt(pe){return null!==pe&&"object"==typeof pe}function mr(pe){const Te=[];for(const[Ke,xt]of Object.entries(pe))Array.isArray(xt)?xt.forEach(ht=>{Te.push(encodeURIComponent(Ke)+"="+encodeURIComponent(ht))}):Te.push(encodeURIComponent(Ke)+"="+encodeURIComponent(xt));return Te.length?"&"+Te.join("&"):""}function Mn(pe){const Te={};return pe.replace(/^\?/,"").split("&").forEach(xt=>{if(xt){const[ht,Dn]=xt.split("=");Te[decodeURIComponent(ht)]=decodeURIComponent(Dn)}}),Te}function $n(pe){const Te=pe.indexOf("?");if(!Te)return"";const Ke=pe.indexOf("#",Te);return pe.substring(Te,Ke>0?Ke:void 0)}function Or(pe,Te){const Ke=new dr(pe,Te);return Ke.subscribe.bind(Ke)}class dr{constructor(Te,Ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ke,this.task.then(()=>{Te(this)}).catch(xt=>{this.error(xt)})}next(Te){this.forEachObserver(Ke=>{Ke.next(Te)})}error(Te){this.forEachObserver(Ke=>{Ke.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Ke,xt){let ht;if(void 0===Te&&void 0===Ke&&void 0===xt)throw new Error("Missing Observer.");ht=function jr(pe,Te){if("object"!=typeof pe||null===pe)return!1;for(const Ke of Te)if(Ke in pe&&"function"==typeof pe[Ke])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:Ke,complete:xt},void 0===ht.next&&(ht.next=di),void 0===ht.error&&(ht.error=di),void 0===ht.complete&&(ht.complete=di);const Dn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ht.error(this.finalError):ht.complete()}catch{}}),this.observers.push(ht),Dn}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Ke=0;Ke<this.observers.length;Ke++)this.sendOne(Ke,Te)}sendOne(Te,Ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Ke(this.observers[Te])}catch(xt){typeof console<"u"&&console.error&&console.error(xt)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}function We(pe){return pe&&pe._delegate?pe._delegate:pe}},4442:(An,ft,$)=>{"use strict";$.d(ft,{L:()=>ye,a:()=>ce,b:()=>be,c:()=>ke,d:()=>ze,g:()=>Pt}),$(5531);const ye="ionViewWillEnter",ce="ionViewDidEnter",be="ionViewWillLeave",ke="ionViewDidLeave",ze="ionViewWillUnload",Pt=_e=>_e.classList.contains("ion-page")?_e:_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||_e},5531:(An,ft,$)=>{"use strict";$.d(ft,{a:()=>Ie,c:()=>f,g:()=>ze});class c{constructor(){this.m=new Map}reset(_e){this.m=new Map(Object.entries(_e))}get(_e,Ee){const X=this.m.get(_e);return void 0!==X?X:Ee}getBoolean(_e,Ee=!1){const X=this.m.get(_e);return void 0===X?Ee:"string"==typeof X?"true"===X:!!X}getNumber(_e,Ee){const X=parseFloat(this.m.get(_e));return isNaN(X)?void 0!==Ee?Ee:NaN:X}set(_e,Ee){this.m.set(_e,Ee)}}const f=new c,ze=Pt=>ue(Pt),Ie=(Pt,_e)=>("string"==typeof Pt&&(_e=Pt,Pt=void 0),ze(Pt).includes(_e)),ue=(Pt=window)=>{if(typeof Pt>"u")return[];Pt.Ionic=Pt.Ionic||{};let _e=Pt.Ionic.platforms;return null==_e&&(_e=Pt.Ionic.platforms=Ue(Pt),_e.forEach(Ee=>Pt.document.documentElement.classList.add(`plt-${Ee}`))),_e},Ue=Pt=>{const _e=f.get("platform");return Object.keys(Ht).filter(Ee=>{const X=null==_e?void 0:_e[Ee];return"function"==typeof X?X(Pt):Ht[Ee](Pt)})},Oe=Pt=>!!(Se(Pt,/iPad/i)||Se(Pt,/Macintosh/i)&&pt(Pt)),et=Pt=>Se(Pt,/android|sink/i),pt=Pt=>Wt(Pt,"(any-pointer:coarse)"),we=Pt=>rt(Pt)||ut(Pt),rt=Pt=>!!(Pt.cordova||Pt.phonegap||Pt.PhoneGap),ut=Pt=>{const _e=Pt.Capacitor;return!(null==_e||!_e.isNative)},Se=(Pt,_e)=>_e.test(Pt.navigator.userAgent),Wt=(Pt,_e)=>{var Ee;return null===(Ee=Pt.matchMedia)||void 0===Ee?void 0:Ee.call(Pt,_e).matches},Ht={ipad:Oe,iphone:Pt=>Se(Pt,/iPhone/i),ios:Pt=>Se(Pt,/iPhone|iPod/i)||Oe(Pt),android:et,phablet:Pt=>{const _e=Pt.innerWidth,Ee=Pt.innerHeight,X=Math.min(_e,Ee),Y=Math.max(_e,Ee);return X>390&&X<520&&Y>620&&Y<800},tablet:Pt=>{const _e=Pt.innerWidth,Ee=Pt.innerHeight,X=Math.min(_e,Ee),Y=Math.max(_e,Ee);return Oe(Pt)||(Pt=>et(Pt)&&!Se(Pt,/mobile/i))(Pt)||X>460&&X<820&&Y>780&&Y<1400},cordova:rt,capacitor:ut,electron:Pt=>Se(Pt,/electron/i),pwa:Pt=>{var _e;return!!(null!==(_e=Pt.matchMedia)&&void 0!==_e&&_e.call(Pt,"(display-mode: standalone)").matches||Pt.navigator.standalone)},mobile:pt,mobileweb:Pt=>pt(Pt)&&!we(Pt),desktop:Pt=>!pt(Pt),hybrid:we}},9986:(An,ft,$)=>{"use strict";$.d(ft,{c:()=>ce});var c=$(8476);let f;const ae=(be,ke,ze)=>{const Ie=ke.startsWith("animation")?(be=>(void 0===f&&(f=void 0===be.style.animationName&&void 0!==be.style.webkitAnimationName?"-webkit-":""),f))(be):"";be.style.setProperty(Ie+ke,ze)},ye=(be=[],ke)=>{if(void 0!==ke){const ze=Array.isArray(ke)?ke:[ke];return[...be,...ze]}return be},ce=be=>{let ke,ze,Ie,ue,Ue,xe,Ye,Ct,Rt,Se,on,Oe=[],lt=[],st=[],et=!1,vt={},dt=[],pt=[],ve={},we=0,rt=!1,ut=!1,Wt=!0,Ht=!1,pn=!0,kn=!1;const Pt=be,_e=[],Ee=[],X=[],Y=[],De=[],qe=[],Je=[],ot=[],$t=[],Ln=[],dn=[],_n="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,zn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_n,Bt=()=>dn,Tn=(gt,Gt)=>{const vn=Gt.findIndex(Gn=>Gn.c===gt);vn>-1&&Gt.splice(vn,1)},Nt=(gt,Gt)=>((null!=Gt&&Gt.oneTimeCallback?Ee:_e).push({c:gt,o:Gt}),on),En=()=>{zn&&(dn.forEach(gt=>{gt.cancel()}),dn.length=0)},Vt=()=>{qe.forEach(gt=>{null!=gt&&gt.parentNode&&gt.parentNode.removeChild(gt)}),qe.length=0},rr=()=>void 0!==Ue?Ue:Ye?Ye.getFill():"both",ii=()=>void 0!==Ct?Ct:void 0!==xe?xe:Ye?Ye.getDirection():"normal",Sr=()=>rt?"linear":void 0!==Ie?Ie:Ye?Ye.getEasing():"linear",eo=()=>ut?0:void 0!==Rt?Rt:void 0!==ze?ze:Ye?Ye.getDuration():0,Kt=()=>void 0!==ue?ue:Ye?Ye.getIterations():1,qn=()=>void 0!==Se?Se:void 0!==ke?ke:Ye?Ye.getDelay():0,On=()=>{0!==we&&(we--,0===we&&((()=>{$t.forEach(fr=>fr()),Ln.forEach(fr=>fr());const gt=Wt?1:0,Gt=dt,vn=pt,Gn=ve;Y.forEach(fr=>{const se=fr.classList;Gt.forEach(Ae=>se.add(Ae)),vn.forEach(Ae=>se.remove(Ae));for(const Ae in Gn)Gn.hasOwnProperty(Ae)&&ae(fr,Ae,Gn[Ae])}),Rt=void 0,Ct=void 0,Se=void 0,_e.forEach(fr=>fr.c(gt,on)),Ee.forEach(fr=>fr.c(gt,on)),Ee.length=0,pn=!0,Wt&&(Ht=!0),Wt=!0})(),Ye&&Ye.animationFinish()))},pi=()=>{(()=>{Je.forEach(Gn=>Gn()),ot.forEach(Gn=>Gn());const gt=lt,Gt=st,vn=vt;Y.forEach(Gn=>{const fr=Gn.classList;gt.forEach(se=>fr.add(se)),Gt.forEach(se=>fr.remove(se));for(const se in vn)vn.hasOwnProperty(se)&&ae(Gn,se,vn[se])})})(),Oe.length>0&&zn&&(Y.forEach(gt=>{const Gt=gt.animate(Oe,{id:Pt,delay:qn(),duration:eo(),easing:Sr(),iterations:Kt(),fill:rr(),direction:ii()});Gt.pause(),dn.push(Gt)}),dn.length>0&&(dn[0].onfinish=()=>{On()})),et=!0},Nr=gt=>{gt=Math.min(Math.max(gt,0),.9999),zn&&dn.forEach(Gt=>{Gt.currentTime=Gt.effect.getComputedTiming().delay+eo()*gt,Gt.pause()})},Gr=gt=>{dn.forEach(Gt=>{Gt.effect.updateTiming({delay:qn(),duration:eo(),easing:Sr(),iterations:Kt(),fill:rr(),direction:ii()})}),void 0!==gt&&Nr(gt)},ir=(gt=!1,Gt=!0,vn)=>(gt&&De.forEach(Gn=>{Gn.update(gt,Gt,vn)}),zn&&Gr(vn),on),Hr=()=>{et&&(zn?dn.forEach(gt=>{gt.pause()}):Y.forEach(gt=>{ae(gt,"animation-play-state","paused")}),kn=!0)},Kn=gt=>new Promise(Gt=>{null!=gt&&gt.sync&&(ut=!0,Nt(()=>ut=!1,{oneTimeCallback:!0})),et||pi(),Ht&&(zn&&(Nr(0),Gr()),Ht=!1),pn&&(we=De.length+1,pn=!1);const vn=()=>{Tn(Gn,Ee),Gt()},Gn=()=>{Tn(vn,X),Gt()};Nt(Gn,{oneTimeCallback:!0}),(gt=>{X.push({c:gt,o:{oneTimeCallback:!0}})})(vn),De.forEach(fr=>{fr.play()}),zn?(dn.forEach(gt=>{gt.play()}),(0===Oe.length||0===Y.length)&&On()):On(),kn=!1}),it=(gt,Gt)=>{const vn=Oe[0];return void 0===vn||void 0!==vn.offset&&0!==vn.offset?Oe=[{offset:0,[gt]:Gt},...Oe]:vn[gt]=Gt,on};return on={parentAnimation:Ye,elements:Y,childAnimations:De,id:Pt,animationFinish:On,from:it,to:(gt,Gt)=>{const vn=Oe[Oe.length-1];return void 0===vn||void 0!==vn.offset&&1!==vn.offset?Oe=[...Oe,{offset:1,[gt]:Gt}]:vn[gt]=Gt,on},fromTo:(gt,Gt,vn)=>it(gt,Gt).to(gt,vn),parent:gt=>(Ye=gt,on),play:Kn,pause:()=>(De.forEach(gt=>{gt.pause()}),Hr(),on),stop:()=>{De.forEach(gt=>{gt.stop()}),et&&(En(),et=!1),rt=!1,ut=!1,pn=!0,Ct=void 0,Rt=void 0,Se=void 0,we=0,Ht=!1,Wt=!0,kn=!1,X.forEach(gt=>gt.c(0,on)),X.length=0},destroy:gt=>(De.forEach(Gt=>{Gt.destroy(gt)}),(gt=>{En(),gt&&Vt()})(gt),Y.length=0,De.length=0,Oe.length=0,_e.length=0,Ee.length=0,et=!1,pn=!0,on),keyframes:gt=>{const Gt=Oe!==gt;return Oe=gt,Gt&&(gt=>{zn&&Bt().forEach(Gt=>{const vn=Gt.effect;if(vn.setKeyframes)vn.setKeyframes(gt);else{const Gn=new KeyframeEffect(vn.target,gt,vn.getTiming());Gt.effect=Gn}})})(Oe),on},addAnimation:gt=>{if(null!=gt)if(Array.isArray(gt))for(const Gt of gt)Gt.parent(on),De.push(Gt);else gt.parent(on),De.push(gt);return on},addElement:gt=>{if(null!=gt)if(1===gt.nodeType)Y.push(gt);else if(gt.length>=0)for(let Gt=0;Gt<gt.length;Gt++)Y.push(gt[Gt]);else console.error("Invalid addElement value");return on},update:ir,fill:gt=>(Ue=gt,ir(!0),on),direction:gt=>(xe=gt,ir(!0),on),iterations:gt=>(ue=gt,ir(!0),on),duration:gt=>(!zn&&0===gt&&(gt=1),ze=gt,ir(!0),on),easing:gt=>(Ie=gt,ir(!0),on),delay:gt=>(ke=gt,ir(!0),on),getWebAnimations:Bt,getKeyframes:()=>Oe,getFill:rr,getDirection:ii,getDelay:qn,getIterations:Kt,getEasing:Sr,getDuration:eo,afterAddRead:gt=>($t.push(gt),on),afterAddWrite:gt=>(Ln.push(gt),on),afterClearStyles:(gt=[])=>{for(const Gt of gt)ve[Gt]="";return on},afterStyles:(gt={})=>(ve=gt,on),afterRemoveClass:gt=>(pt=ye(pt,gt),on),afterAddClass:gt=>(dt=ye(dt,gt),on),beforeAddRead:gt=>(Je.push(gt),on),beforeAddWrite:gt=>(ot.push(gt),on),beforeClearStyles:(gt=[])=>{for(const Gt of gt)vt[Gt]="";return on},beforeStyles:(gt={})=>(vt=gt,on),beforeRemoveClass:gt=>(st=ye(st,gt),on),beforeAddClass:gt=>(lt=ye(lt,gt),on),onFinish:Nt,isRunning:()=>0!==we&&!kn,progressStart:(gt=!1,Gt)=>(De.forEach(vn=>{vn.progressStart(gt,Gt)}),Hr(),rt=gt,et||pi(),ir(!1,!0,Gt),on),progressStep:gt=>(De.forEach(Gt=>{Gt.progressStep(gt)}),Nr(gt),on),progressEnd:(gt,Gt,vn)=>(rt=!1,De.forEach(Gn=>{Gn.progressEnd(gt,Gt,vn)}),void 0!==vn&&(Rt=vn),Ht=!1,Wt=!0,0===gt?(Ct="reverse"===ii()?"normal":"reverse","reverse"===Ct&&(Wt=!1),zn?(ir(),Nr(1-Gt)):(Se=(1-Gt)*eo()*-1,ir(!1,!1))):1===gt&&(zn?(ir(),Nr(Gt)):(Se=Gt*eo()*-1,ir(!1,!1))),void 0!==gt&&!Ye&&Kn(),on)}}},464:(An,ft,$)=>{"use strict";$.d(ft,{E:()=>Ie,a:()=>c,s:()=>ke});const c=ue=>{try{if(ue instanceof be)return ue.value;if(!ae()||"string"!=typeof ue||""===ue)return ue;if(ue.includes("onload="))return"";const Ue=document.createDocumentFragment(),xe=document.createElement("div");Ue.appendChild(xe),xe.innerHTML=ue,ce.forEach(et=>{const Ye=Ue.querySelectorAll(et);for(let vt=Ye.length-1;vt>=0;vt--){const dt=Ye[vt];dt.parentNode?dt.parentNode.removeChild(dt):Ue.removeChild(dt);const pt=he(dt);for(let ve=0;ve<pt.length;ve++)f(pt[ve])}});const Oe=he(Ue);for(let et=0;et<Oe.length;et++)f(Oe[et]);const lt=document.createElement("div");lt.appendChild(Ue);const st=lt.querySelector("div");return null!==st?st.innerHTML:lt.innerHTML}catch(Ue){return console.error(Ue),""}},f=ue=>{if(ue.nodeType&&1!==ue.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ue.attributes instanceof NamedNodeMap))return void ue.remove();for(let xe=ue.attributes.length-1;xe>=0;xe--){const Oe=ue.attributes.item(xe),lt=Oe.name;if(!ye.includes(lt.toLowerCase())){ue.removeAttribute(lt);continue}const st=Oe.value,et=ue[lt];(null!=st&&st.toLowerCase().includes("javascript:")||null!=et&&et.toLowerCase().includes("javascript:"))&&ue.removeAttribute(lt)}const Ue=he(ue);for(let xe=0;xe<Ue.length;xe++)f(Ue[xe])},he=ue=>null!=ue.children?ue.children:ue.childNodes,ae=()=>{var ue;const Ue=window,xe=null===(ue=null==Ue?void 0:Ue.Ionic)||void 0===ue?void 0:ue.config;return!xe||(xe.get?xe.get("sanitizerEnabled",!0):!0===xe.sanitizerEnabled||void 0===xe.sanitizerEnabled)},ye=["class","id","href","src","name","slot"],ce=["script","style","iframe","meta","link","object","embed"];class be{constructor(Ue){this.value=Ue}}const ke=ue=>{const Ue=window,xe=Ue.Ionic;if(!xe||!xe.config||"Object"===xe.config.constructor.name)return Ue.Ionic=Ue.Ionic||{},Ue.Ionic.config=Object.assign(Object.assign({},Ue.Ionic.config),ue),Ue.Ionic.config},Ie=!1},8621:(An,ft,$)=>{"use strict";$.d(ft,{C:()=>ye,a:()=>he,d:()=>ae});var c=$(467),f=$(4920);const he=function(){var ce=(0,c.A)(function*(be,ke,ze,Ie,ue,Ue){var xe;if(be)return be.attachViewToDom(ke,ze,ue,Ie);if(!(Ue||"string"==typeof ze||ze instanceof HTMLElement))throw new Error("framework delegate is missing");const Oe="string"==typeof ze?null===(xe=ke.ownerDocument)||void 0===xe?void 0:xe.createElement(ze):ze;return Ie&&Ie.forEach(lt=>Oe.classList.add(lt)),ue&&Object.assign(Oe,ue),ke.appendChild(Oe),yield new Promise(lt=>(0,f.c)(Oe,lt)),Oe});return function(ke,ze,Ie,ue,Ue,xe){return ce.apply(this,arguments)}}(),ae=(ce,be)=>{if(be){if(ce)return ce.removeViewFromDom(be.parentElement,be);be.remove()}return Promise.resolve()},ye=()=>{let ce,be;return{attachViewToDom:function(){var Ie=(0,c.A)(function*(ue,Ue,xe={},Oe=[]){var lt,st;let et;if(ce=ue,Ue){const vt="string"==typeof Ue?null===(lt=ce.ownerDocument)||void 0===lt?void 0:lt.createElement(Ue):Ue;Oe.forEach(dt=>vt.classList.add(dt)),Object.assign(vt,xe),ce.appendChild(vt),et=vt,yield new Promise(dt=>(0,f.c)(vt,dt))}else if(ce.children.length>0&&("ION-MODAL"===ce.tagName||"ION-POPOVER"===ce.tagName)&&!(et=ce.children[0]).classList.contains("ion-delegate-host")){const dt=null===(st=ce.ownerDocument)||void 0===st?void 0:st.createElement("div");dt.classList.add("ion-delegate-host"),Oe.forEach(pt=>dt.classList.add(pt)),dt.append(...ce.children),ce.appendChild(dt),et=dt}const Ye=document.querySelector("ion-app")||document.body;return be=document.createComment("ionic teleport"),ce.parentNode.insertBefore(be,ce),Ye.appendChild(ce),null!=et?et:ce});return function(Ue,xe){return Ie.apply(this,arguments)}}(),removeViewFromDom:()=>(ce&&be&&(be.parentNode.insertBefore(ce,be),be.remove()),Promise.resolve())}}},1970:(An,ft,$)=>{"use strict";$.d(ft,{B:()=>ae,G:()=>ye});class f{constructor(be,ke,ze,Ie,ue){this.id=ke,this.name=ze,this.disableScroll=ue,this.priority=1e6*Ie+ke,this.ctrl=be}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const be=this.ctrl.capture(this.name,this.id,this.priority);return be&&this.disableScroll&&this.ctrl.disableScroll(this.id),be}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class he{constructor(be,ke,ze,Ie){this.id=ke,this.disable=ze,this.disableScroll=Ie,this.ctrl=be}block(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.disableGesture(be,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const be of this.disable)this.ctrl.enableGesture(be,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ae="backdrop-no-scroll",ye=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(be){var ke;return new f(this,this.newID(),be.name,null!==(ke=be.priority)&&void 0!==ke?ke:0,!!be.disableScroll)}createBlocker(be={}){return new he(this,this.newID(),be.disable,!!be.disableScroll)}start(be,ke,ze){return this.canStart(be)?(this.requestedStart.set(ke,ze),!0):(this.requestedStart.delete(ke),!1)}capture(be,ke,ze){if(!this.start(be,ke,ze))return!1;const Ie=this.requestedStart;let ue=-1e4;if(Ie.forEach(Ue=>{ue=Math.max(ue,Ue)}),ue===ze){this.capturedId=ke,Ie.clear();const Ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:be}});return document.dispatchEvent(Ue),!0}return Ie.delete(ke),!1}release(be){this.requestedStart.delete(be),this.capturedId===be&&(this.capturedId=void 0)}disableGesture(be,ke){let ze=this.disabledGestures.get(be);void 0===ze&&(ze=new Set,this.disabledGestures.set(be,ze)),ze.add(ke)}enableGesture(be,ke){const ze=this.disabledGestures.get(be);void 0!==ze&&ze.delete(ke)}disableScroll(be){this.disabledScroll.add(be),1===this.disabledScroll.size&&document.body.classList.add(ae)}enableScroll(be){this.disabledScroll.delete(be),0===this.disabledScroll.size&&document.body.classList.remove(ae)}canStart(be){return!(void 0!==this.capturedId||this.isDisabled(be))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(be){const ke=this.disabledGestures.get(be);return!!(ke&&ke.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(An,ft,$)=>{"use strict";$.r(ft),$.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>ze,OVERLAY_BACK_BUTTON_PRIORITY:()=>ke,blockHardwareBackButton:()=>ce,shouldUseCloseWatcher:()=>ye,startHardwareBackButton:()=>be});var c=$(467),f=$(8476),he=$(9483);$(4261);const ye=()=>he.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,ce=()=>{document.addEventListener("backbutton",()=>{})},be=()=>{const Ie=document;let ue=!1;const Ue=()=>{if(ue)return;let xe=0,Oe=[];const lt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ye,vt){Oe.push({priority:Ye,handler:vt,id:xe++})}}});Ie.dispatchEvent(lt);const st=function(){var Ye=(0,c.A)(function*(vt){try{if(null!=vt&&vt.handler){const dt=vt.handler(et);null!=dt&&(yield dt)}}catch(dt){console.error(dt)}});return function(dt){return Ye.apply(this,arguments)}}(),et=()=>{if(Oe.length>0){let Ye={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Oe.forEach(vt=>{vt.priority>=Ye.priority&&(Ye=vt)}),ue=!0,Oe=Oe.filter(vt=>vt.id!==Ye.id),st(Ye).then(()=>ue=!1)}};et()};if(ye()){let xe;const Oe=()=>{null==xe||xe.destroy(),xe=new f.w.CloseWatcher,xe.onclose=()=>{Ue(),Oe()}};Oe()}else Ie.addEventListener("backbutton",Ue)},ke=100,ze=99},4920:(An,ft,$)=>{"use strict";$.d(ft,{a:()=>ke,b:()=>ze,c:()=>he,d:()=>Oe,e:()=>vt,f:()=>xe,g:()=>Ie,h:()=>ye,i:()=>be,j:()=>lt,k:()=>ae,l:()=>Ue,m:()=>st,n:()=>Ye,o:()=>dt,p:()=>et,r:()=>ue,s:()=>pt,t:()=>c});const c=(ve,we=0)=>new Promise(rt=>{f(ve,we,rt)}),f=(ve,we=0,rt)=>{let ut,Ct;const Rt={passive:!0},Wt=()=>{ut&&ut()},Ht=pn=>{(void 0===pn||ve===pn.target)&&(Wt(),rt(pn))};return ve&&(ve.addEventListener("webkitTransitionEnd",Ht,Rt),ve.addEventListener("transitionend",Ht,Rt),Ct=setTimeout(Ht,we+500),ut=()=>{void 0!==Ct&&(clearTimeout(Ct),Ct=void 0),ve.removeEventListener("webkitTransitionEnd",Ht,Rt),ve.removeEventListener("transitionend",Ht,Rt)}),Wt},he=(ve,we)=>{ve.componentOnReady?ve.componentOnReady().then(rt=>we(rt)):ue(()=>we(ve))},ae=ve=>void 0!==ve.componentOnReady,ye=(ve,we=[])=>{const rt={};return we.forEach(ut=>{ve.hasAttribute(ut)&&(null!==ve.getAttribute(ut)&&(rt[ut]=ve.getAttribute(ut)),ve.removeAttribute(ut))}),rt},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],be=(ve,we)=>{let rt=ce;return we&&we.length>0&&(rt=rt.filter(ut=>!we.includes(ut))),ye(ve,rt)},ke=(ve,we,rt,ut)=>{var Ct;if(typeof window<"u"){const Rt=window,Se=null===(Ct=null==Rt?void 0:Rt.Ionic)||void 0===Ct?void 0:Ct.config;if(Se){const Wt=Se.get("_ael");if(Wt)return Wt(ve,we,rt,ut);if(Se._ael)return Se._ael(ve,we,rt,ut)}}return ve.addEventListener(we,rt,ut)},ze=(ve,we,rt,ut)=>{var Ct;if(typeof window<"u"){const Rt=window,Se=null===(Ct=null==Rt?void 0:Rt.Ionic)||void 0===Ct?void 0:Ct.config;if(Se){const Wt=Se.get("_rel");if(Wt)return Wt(ve,we,rt,ut);if(Se._rel)return Se._rel(ve,we,rt,ut)}}return ve.removeEventListener(we,rt,ut)},Ie=(ve,we=ve)=>ve.shadowRoot||we,ue=ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve),Ue=ve=>!!ve.shadowRoot&&!!ve.attachShadow,xe=ve=>{if(ve.focus(),ve.classList.contains("ion-focusable")){const we=ve.closest("ion-app");we&&we.setFocus([ve])}},Oe=(ve,we,rt,ut,Ct)=>{if(ve||Ue(we)){let Rt=we.querySelector("input.aux-input");Rt||(Rt=we.ownerDocument.createElement("input"),Rt.type="hidden",Rt.classList.add("aux-input"),we.appendChild(Rt)),Rt.disabled=Ct,Rt.name=rt,Rt.value=ut||""}},lt=(ve,we,rt)=>Math.max(ve,Math.min(we,rt)),st=(ve,we)=>{if(!ve){const rt="ASSERT: "+we;throw console.error(rt),new Error(rt)}},et=ve=>{if(ve){const we=ve.changedTouches;if(we&&we.length>0){const rt=we[0];return{x:rt.clientX,y:rt.clientY}}if(void 0!==ve.pageX)return{x:ve.pageX,y:ve.pageY}}return{x:0,y:0}},Ye=ve=>{const we="rtl"===document.dir;switch(ve){case"start":return we;case"end":return!we;default:throw new Error(`"${ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},vt=(ve,we)=>{const rt=ve._original||ve;return{_original:ve,emit:dt(rt.emit.bind(rt),we)}},dt=(ve,we=0)=>{let rt;return(...ut)=>{clearTimeout(rt),rt=setTimeout(ve,we,...ut)}},pt=(ve,we)=>{if(null!=ve||(ve={}),null!=we||(we={}),ve===we)return!0;const rt=Object.keys(ve);if(rt.length!==Object.keys(we).length)return!1;for(const ut of rt)if(!(ut in we)||ve[ut]!==we[ut])return!1;return!0}},4261:(An,ft,$)=>{"use strict";$.d(ft,{B:()=>ce,a:()=>pn,b:()=>kr,c:()=>rr,d:()=>Kt,e:()=>$t,f:()=>$n,g:()=>ii,h:()=>mr,i:()=>eo,j:()=>ur,k:()=>dn,r:()=>ze,w:()=>Ln});var c=$(467);var ae=Object.defineProperty,ce={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},be=new WeakMap,ke=W=>be.get(W),ze=(W,ne)=>be.set(ne.$lazyInstance$=W,ne),ue=(W,ne)=>ne in W,Ue=(W,ne)=>(0,console.error)(W,ne),xe=new Map,lt=new Map,st=[],pt="s-id",ut="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ct="http://www.w3.org/1999/xlink",Rt=typeof window<"u"?window:{},Se=Rt.document||{head:{}},Ht={$flags$:0,$resourcesUrl$:"",jmp:W=>W(),raf:W=>requestAnimationFrame(W),ael:(W,ne,Me,Fe)=>W.addEventListener(ne,Me,Fe),rel:(W,ne,Me,Fe)=>W.removeEventListener(ne,Me,Fe),ce:(W,ne)=>new CustomEvent(W,ne)},pn=W=>{Object.assign(Ht,W)},kn=(()=>{let W=!1;try{Se.addEventListener("e",null,Object.defineProperty({},"passive",{get(){W=!0}}))}catch{}return W})(),_e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ee=!1,X=[],Y=[],De=(W,ne)=>Me=>{W.push(Me),Ee||(Ee=!0,ne&&4&Ht.$flags$?ot(Je):Ht.raf(Je))},qe=W=>{for(let ne=0;ne<W.length;ne++)try{W[ne](performance.now())}catch(Me){Ue(Me)}W.length=0},Je=()=>{qe(X),qe(Y),(Ee=X.length>0)&&Ht.raf(Je)},ot=W=>Promise.resolve(void 0).then(W),$t=De(X,!1),Ln=De(Y,!0),dn=W=>{const ne=new URL(W,Ht.$resourcesUrl$);return ne.origin!==Rt.location.origin?ne.href:ne.pathname},_n={},Qn=W=>"object"==(W=typeof W)||"function"===W;function sr(W){var ne,Me,Fe;return null!=(Fe=null==(Me=null==(ne=W.head)?void 0:ne.querySelector('meta[name="csp-nonce"]'))?void 0:Me.getAttribute("content"))?Fe:void 0}((W,ne)=>{for(var Me in ne)ae(W,Me,{get:ne[Me],enumerable:!0})})({},{err:()=>Zt,map:()=>Nt,ok:()=>Tn,unwrap:()=>Ot,unwrapErr:()=>En});var Tn=W=>({isOk:!0,isErr:!1,value:W}),Zt=W=>({isOk:!1,isErr:!0,value:W});function Nt(W,ne){if(W.isOk){const Me=ne(W.value);return Me instanceof Promise?Me.then(Fe=>Tn(Fe)):Tn(Me)}if(W.isErr)return Zt(W.value);throw"should never get here"}var Ot=W=>{if(W.isOk)return W.value;throw W.value},En=W=>{if(W.isErr)return W.value;throw W.value},mr=(W,ne,...Me)=>{let Fe=null,tt=null,Qe=null,Qt=!1,yt=!1;const qt=[],tn=bn=>{for(let Sn=0;Sn<bn.length;Sn++)Fe=bn[Sn],Array.isArray(Fe)?tn(Fe):null!=Fe&&"boolean"!=typeof Fe&&((Qt="function"!=typeof W&&!Qn(Fe))&&(Fe=String(Fe)),Qt&&yt?qt[qt.length-1].$text$+=Fe:qt.push(Qt?Mn(null,Fe):Fe),yt=Qt)};if(tn(Me),ne){ne.key&&(tt=ne.key),ne.name&&(Qe=ne.name);{const bn=ne.className||ne.class;bn&&(ne.class="object"!=typeof bn?bn:Object.keys(bn).filter(Sn=>bn[Sn]).join(" "))}}if("function"==typeof W)return W(null===ne?{}:ne,qt,Or);const gn=Mn(W,null);return gn.$attrs$=ne,qt.length>0&&(gn.$children$=qt),gn.$key$=tt,gn.$name$=Qe,gn},Mn=(W,ne)=>({$flags$:0,$tag$:W,$text$:ne,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),$n={},Or={forEach:(W,ne)=>W.map(dr).forEach(ne),map:(W,ne)=>W.map(dr).map(ne).map(hr)},dr=W=>({vattrs:W.$attrs$,vchildren:W.$children$,vkey:W.$key$,vname:W.$name$,vtag:W.$tag$,vtext:W.$text$}),hr=W=>{if("function"==typeof W.vtag){const Me={...W.vattrs};return W.vkey&&(Me.key=W.vkey),W.vname&&(Me.name=W.vname),mr(W.vtag,Me,...W.vchildren||[])}const ne=Mn(W.vtag,W.vtext);return ne.$attrs$=W.vattrs,ne.$children$=W.vchildren,ne.$key$=W.vkey,ne.$name$=W.vname,ne},di=(W,ne,Me,Fe,tt,Qe,Qt)=>{let yt,qt,tn,gn;if(1===Qe.nodeType){if(yt=Qe.getAttribute("c-id"),yt&&(qt=yt.split("."),(qt[0]===Qt||"0"===qt[0])&&(tn={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:Qe.tagName.toLowerCase(),$elm$:Qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ne.push(tn),Qe.removeAttribute("c-id"),W.$children$||(W.$children$=[]),W.$children$[tn.$index$]=tn,W=tn,Fe&&"0"===tn.$depth$&&(Fe[tn.$index$]=tn.$elm$))),Qe.shadowRoot)for(gn=Qe.shadowRoot.childNodes.length-1;gn>=0;gn--)di(W,ne,Me,Fe,tt,Qe.shadowRoot.childNodes[gn],Qt);for(gn=Qe.childNodes.length-1;gn>=0;gn--)di(W,ne,Me,Fe,tt,Qe.childNodes[gn],Qt)}else if(8===Qe.nodeType)qt=Qe.nodeValue.split("."),(qt[1]===Qt||"0"===qt[1])&&(yt=qt[0],tn={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:Qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===yt?(tn.$elm$=Qe.nextSibling,tn.$elm$&&3===tn.$elm$.nodeType&&(tn.$text$=tn.$elm$.textContent,ne.push(tn),Qe.remove(),W.$children$||(W.$children$=[]),W.$children$[tn.$index$]=tn,Fe&&"0"===tn.$depth$&&(Fe[tn.$index$]=tn.$elm$))):tn.$hostId$===Qt&&("s"===yt?(tn.$tag$="slot",Qe["s-sn"]=qt[5]?tn.$name$=qt[5]:"",Qe["s-sr"]=!0,Fe&&(tn.$elm$=Se.createElement(tn.$tag$),tn.$name$&&tn.$elm$.setAttribute("name",tn.$name$),Qe.parentNode.insertBefore(tn.$elm$,Qe),Qe.remove(),"0"===tn.$depth$&&(Fe[tn.$index$]=tn.$elm$)),Me.push(tn),W.$children$||(W.$children$=[]),W.$children$[tn.$index$]=tn):"r"===yt&&(Fe?Qe.remove():(tt["s-cr"]=Qe,Qe["s-cn"]=!0))));else if(W&&"style"===W.$tag$){const bn=Mn(null,Qe.textContent);bn.$elm$=Qe,bn.$index$="0",W.$children$=[bn]}},Cr=(W,ne)=>{if(1===W.nodeType){let Me=0;if(W.shadowRoot)for(;Me<W.shadowRoot.childNodes.length;Me++)Cr(W.shadowRoot.childNodes[Me],ne);for(Me=0;Me<W.childNodes.length;Me++)Cr(W.childNodes[Me],ne)}else if(8===W.nodeType){const Me=W.nodeValue.split(".");"o"===Me[0]&&(ne.set(Me[1]+"."+Me[2],W),W.nodeValue="",W["s-en"]=Me[3])}},rr=W=>st.push(W),ii=W=>ke(W).$modeName$,eo=W=>ke(W).$hostElement$,Kt=(W,ne,Me)=>{const Fe=eo(W);return{emit:tt=>qn(Fe,ne,{bubbles:!!(4&Me),composed:!!(2&Me),cancelable:!!(1&Me),detail:tt})}},qn=(W,ne,Me)=>{const Fe=Ht.ce(ne,Me);return W.dispatchEvent(Fe),Fe},zr=new WeakMap,je=(W,ne,Me)=>{var Fe;const tt=kt(ne,Me),Qe=lt.get(tt);if(W=11===W.nodeType?W:Se,Qe)if("string"==typeof Qe){let yt,Qt=zr.get(W=W.head||W);if(Qt||zr.set(W,Qt=new Set),!Qt.has(tt)){if(W.host&&(yt=W.querySelector(`[sty-id="${tt}"]`)))yt.innerHTML=Qe;else{yt=Se.createElement("style"),yt.innerHTML=Qe;const qt=null!=(Fe=Ht.$nonce$)?Fe:sr(Se);null!=qt&&yt.setAttribute("nonce",qt),(!(1&ne.$flags$)||1&ne.$flags$&&"HEAD"!==W.nodeName)&&W.insertBefore(yt,W.querySelector("link"))}4&ne.$flags$&&(yt.innerHTML+=ut),Qt&&Qt.add(tt)}}else W.adoptedStyleSheets.includes(Qe)||(W.adoptedStyleSheets=[...W.adoptedStyleSheets,Qe]);return tt},kt=(W,ne)=>"sc-"+(ne&&32&W.$flags$?W.$tagName$+"-"+ne:W.$tagName$),me=(W,ne,Me,Fe,tt,Qe)=>{if(Me!==Fe){let Qt=ue(W,ne),yt=ne.toLowerCase();if("class"===ne){const qt=W.classList,tn=We(Me),gn=We(Fe);qt.remove(...tn.filter(bn=>bn&&!gn.includes(bn))),qt.add(...gn.filter(bn=>bn&&!tn.includes(bn)))}else if("style"===ne){for(const qt in Me)(!Fe||null==Fe[qt])&&(qt.includes("-")?W.style.removeProperty(qt):W.style[qt]="");for(const qt in Fe)(!Me||Fe[qt]!==Me[qt])&&(qt.includes("-")?W.style.setProperty(qt,Fe[qt]):W.style[qt]=Fe[qt])}else if("key"!==ne)if("ref"===ne)Fe&&Fe(W);else if(Qt||"o"!==ne[0]||"n"!==ne[1]){const qt=Qn(Fe);if((Qt||qt&&null!==Fe)&&!tt)try{if(W.tagName.includes("-"))W[ne]=Fe;else{const gn=null==Fe?"":Fe;"list"===ne?Qt=!1:(null==Me||W[ne]!=gn)&&(W[ne]=gn)}}catch{}let tn=!1;yt!==(yt=yt.replace(/^xlink\:?/,""))&&(ne=yt,tn=!0),null==Fe||!1===Fe?(!1!==Fe||""===W.getAttribute(ne))&&(tn?W.removeAttributeNS(Ct,ne):W.removeAttribute(ne)):(!Qt||4&Qe||tt)&&!qt&&(Fe=!0===Fe?"":Fe,tn?W.setAttributeNS(Ct,ne,Fe):W.setAttribute(ne,Fe))}else if(ne="-"===ne[2]?ne.slice(3):ue(Rt,yt)?yt.slice(2):yt[2]+ne.slice(3),Me||Fe){const qt=ne.endsWith(pe);ne=ne.replace(Te,""),Me&&Ht.rel(W,ne,Me,qt),Fe&&Ht.ael(W,ne,Fe,qt)}}},oe=/\s/,We=W=>W?W.split(oe):[],pe="Capture",Te=new RegExp(pe+"$"),Ke=(W,ne,Me)=>{const Fe=11===ne.$elm$.nodeType&&ne.$elm$.host?ne.$elm$.host:ne.$elm$,tt=W&&W.$attrs$||_n,Qe=ne.$attrs$||_n;for(const Qt of xt(Object.keys(tt)))Qt in Qe||me(Fe,Qt,tt[Qt],void 0,Me,ne.$flags$);for(const Qt of xt(Object.keys(Qe)))me(Fe,Qt,tt[Qt],Qe[Qt],Me,ne.$flags$)};function xt(W){return W.includes("ref")?[...W.filter(ne=>"ref"!==ne),"ref"]:W}var ht,Dn,On,Zr=!1,pi=!1,Nr=!1,Gr=!1,ir=(W,ne,Me,Fe)=>{var tt;const Qe=ne.$children$[Me];let yt,qt,tn,Qt=0;if(Zr||(Nr=!0,"slot"===Qe.$tag$&&(ht&&Fe.classList.add(ht+"-s"),Qe.$flags$|=Qe.$children$?2:1)),null!==Qe.$text$)yt=Qe.$elm$=Se.createTextNode(Qe.$text$);else if(1&Qe.$flags$)yt=Qe.$elm$=Se.createTextNode("");else{if(Gr||(Gr="svg"===Qe.$tag$),yt=Qe.$elm$=Se.createElementNS(Gr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Zr&&2&Qe.$flags$?"slot-fb":Qe.$tag$),Gr&&"foreignObject"===Qe.$tag$&&(Gr=!1),Ke(null,Qe,Gr),!!yt.getRootNode().querySelector("body")&&(W=>null!=W)(ht)&&yt["s-si"]!==ht&&yt.classList.add(yt["s-si"]=ht),Gn(yt,Fe),Qe.$children$)for(Qt=0;Qt<Qe.$children$.length;++Qt)qt=ir(W,Qe,Qt,yt),qt&&yt.appendChild(qt);"svg"===Qe.$tag$?Gr=!1:"foreignObject"===yt.tagName&&(Gr=!0)}return yt["s-hn"]=On,3&Qe.$flags$&&(yt["s-sr"]=!0,yt["s-cr"]=Dn,yt["s-sn"]=Qe.$name$||"",yt["s-rf"]=null==(tt=Qe.$attrs$)?void 0:tt.ref,tn=W&&W.$children$&&W.$children$[Me],tn&&tn.$tag$===Qe.$tag$&&W.$elm$&&Pn(W.$elm$)),yt},Pn=W=>{Ht.$flags$|=1;const ne=W.closest(On.toLowerCase());if(null!=ne){const Me=Array.from(ne.childNodes).find(tt=>tt["s-cr"]),Fe=Array.from(W.childNodes);for(const tt of Me?Fe.reverse():Fe)null!=tt["s-sh"]&&(Gt(ne,tt,null!=Me?Me:null),tt["s-sh"]=void 0,Nr=!0)}Ht.$flags$&=-2},Wr=(W,ne)=>{Ht.$flags$|=1;const Me=Array.from(W.childNodes);if(W["s-sr"]){let Fe=W;for(;Fe=Fe.nextSibling;)Fe&&Fe["s-sn"]===W["s-sn"]&&Fe["s-sh"]===On&&Me.push(Fe)}for(let Fe=Me.length-1;Fe>=0;Fe--){const tt=Me[Fe];tt["s-hn"]!==On&&tt["s-ol"]&&(Gt(vo(tt),tt,pr(tt)),tt["s-ol"].remove(),tt["s-ol"]=void 0,tt["s-sh"]=void 0,Nr=!0),ne&&Wr(tt,ne)}Ht.$flags$&=-2},Hn=(W,ne,Me,Fe,tt,Qe)=>{let yt,Qt=W["s-cr"]&&W["s-cr"].parentNode||W;for(Qt.shadowRoot&&Qt.tagName===On&&(Qt=Qt.shadowRoot);tt<=Qe;++tt)Fe[tt]&&(yt=ir(null,Me,tt,W),yt&&(Fe[tt].$elm$=yt,Gt(Qt,yt,pr(ne))))},Hr=(W,ne,Me)=>{for(let Fe=ne;Fe<=Me;++Fe){const tt=W[Fe];if(tt){const Qe=tt.$elm$;gt(tt),Qe&&(pi=!0,Qe["s-ol"]?Qe["s-ol"].remove():Wr(Qe,!0),Qe.remove())}}},ji=(W,ne,Me=!1)=>!(W.$tag$!==ne.$tag$||("slot"===W.$tag$?"$nodeId$"in W&&Me&&8!==W.$elm$.nodeType||W.$name$!==ne.$name$:!Me&&W.$key$!==ne.$key$)),pr=W=>W&&W["s-ol"]||W,vo=W=>(W["s-ol"]?W["s-ol"]:W).parentNode,Kn=(W,ne,Me=!1)=>{const Fe=ne.$elm$=W.$elm$,tt=W.$children$,Qe=ne.$children$,Qt=ne.$tag$,yt=ne.$text$;let qt;null===yt?(Gr="svg"===Qt||"foreignObject"!==Qt&&Gr,"slot"!==Qt||Zr?Ke(W,ne,Gr):W.$name$!==ne.$name$&&(ne.$elm$["s-sn"]=ne.$name$||"",Pn(ne.$elm$.parentElement)),null!==tt&&null!==Qe?((W,ne,Me,Fe,tt=!1)=>{let oi,wi,Qe=0,Qt=0,yt=0,qt=0,tn=ne.length-1,gn=ne[0],bn=ne[tn],Sn=Fe.length-1,Wn=Fe[0],Pr=Fe[Sn];for(;Qe<=tn&&Qt<=Sn;)if(null==gn)gn=ne[++Qe];else if(null==bn)bn=ne[--tn];else if(null==Wn)Wn=Fe[++Qt];else if(null==Pr)Pr=Fe[--Sn];else if(ji(gn,Wn,tt))Kn(gn,Wn,tt),gn=ne[++Qe],Wn=Fe[++Qt];else if(ji(bn,Pr,tt))Kn(bn,Pr,tt),bn=ne[--tn],Pr=Fe[--Sn];else if(ji(gn,Pr,tt))("slot"===gn.$tag$||"slot"===Pr.$tag$)&&Wr(gn.$elm$.parentNode,!1),Kn(gn,Pr,tt),Gt(W,gn.$elm$,bn.$elm$.nextSibling),gn=ne[++Qe],Pr=Fe[--Sn];else if(ji(bn,Wn,tt))("slot"===gn.$tag$||"slot"===Pr.$tag$)&&Wr(bn.$elm$.parentNode,!1),Kn(bn,Wn,tt),Gt(W,bn.$elm$,gn.$elm$),bn=ne[--tn],Wn=Fe[++Qt];else{for(yt=-1,qt=Qe;qt<=tn;++qt)if(ne[qt]&&null!==ne[qt].$key$&&ne[qt].$key$===Wn.$key$){yt=qt;break}yt>=0?(wi=ne[yt],wi.$tag$!==Wn.$tag$?oi=ir(ne&&ne[Qt],Me,yt,W):(Kn(wi,Wn,tt),ne[yt]=void 0,oi=wi.$elm$),Wn=Fe[++Qt]):(oi=ir(ne&&ne[Qt],Me,Qt,W),Wn=Fe[++Qt]),oi&&Gt(vo(gn.$elm$),oi,pr(gn.$elm$))}Qe>tn?Hn(W,null==Fe[Sn+1]?null:Fe[Sn+1].$elm$,Me,Fe,Qt,Sn):Qt>Sn&&Hr(ne,Qe,tn)})(Fe,tt,ne,Qe,Me):null!==Qe?(null!==W.$text$&&(Fe.textContent=""),Hn(Fe,null,ne,Qe,0,Qe.length-1)):!Me&&null!==tt&&Hr(tt,0,tt.length-1),Gr&&"svg"===Qt&&(Gr=!1)):(qt=Fe["s-cr"])?qt.parentNode.textContent=yt:W.$text$!==yt&&(Fe.data=yt)},$e=W=>{const ne=W.childNodes;for(const Me of ne)if(1===Me.nodeType){if(Me["s-sr"]){const Fe=Me["s-sn"];Me.hidden=!1;for(const tt of ne)if(tt!==Me)if(tt["s-hn"]!==Me["s-hn"]||""!==Fe){if(1===tt.nodeType&&(Fe===tt.getAttribute("slot")||Fe===tt["s-sn"])||3===tt.nodeType&&Fe===tt["s-sn"]){Me.hidden=!0;break}}else if(1===tt.nodeType||3===tt.nodeType&&""!==tt.textContent.trim()){Me.hidden=!0;break}}$e(Me)}},it=[],zt=W=>{let ne,Me,Fe;for(const tt of W.childNodes){if(tt["s-sr"]&&(ne=tt["s-cr"])&&ne.parentNode){Me=ne.parentNode.childNodes;const Qe=tt["s-sn"];for(Fe=Me.length-1;Fe>=0;Fe--)if(ne=Me[Fe],!(ne["s-cn"]||ne["s-nr"]||ne["s-hn"]===tt["s-hn"]||ne["s-sh"]&&ne["s-sh"]===tt["s-hn"]))if(yn(ne,Qe)){let Qt=it.find(yt=>yt.$nodeToRelocate$===ne);pi=!0,ne["s-sn"]=ne["s-sn"]||Qe,Qt?(Qt.$nodeToRelocate$["s-sh"]=tt["s-hn"],Qt.$slotRefNode$=tt):(ne["s-sh"]=tt["s-hn"],it.push({$slotRefNode$:tt,$nodeToRelocate$:ne})),ne["s-sr"]&&it.map(yt=>{yn(yt.$nodeToRelocate$,ne["s-sn"])&&(Qt=it.find(qt=>qt.$nodeToRelocate$===ne),Qt&&!yt.$slotRefNode$&&(yt.$slotRefNode$=Qt.$slotRefNode$))})}else it.some(Qt=>Qt.$nodeToRelocate$===ne)||it.push({$nodeToRelocate$:ne})}1===tt.nodeType&&zt(tt)}},yn=(W,ne)=>1===W.nodeType?null===W.getAttribute("slot")&&""===ne||W.getAttribute("slot")===ne:W["s-sn"]===ne||""===ne,gt=W=>{W.$attrs$&&W.$attrs$.ref&&W.$attrs$.ref(null),W.$children$&&W.$children$.map(gt)},Gt=(W,ne,Me)=>{const Fe=null==W?void 0:W.insertBefore(ne,Me);return Gn(ne,W),Fe},vn=W=>{const ne=[];return W&&ne.push(...W["s-scs"]||[],W["s-si"],W["s-sc"],...vn(W.parentElement)),ne},Gn=(W,ne,Me=!1)=>{var Fe;if(W&&ne&&1===W.nodeType){const tt=new Set(vn(ne).filter(Boolean));if(tt.size&&(null==(Fe=W.classList)||Fe.add(...W["s-scs"]=[...tt]),W["s-ol"]||Me))for(const Qe of Array.from(W.childNodes))Gn(Qe,W,!0)}},se=(W,ne)=>{ne&&!W.$onRenderResolve$&&ne["s-p"]&&ne["s-p"].push(new Promise(Me=>W.$onRenderResolve$=Me))},Ae=(W,ne)=>{if(W.$flags$|=16,!(4&W.$flags$))return se(W,W.$ancestorComponent$),Ln(()=>Ze(W,ne));W.$flags$|=512},Ze=(W,ne)=>{const tt=W.$lazyInstance$;if(!tt)throw new Error(`Can't render component <${W.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let Qe;return ne&&(W.$flags$|=256,W.$queuedListeners$&&(W.$queuedListeners$.map(([Qt,yt])=>Kr(tt,Qt,yt)),W.$queuedListeners$=void 0),Qe=Kr(tt,"componentWillLoad")),Qe=ct(Qe,()=>Kr(tt,"componentWillRender")),ct(Qe,()=>sn(W,tt,ne))},ct=(W,ne)=>Mt(W)?W.then(ne).catch(Me=>{console.error(Me),ne()}):ne(),Mt=W=>W instanceof Promise||W&&W.then&&"function"==typeof W.then,sn=function(){var W=(0,c.A)(function*(ne,Me,Fe){var tt;const Qe=ne.$hostElement$,yt=Qe["s-rc"];Fe&&(W=>{const ne=W.$cmpMeta$,Me=W.$hostElement$,Fe=ne.$flags$,Qe=je(Me.shadowRoot?Me.shadowRoot:Me.getRootNode(),ne,W.$modeName$);10&Fe&&2&Fe&&(Me["s-sc"]=Qe,Me.classList.add(Qe+"-h"),2&Fe&&Me.classList.add(Qe+"-s"))})(ne);wn(ne,Me,Qe,Fe),yt&&(yt.map(tn=>tn()),Qe["s-rc"]=void 0);{const tn=null!=(tt=Qe["s-p"])?tt:[],gn=()=>Le(ne);0===tn.length?gn():(Promise.all(tn).then(gn),ne.$flags$|=4,tn.length=0)}});return function(Me,Fe,tt){return W.apply(this,arguments)}}(),wn=(W,ne,Me,Fe)=>{try{ne=ne.render&&ne.render(),W.$flags$&=-17,W.$flags$|=2,((W,ne,Me=!1)=>{var Fe,tt,Qe,Qt,yt;const qt=W.$hostElement$,tn=W.$cmpMeta$,gn=W.$vnode$||Mn(null,null),bn=(W=>W&&W.$tag$===$n)(ne)?ne:mr(null,null,ne);if(On=qt.tagName,tn.$attrsToReflect$&&(bn.$attrs$=bn.$attrs$||{},tn.$attrsToReflect$.map(([Sn,Wn])=>bn.$attrs$[Wn]=qt[Sn])),Me&&bn.$attrs$)for(const Sn of Object.keys(bn.$attrs$))qt.hasAttribute(Sn)&&!["key","ref","style","class"].includes(Sn)&&(bn.$attrs$[Sn]=qt[Sn]);if(bn.$tag$=null,bn.$flags$|=4,W.$vnode$=bn,bn.$elm$=gn.$elm$=qt.shadowRoot||qt,ht=qt["s-sc"],Zr=!!(1&tn.$flags$),Dn=qt["s-cr"],pi=!1,Kn(gn,bn,Me),Ht.$flags$|=1,Nr){zt(bn.$elm$);for(const Sn of it){const Wn=Sn.$nodeToRelocate$;if(!Wn["s-ol"]){const Pr=Se.createTextNode("");Pr["s-nr"]=Wn,Gt(Wn.parentNode,Wn["s-ol"]=Pr,Wn)}}for(const Sn of it){const Wn=Sn.$nodeToRelocate$,Pr=Sn.$slotRefNode$;if(Pr){const oi=Pr.parentNode;let wi=Pr.nextSibling;if(wi&&1===wi.nodeType){let ar=null==(Fe=Wn["s-ol"])?void 0:Fe.previousSibling;for(;ar;){let mi=null!=(tt=ar["s-nr"])?tt:null;if(mi&&mi["s-sn"]===Wn["s-sn"]&&oi===mi.parentNode){for(mi=mi.nextSibling;mi===Wn||null!=mi&&mi["s-sr"];)mi=null==mi?void 0:mi.nextSibling;if(!mi||!mi["s-nr"]){wi=mi;break}}ar=ar.previousSibling}}(!wi&&oi!==Wn.parentNode||Wn.nextSibling!==wi)&&Wn!==wi&&(Gt(oi,Wn,wi),1===Wn.nodeType&&(Wn.hidden=null!=(Qe=Wn["s-ih"])&&Qe)),Wn&&"function"==typeof Pr["s-rf"]&&Pr["s-rf"](Wn)}else 1===Wn.nodeType&&(Me&&(Wn["s-ih"]=null!=(Qt=Wn.hidden)&&Qt),Wn.hidden=!0)}}if(pi&&$e(bn.$elm$),Ht.$flags$&=-2,it.length=0,2&tn.$flags$)for(const Sn of bn.$elm$.childNodes)Sn["s-hn"]!==On&&!Sn["s-sh"]&&(Me&&null==Sn["s-ih"]&&(Sn["s-ih"]=null!=(yt=Sn.hidden)&&yt),Sn.hidden=!0);Dn=void 0})(W,ne,Fe)}catch(tt){Ue(tt,W.$hostElement$)}return null},Le=W=>{const Me=W.$hostElement$,tt=W.$lazyInstance$,Qe=W.$ancestorComponent$;Kr(tt,"componentDidRender"),64&W.$flags$?Kr(tt,"componentDidUpdate"):(W.$flags$|=64,Li(Me),Kr(tt,"componentDidLoad"),W.$onReadyResolve$(Me),Qe||jn()),W.$onInstanceResolve$(Me),W.$onRenderResolve$&&(W.$onRenderResolve$(),W.$onRenderResolve$=void 0),512&W.$flags$&&ot(()=>Ae(W,!1)),W.$flags$&=-517},ur=W=>{{const ne=ke(W),Me=ne.$hostElement$.isConnected;return Me&&2==(18&ne.$flags$)&&Ae(ne,!1),Me}},jn=W=>{Li(Se.documentElement),ot(()=>qn(Rt,"appload",{detail:{namespace:"ionic"}}))},Kr=(W,ne,Me)=>{if(W&&W[ne])try{return W[ne](Me)}catch(Fe){Ue(Fe)}},Li=W=>W.classList.add("hydrated"),gi=(W,ne,Me)=>{var Fe,tt;const Qe=W.prototype;if(ne.$members$||ne.$watchers$||W.watchers){W.watchers&&!ne.$watchers$&&(ne.$watchers$=W.watchers);const Qt=Object.entries(null!=(Fe=ne.$members$)?Fe:{});if(Qt.map(([yt,[qt]])=>{31&qt||2&Me&&32&qt?Object.defineProperty(Qe,yt,{get(){return((W,ne)=>ke(this).$instanceValues$.get(ne))(0,yt)},set(tn){((W,ne,Me,Fe)=>{const tt=ke(W);if(!tt)throw new Error(`Couldn't find host element for "${Fe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const Qe=tt.$hostElement$,Qt=tt.$instanceValues$.get(ne),yt=tt.$flags$,qt=tt.$lazyInstance$;Me=((W,ne)=>null==W||Qn(W)?W:4&ne?"false"!==W&&(""===W||!!W):2&ne?parseFloat(W):1&ne?String(W):W)(Me,Fe.$members$[ne][0]);const tn=Number.isNaN(Qt)&&Number.isNaN(Me);if((!(8&yt)||void 0===Qt)&&Me!==Qt&&!tn&&(tt.$instanceValues$.set(ne,Me),qt)){if(Fe.$watchers$&&128&yt){const bn=Fe.$watchers$[ne];bn&&bn.map(Sn=>{try{qt[Sn](Me,Qt,ne)}catch(Wn){Ue(Wn,Qe)}})}2==(18&yt)&&Ae(tt,!1)}})(this,yt,tn,ne)},configurable:!0,enumerable:!0}):1&Me&&64&qt&&Object.defineProperty(Qe,yt,{value(...tn){var gn;const bn=ke(this);return null==(gn=null==bn?void 0:bn.$onInstancePromise$)?void 0:gn.then(()=>{var Sn;return null==(Sn=bn.$lazyInstance$)?void 0:Sn[yt](...tn)})}})}),1&Me){const yt=new Map;Qe.attributeChangedCallback=function(qt,tn,gn){Ht.jmp(()=>{var bn;const Sn=yt.get(qt);if(this.hasOwnProperty(Sn))gn=this[Sn],delete this[Sn];else{if(Qe.hasOwnProperty(Sn)&&"number"==typeof this[Sn]&&this[Sn]==gn)return;if(null==Sn){const Wn=ke(this),Pr=null==Wn?void 0:Wn.$flags$;if(Pr&&!(8&Pr)&&128&Pr&&gn!==tn){const oi=Wn.$lazyInstance$,wi=null==(bn=ne.$watchers$)?void 0:bn[qt];null==wi||wi.forEach(ar=>{null!=oi[ar]&&oi[ar].call(oi,gn,tn,qt)})}return}}this[Sn]=(null!==gn||"boolean"!=typeof this[Sn])&&gn})},W.observedAttributes=Array.from(new Set([...Object.keys(null!=(tt=ne.$watchers$)?tt:{}),...Qt.filter(([qt,tn])=>15&tn[0]).map(([qt,tn])=>{var gn;const bn=tn[1]||qt;return yt.set(bn,qt),512&tn[0]&&(null==(gn=ne.$attrsToReflect$)||gn.push([qt,bn])),bn})]))}}return W},ti=function(){var W=(0,c.A)(function*(ne,Me,Fe,tt){let Qe;if(!(32&Me.$flags$)){if(Me.$flags$|=32,Fe.$lazyBundleId$){const tn=(W=>{const Fe=W.$tagName$.replace(/-/g,"_"),tt=W.$lazyBundleId$;if(!tt)return;const Qe=xe.get(tt);return Qe?Qe[Fe]:$(8996)(`./${tt}.entry.js`).then(Qt=>(xe.set(tt,Qt),Qt[Fe]),Ue)})(Fe);if(tn&&"then"in tn){const bn=()=>{};Qe=yield tn,bn()}else Qe=tn;if(!Qe)throw new Error(`Constructor for "${Fe.$tagName$}#${Me.$modeName$}" was not found`);Qe.isProxied||(Fe.$watchers$=Qe.watchers,gi(Qe,Fe,2),Qe.isProxied=!0);const gn=()=>{};Me.$flags$|=8;try{new Qe(Me)}catch(bn){Ue(bn)}Me.$flags$&=-9,Me.$flags$|=128,gn(),Rr(Me.$lazyInstance$)}else Qe=ne.constructor,customElements.whenDefined(ne.localName).then(()=>Me.$flags$|=128);if(Qe&&Qe.style){let tn;"string"==typeof Qe.style?tn=Qe.style:"string"!=typeof Qe.style&&(Me.$modeName$=(W=>st.map(ne=>ne(W)).find(ne=>!!ne))(ne),Me.$modeName$&&(tn=Qe.style[Me.$modeName$]));const gn=kt(Fe,Me.$modeName$);if(!lt.has(gn)){const bn=()=>{};((W,ne,Me)=>{let Fe=lt.get(W);_e&&Me?(Fe=Fe||new CSSStyleSheet,"string"==typeof Fe?Fe=ne:Fe.replaceSync(ne)):Fe=ne,lt.set(W,Fe)})(gn,tn,!!(1&Fe.$flags$)),bn()}}}const Qt=Me.$ancestorComponent$,yt=()=>Ae(Me,!0);Qt&&Qt["s-rc"]?Qt["s-rc"].push(yt):yt()});return function(Me,Fe,tt,Qe){return W.apply(this,arguments)}}(),Rr=W=>{Kr(W,"connectedCallback")},Di=W=>{const ne=W["s-cr"]=Se.createComment("");ne["s-cn"]=!0,Gt(W,ne,W.firstChild)},Xr=W=>{Kr(W,"disconnectedCallback")},qr=function(){var W=(0,c.A)(function*(ne){if(!(1&Ht.$flags$)){const Me=ke(ne);Me.$rmListeners$&&(Me.$rmListeners$.map(Fe=>Fe()),Me.$rmListeners$=void 0),null!=Me&&Me.$lazyInstance$?Xr(Me.$lazyInstance$):null!=Me&&Me.$onReadyPromise$&&Me.$onReadyPromise$.then(()=>Xr(Me.$lazyInstance$))}});return function(Me){return W.apply(this,arguments)}}(),vr=W=>{const ne=W.cloneNode;W.cloneNode=function(Me){const Fe=this,tt=Fe.shadowRoot&&true,Qe=ne.call(Fe,!!tt&&Me);if(!tt&&Me){let yt,qt,Qt=0;const tn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Qt<Fe.childNodes.length;Qt++)yt=Fe.childNodes[Qt]["s-nr"],qt=tn.every(gn=>!Fe.childNodes[Qt][gn]),yt&&(Qe.__appendChild?Qe.__appendChild(yt.cloneNode(!0)):Qe.appendChild(yt.cloneNode(!0))),qt&&Qe.appendChild(Fe.childNodes[Qt].cloneNode(!0))}return Qe}},fs=W=>{W.__appendChild=W.appendChild,W.appendChild=function(ne){const Me=ne["s-sn"]=ps(ne),Fe=is(this.childNodes,Me,this.tagName);if(Fe){const tt=ca(Fe,Me),Qe=tt[tt.length-1],Qt=Gt(Qe.parentNode,ne,Qe.nextSibling);return $e(this),Qt}return this.__appendChild(ne)}},Mi=W=>{W.__removeChild=W.removeChild,W.removeChild=function(ne){if(ne&&typeof ne["s-sn"]<"u"){const Me=is(this.childNodes,ne["s-sn"],this.tagName);if(Me){const tt=ca(Me,ne["s-sn"]).find(Qe=>Qe===ne);if(tt)return tt.remove(),void $e(this)}}return this.__removeChild(ne)}},Go=W=>{const ne=W.prepend;W.prepend=function(...Me){Me.forEach(Fe=>{"string"==typeof Fe&&(Fe=this.ownerDocument.createTextNode(Fe));const tt=Fe["s-sn"]=ps(Fe),Qe=is(this.childNodes,tt,this.tagName);if(Qe){const Qt=document.createTextNode("");Qt["s-nr"]=Fe,Qe["s-cr"].parentNode.__appendChild(Qt),Fe["s-ol"]=Qt;const qt=ca(Qe,tt)[0];return Gt(qt.parentNode,Fe,qt.nextSibling)}return 1===Fe.nodeType&&Fe.getAttribute("slot")&&(Fe.hidden=!0),ne.call(this,Fe)})}},So=W=>{W.append=function(...ne){ne.forEach(Me=>{"string"==typeof Me&&(Me=this.ownerDocument.createTextNode(Me)),this.appendChild(Me)})}},Gi=W=>{const ne=W.insertAdjacentHTML;W.insertAdjacentHTML=function(Me,Fe){if("afterbegin"!==Me&&"beforeend"!==Me)return ne.call(this,Me,Fe);const tt=this.ownerDocument.createElement("_");let Qe;if(tt.innerHTML=Fe,"afterbegin"===Me)for(;Qe=tt.firstChild;)this.prepend(Qe);else if("beforeend"===Me)for(;Qe=tt.firstChild;)this.append(Qe)}},ko=W=>{W.insertAdjacentText=function(ne,Me){this.insertAdjacentHTML(ne,Me)}},Mr=W=>{const ne=W.insertAdjacentElement;W.insertAdjacentElement=function(Me,Fe){return"afterbegin"!==Me&&"beforeend"!==Me?ne.call(this,Me,Fe):"afterbegin"===Me?(this.prepend(Fe),Fe):("beforeend"===Me&&this.append(Fe),Fe)}},Fo=W=>{const ne=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(W,"__textContent",ne),Object.defineProperty(W,"textContent",{get(){return" "+Wi(this.childNodes).map(tt=>{var Qe,Qt;const yt=[];let qt=tt.nextSibling;for(;qt&&qt["s-sn"]===tt["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&yt.push(null!=(Qt=null==(Qe=qt.textContent)?void 0:Qe.trim())?Qt:""),qt=qt.nextSibling;return yt.filter(tn=>""!==tn).join(" ")}).filter(tt=>""!==tt).join(" ")+" "},set(Me){Wi(this.childNodes).forEach(tt=>{let Qe=tt.nextSibling;for(;Qe&&Qe["s-sn"]===tt["s-sn"];){const Qt=Qe;Qe=Qe.nextSibling,Qt.remove()}if(""===tt["s-sn"]){const Qt=this.ownerDocument.createTextNode(Me);Qt["s-sn"]="",Gt(tt.parentElement,Qt,tt.nextSibling)}else tt.remove()})}})},rs=(W,ne)=>{class Me extends Array{item(tt){return this[tt]}}if(8&ne.$flags$){const Fe=W.__lookupGetter__("childNodes");Object.defineProperty(W,"children",{get(){return this.childNodes.map(tt=>1===tt.nodeType)}}),Object.defineProperty(W,"childElementCount",{get:()=>W.children.length}),Object.defineProperty(W,"childNodes",{get(){const tt=Fe.call(this);if(!(1&Ht.$flags$)&&2&ke(this).$flags$){const Qe=new Me;for(let Qt=0;Qt<tt.length;Qt++){const yt=tt[Qt]["s-nr"];yt&&Qe.push(yt)}return Qe}return Me.from(tt)}})}},Wi=W=>{const ne=[];for(const Me of Array.from(W))Me["s-sr"]&&ne.push(Me),ne.push(...Wi(Me.childNodes));return ne},ps=W=>W["s-sn"]||1===W.nodeType&&W.getAttribute("slot")||"",is=(W,ne,Me)=>{let tt,Fe=0;for(;Fe<W.length;Fe++)if(tt=W[Fe],tt["s-sr"]&&tt["s-sn"]===ne&&tt["s-hn"]===Me||(tt=is(tt.childNodes,ne,Me),tt))return tt;return null},ca=(W,ne)=>{const Me=[W];for(;(W=W.nextSibling)&&W["s-sn"]===ne;)Me.push(W);return Me},kr=(W,ne={})=>{var Me;const tt=[],Qe=ne.exclude||[],Qt=Rt.customElements,yt=Se.head,qt=yt.querySelector("meta[charset]"),tn=Se.createElement("style"),gn=[];let bn,Sn=!0;Object.assign(Ht,ne),Ht.$resourcesUrl$=new URL(ne.resourcesUrl||"./",Se.baseURI).href,Ht.$flags$|=2;let Wn=!1;if(W.map(Pr=>{Pr[1].map(oi=>{var wi;const ar={$flags$:oi[0],$tagName$:oi[1],$members$:oi[2],$listeners$:oi[3]};4&ar.$flags$&&(Wn=!0),ar.$members$=oi[2],ar.$listeners$=oi[3],ar.$attrsToReflect$=[],ar.$watchers$=null!=(wi=oi[4])?wi:{};const mi=ar.$tagName$,fi=class extends HTMLElement{constructor(xr){if(super(xr),this.hasRegisteredEventListeners=!1,((W,ne)=>{const Me={$flags$:0,$hostElement$:W,$cmpMeta$:ne,$instanceValues$:new Map};Me.$onInstancePromise$=new Promise(Fe=>Me.$onInstanceResolve$=Fe),Me.$onReadyPromise$=new Promise(Fe=>Me.$onReadyResolve$=Fe),W["s-p"]=[],W["s-rc"]=[],be.set(W,Me)})(xr=this,ar),1&ar.$flags$)if(xr.shadowRoot){if("open"!==xr.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${ar.$tagName$}! Mode is set to ${xr.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else xr.attachShadow({mode:"open",delegatesFocus:!!(16&ar.$flags$)})}connectedCallback(){const xr=ke(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Ki(this,xr,ar.$listeners$)),bn&&(clearTimeout(bn),bn=null),Sn?gn.push(this):Ht.jmp(()=>(W=>{if(!(1&Ht.$flags$)){const ne=ke(W),Me=ne.$cmpMeta$,Fe=()=>{};if(1&ne.$flags$)Ki(W,ne,Me.$listeners$),null!=ne&&ne.$lazyInstance$?Rr(ne.$lazyInstance$):null!=ne&&ne.$onReadyPromise$&&ne.$onReadyPromise$.then(()=>Rr(ne.$lazyInstance$));else{let tt;if(ne.$flags$|=1,tt=W.getAttribute(pt),tt){if(1&Me.$flags$){const Qe=je(W.shadowRoot,Me,W.getAttribute("s-mode"));W.classList.remove(Qe+"-h",Qe+"-s")}((W,ne,Me,Fe)=>{const Qe=W.shadowRoot,Qt=[],qt=Qe?[]:null,tn=Fe.$vnode$=Mn(ne,null);Ht.$orgLocNodes$||Cr(Se.body,Ht.$orgLocNodes$=new Map),W[pt]=Me,W.removeAttribute(pt),di(tn,Qt,[],qt,W,W,Me),Qt.map(gn=>{const bn=gn.$hostId$+"."+gn.$nodeId$,Sn=Ht.$orgLocNodes$.get(bn),Wn=gn.$elm$;Sn&&""===Sn["s-en"]&&Sn.parentNode.insertBefore(Wn,Sn.nextSibling),Qe||(Wn["s-hn"]=ne,Sn&&(Wn["s-ol"]=Sn,Wn["s-ol"]["s-nr"]=Wn)),Ht.$orgLocNodes$.delete(bn)}),Qe&&qt.map(gn=>{gn&&Qe.appendChild(gn)})})(W,Me.$tagName$,tt,ne)}tt||12&Me.$flags$&&Di(W);{let Qe=W;for(;Qe=Qe.parentNode||Qe.host;)if(1===Qe.nodeType&&Qe.hasAttribute("s-id")&&Qe["s-p"]||Qe["s-p"]){se(ne,ne.$ancestorComponent$=Qe);break}}Me.$members$&&Object.entries(Me.$members$).map(([Qe,[Qt]])=>{if(31&Qt&&W.hasOwnProperty(Qe)){const yt=W[Qe];delete W[Qe],W[Qe]=yt}}),ti(W,ne,Me)}Fe()}})(this))}disconnectedCallback(){Ht.jmp(()=>qr(this))}componentOnReady(){return ke(this).$onReadyPromise$}};2&ar.$flags$&&((W,ne)=>{vr(W),fs(W),So(W),Go(W),Mr(W),Gi(W),ko(W),Fo(W),rs(W,ne),Mi(W)})(fi.prototype,ar),ar.$lazyBundleId$=Pr[0],!Qe.includes(mi)&&!Qt.get(mi)&&(tt.push(mi),Qt.define(mi,gi(fi,ar,1)))})}),tt.length>0&&(Wn&&(tn.textContent+=ut),tn.textContent+=tt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",tn.innerHTML.length)){tn.setAttribute("data-styles","");const Pr=null!=(Me=Ht.$nonce$)?Me:sr(Se);null!=Pr&&tn.setAttribute("nonce",Pr),yt.insertBefore(tn,qt?qt.nextSibling:yt.firstChild)}Sn=!1,gn.length?gn.map(Pr=>Pr.connectedCallback()):Ht.jmp(()=>bn=setTimeout(jn,30))},Ki=(W,ne,Me,Fe)=>{Me&&Me.map(([tt,Qe,Qt])=>{const yt=gs(W,tt),qt=Cn(ne,Qt),tn=Hs(tt);Ht.ael(yt,Qe,qt,tn),(ne.$rmListeners$=ne.$rmListeners$||[]).push(()=>Ht.rel(yt,Qe,qt,tn))})},Cn=(W,ne)=>Me=>{var Fe;try{256&W.$flags$?null==(Fe=W.$lazyInstance$)||Fe[ne](Me):(W.$queuedListeners$=W.$queuedListeners$||[]).push([ne,Me])}catch(tt){Ue(tt)}},gs=(W,ne)=>4&ne?Se:8&ne?Rt:16&ne?Se.body:W,Hs=W=>kn?{passive:!!(1&W),capture:!!(2&W)}:!!(2&W)},8607:(An,ft,$)=>{"use strict";$.r(ft),$.d(ft,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>ze});var c=$(1970);const f=(xe,Oe,lt,st)=>{const et=he(xe)?{capture:!!st.capture,passive:!!st.passive}:!!st.capture;let Ye,vt;return xe.__zone_symbol__addEventListener?(Ye="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(Ye="addEventListener",vt="removeEventListener"),xe[Ye](Oe,lt,et),()=>{xe[vt](Oe,lt,et)}},he=xe=>{if(void 0===ae)try{const Oe=Object.defineProperty({},"passive",{get:()=>{ae=!0}});xe.addEventListener("optsTest",()=>{},Oe)}catch{ae=!1}return!!ae};let ae;const be=xe=>xe instanceof Document?xe:xe.ownerDocument,ze=xe=>{let Oe=!1,lt=!1,st=!0,et=!1;const Ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},xe),vt=Ye.canStart,dt=Ye.onWillStart,pt=Ye.onStart,ve=Ye.onEnd,we=Ye.notCaptured,rt=Ye.onMove,ut=Ye.threshold,Ct=Ye.passive,Rt=Ye.blurOnStart,Se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Wt=((xe,Oe,lt)=>{const st=lt*(Math.PI/180),et="x"===xe,Ye=Math.cos(st),vt=Oe*Oe;let dt=0,pt=0,ve=!1,we=0;return{start(rt,ut){dt=rt,pt=ut,we=0,ve=!0},detect(rt,ut){if(!ve)return!1;const Ct=rt-dt,Rt=ut-pt,Se=Ct*Ct+Rt*Rt;if(Se<vt)return!1;const Wt=Math.sqrt(Se),Ht=(et?Ct:Rt)/Wt;return we=Ht>Ye?1:Ht<-Ye?-1:0,ve=!1,!0},isGesture:()=>0!==we,getDirection:()=>we}})(Ye.direction,Ye.threshold,Ye.maxAngle),Ht=c.G.createGesture({name:xe.gestureName,priority:xe.gesturePriority,disableScroll:xe.disableScroll}),kn=()=>{Oe&&(et=!1,rt&&rt(Se))},Pt=()=>!!Ht.capture()&&(Oe=!0,st=!1,Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime,dt?dt(Se).then(Ee):Ee(),!0),Ee=()=>{Rt&&(()=>{if(typeof document<"u"){const Je=document.activeElement;null!=Je&&Je.blur&&Je.blur()}})(),pt&&pt(Se),st=!0},X=()=>{Oe=!1,lt=!1,et=!1,st=!0,Ht.release()},Y=Je=>{const ot=Oe,$t=st;if(X(),$t){if(Ie(Se,Je),ot)return void(ve&&ve(Se));we&&we(Se)}},De=((xe,Oe,lt,st,et)=>{let Ye,vt,dt,pt,ve,we,rt,ut=0;const Ct=_e=>{ut=Date.now()+2e3,Oe(_e)&&(!vt&&lt&&(vt=f(xe,"touchmove",lt,et)),dt||(dt=f(_e.target,"touchend",Se,et)),pt||(pt=f(_e.target,"touchcancel",Se,et)))},Rt=_e=>{ut>Date.now()||Oe(_e)&&(!we&&lt&&(we=f(be(xe),"mousemove",lt,et)),rt||(rt=f(be(xe),"mouseup",Wt,et)))},Se=_e=>{Ht(),st&&st(_e)},Wt=_e=>{pn(),st&&st(_e)},Ht=()=>{vt&&vt(),dt&&dt(),pt&&pt(),vt=dt=pt=void 0},pn=()=>{we&&we(),rt&&rt(),we=rt=void 0},on=()=>{Ht(),pn()},kn=(_e=!0)=>{_e?(Ye||(Ye=f(xe,"touchstart",Ct,et)),ve||(ve=f(xe,"mousedown",Rt,et))):(Ye&&Ye(),ve&&ve(),Ye=ve=void 0,on())};return{enable:kn,stop:on,destroy:()=>{kn(!1),st=lt=Oe=void 0}}})(Ye.el,Je=>{const ot=Ue(Je);return!(lt||!st||(ue(Je,Se),Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime=ot,Se.velocityX=Se.velocityY=Se.deltaX=Se.deltaY=0,Se.event=Je,vt&&!1===vt(Se))||(Ht.release(),!Ht.start()))&&(lt=!0,0===ut?Pt():(Wt.start(Se.startX,Se.startY),!0))},Je=>{Oe?!et&&st&&(et=!0,Ie(Se,Je),requestAnimationFrame(kn)):(Ie(Se,Je),Wt.detect(Se.currentX,Se.currentY)&&(!Wt.isGesture()||!Pt())&&qe())},Y,{capture:!1,passive:Ct}),qe=()=>{X(),De.stop(),we&&we(Se)};return{enable(Je=!0){Je||(Oe&&Y(void 0),X()),De.enable(Je)},destroy(){Ht.destroy(),De.destroy()}}},Ie=(xe,Oe)=>{if(!Oe)return;const lt=xe.currentX,st=xe.currentY,et=xe.currentTime;ue(Oe,xe);const Ye=xe.currentX,vt=xe.currentY,pt=(xe.currentTime=Ue(Oe))-et;if(pt>0&&pt<100){const we=(vt-st)/pt;xe.velocityX=(Ye-lt)/pt*.7+.3*xe.velocityX,xe.velocityY=.7*we+.3*xe.velocityY}xe.deltaX=Ye-xe.startX,xe.deltaY=vt-xe.startY,xe.event=Oe},ue=(xe,Oe)=>{let lt=0,st=0;if(xe){const et=xe.changedTouches;if(et&&et.length>0){const Ye=et[0];lt=Ye.clientX,st=Ye.clientY}else void 0!==xe.pageX&&(lt=xe.pageX,st=xe.pageY)}Oe.currentX=lt,Oe.currentY=st},Ue=xe=>xe.timeStamp||Date.now()},3604:(An,ft,$)=>{"use strict";$.d(ft,{b:()=>ke,c:()=>ze,d:()=>Ie,e:()=>on,g:()=>_e,l:()=>Ht,s:()=>kn,t:()=>Ye,w:()=>pn});var c=$(467),f=$(9483),he=$(4261),ae=$(4929),ye=$(4920);const ke="ionViewWillLeave",ze="ionViewDidLeave",Ie="ionViewWillUnload",ue=Ee=>{Ee.tabIndex=-1,Ee.focus()},Ue=Ee=>null!==Ee.offsetParent,Oe="ion-last-focus",et_saveViewFocus=Y=>{if(f.c.get("focusManagerPriority",!1)){const qe=document.activeElement;null!==qe&&null!=Y&&Y.contains(qe)&&qe.setAttribute(Oe,"true")}},et_setViewFocus=Y=>{const De=f.c.get("focusManagerPriority",!1);if(Array.isArray(De)&&!Y.contains(document.activeElement)){const qe=Y.querySelector(`[${Oe}]`);if(qe&&Ue(qe))return void ue(qe);for(const Je of De)switch(Je){case"content":const ot=Y.querySelector('main, [role="main"]');if(ot&&Ue(ot))return void ue(ot);break;case"heading":const $t=Y.querySelector('h1, [role="heading"][aria-level="1"]');if($t&&Ue($t))return void ue($t);break;case"banner":const Ln=Y.querySelector('header, [role="banner"]');if(Ln&&Ue(Ln))return void ue(Ln);break;default:(0,ae.p)(`Unrecognized focus manager priority value ${Je}`)}ue(Y)}},Ye=Ee=>new Promise((X,Y)=>{(0,he.w)(()=>{vt(Ee),dt(Ee).then(De=>{De.animation&&De.animation.destroy(),pt(Ee),X(De)},De=>{pt(Ee),Y(De)})})}),vt=Ee=>{const X=Ee.enteringEl,Y=Ee.leavingEl;et_saveViewFocus(Y),Pt(X,Y,Ee.direction),Ee.showGoBack?X.classList.add("can-go-back"):X.classList.remove("can-go-back"),kn(X,!1),X.style.setProperty("pointer-events","none"),Y&&(kn(Y,!1),Y.style.setProperty("pointer-events","none"))},dt=function(){var Ee=(0,c.A)(function*(X){const Y=yield ve(X);return Y&&he.B.isBrowser?we(Y,X):rt(X)});return function(Y){return Ee.apply(this,arguments)}}(),pt=Ee=>{const X=Ee.enteringEl,Y=Ee.leavingEl;X.classList.remove("ion-page-invisible"),X.style.removeProperty("pointer-events"),void 0!==Y&&(Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events")),et_setViewFocus(X)},ve=function(){var Ee=(0,c.A)(function*(X){return X.leavingEl&&X.animated&&0!==X.duration?X.animationBuilder?X.animationBuilder:"ios"===X.mode?(yield Promise.resolve().then($.bind($,5022))).iosTransitionAnimation:(yield Promise.resolve().then($.bind($,3615))).mdTransitionAnimation:void 0});return function(Y){return Ee.apply(this,arguments)}}(),we=function(){var Ee=(0,c.A)(function*(X,Y){yield ut(Y,!0);const De=X(Y.baseEl,Y);Se(Y.enteringEl,Y.leavingEl);const qe=yield Rt(De,Y);return Y.progressCallback&&Y.progressCallback(void 0),qe&&Wt(Y.enteringEl,Y.leavingEl),{hasCompleted:qe,animation:De}});return function(Y,De){return Ee.apply(this,arguments)}}(),rt=function(){var Ee=(0,c.A)(function*(X){const Y=X.enteringEl,De=X.leavingEl,qe=f.c.get("focusManagerPriority",!1);return yield ut(X,qe),Se(Y,De),Wt(Y,De),{hasCompleted:!0}});return function(Y){return Ee.apply(this,arguments)}}(),ut=function(){var Ee=(0,c.A)(function*(X,Y){(void 0!==X.deepWait?X.deepWait:Y)&&(yield Promise.all([on(X.enteringEl),on(X.leavingEl)])),yield Ct(X.viewIsReady,X.enteringEl)});return function(Y,De){return Ee.apply(this,arguments)}}(),Ct=function(){var Ee=(0,c.A)(function*(X,Y){X&&(yield X(Y))});return function(Y,De){return Ee.apply(this,arguments)}}(),Rt=(Ee,X)=>{const Y=X.progressCallback,De=new Promise(qe=>{Ee.onFinish(Je=>qe(1===Je))});return Y?(Ee.progressStart(!0),Y(Ee)):Ee.play(),De},Se=(Ee,X)=>{Ht(X,ke),Ht(Ee,"ionViewWillEnter")},Wt=(Ee,X)=>{Ht(Ee,"ionViewDidEnter"),Ht(X,ze)},Ht=(Ee,X)=>{if(Ee){const Y=new CustomEvent(X,{bubbles:!1,cancelable:!1});Ee.dispatchEvent(Y)}},pn=()=>new Promise(Ee=>(0,ye.r)(()=>(0,ye.r)(()=>Ee()))),on=function(){var Ee=(0,c.A)(function*(X){const Y=X;if(Y){if(null!=Y.componentOnReady){if(null!=(yield Y.componentOnReady()))return}else if(null!=Y.__registerHost)return void(yield new Promise(qe=>(0,ye.r)(qe)));yield Promise.all(Array.from(Y.children).map(on))}});return function(Y){return Ee.apply(this,arguments)}}(),kn=(Ee,X)=>{X?(Ee.setAttribute("aria-hidden","true"),Ee.classList.add("ion-page-hidden")):(Ee.hidden=!1,Ee.removeAttribute("aria-hidden"),Ee.classList.remove("ion-page-hidden"))},Pt=(Ee,X,Y)=>{void 0!==Ee&&(Ee.style.zIndex="back"===Y?"99":"101"),void 0!==X&&(X.style.zIndex="100")},_e=Ee=>Ee.classList.contains("ion-page")?Ee:Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ee},4929:(An,ft,$)=>{"use strict";$.d(ft,{a:()=>f,b:()=>he,p:()=>c});const c=(ae,...ye)=>console.warn(`[Ionic Warning]: ${ae}`,...ye),f=(ae,...ye)=>console.error(`[Ionic Error]: ${ae}`,...ye),he=(ae,...ye)=>console.error(`<${ae.tagName.toLowerCase()}> must be used inside ${ye.join(" or ")}.`)},8476:(An,ft,$)=>{"use strict";$.d(ft,{d:()=>f,w:()=>c});const c=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9568:(An,ft,$)=>{"use strict";$.d(ft,{m:()=>xe});var c=$(467),f=$(8476),he=$(7192),ae=$(4929),ye=$(4920),ce=$(9483),be=$(9986);const ke=Oe=>(0,be.c)().duration(Oe?400:300),ze=Oe=>{let lt,st;const et=Oe.width+8,Ye=(0,be.c)(),vt=(0,be.c)();Oe.isEndSide?(lt=et+"px",st="0px"):(lt=-et+"px",st="0px"),Ye.addElement(Oe.menuInnerEl).fromTo("transform",`translateX(${lt})`,`translateX(${st})`);const pt="ios"===(0,ce.b)(Oe),ve=pt?.2:.25;return vt.addElement(Oe.backdropEl).fromTo("opacity",.01,ve),ke(pt).addAnimation([Ye,vt])},Ie=Oe=>{let lt,st;const et=(0,ce.b)(Oe),Ye=Oe.width;Oe.isEndSide?(lt=-Ye+"px",st=Ye+"px"):(lt=Ye+"px",st=-Ye+"px");const vt=(0,be.c)().addElement(Oe.menuInnerEl).fromTo("transform",`translateX(${st})`,"translateX(0px)"),dt=(0,be.c)().addElement(Oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${lt})`),pt=(0,be.c)().addElement(Oe.backdropEl).fromTo("opacity",.01,.32);return ke("ios"===et).addAnimation([vt,dt,pt])},ue=Oe=>{const lt=(0,ce.b)(Oe),st=Oe.width*(Oe.isEndSide?-1:1)+"px",et=(0,be.c)().addElement(Oe.contentEl).fromTo("transform","translateX(0px)",`translateX(${st})`);return ke("ios"===lt).addAnimation(et)},xe=(()=>{const Oe=new Map,lt=[],st=function(){var X=(0,c.A)(function*(Y){const De=yield we(Y,!0);return!!De&&De.open()});return function(De){return X.apply(this,arguments)}}(),et=function(){var X=(0,c.A)(function*(Y){const De=yield void 0!==Y?we(Y,!0):rt();return void 0!==De&&De.close()});return function(De){return X.apply(this,arguments)}}(),Ye=function(){var X=(0,c.A)(function*(Y){const De=yield we(Y,!0);return!!De&&De.toggle()});return function(De){return X.apply(this,arguments)}}(),vt=function(){var X=(0,c.A)(function*(Y,De){const qe=yield we(De);return qe&&(qe.disabled=!Y),qe});return function(De,qe){return X.apply(this,arguments)}}(),dt=function(){var X=(0,c.A)(function*(Y,De){const qe=yield we(De);return qe&&(qe.swipeGesture=Y),qe});return function(De,qe){return X.apply(this,arguments)}}(),pt=function(){var X=(0,c.A)(function*(Y){if(null!=Y){const De=yield we(Y);return void 0!==De&&De.isOpen()}return void 0!==(yield rt())});return function(De){return X.apply(this,arguments)}}(),ve=function(){var X=(0,c.A)(function*(Y){const De=yield we(Y);return!!De&&!De.disabled});return function(De){return X.apply(this,arguments)}}(),we=function(){var X=(0,c.A)(function*(Y,De=!1){if(yield Ee(),"start"===Y||"end"===Y){const Je=lt.filter($t=>$t.side===Y&&!$t.disabled);if(Je.length>=1)return Je.length>1&&De&&(0,ae.p)(`menuController queried for a menu on the "${Y}" side, but ${Je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Je.map($t=>$t.el)),Je[0].el;const ot=lt.filter($t=>$t.side===Y);if(ot.length>=1)return ot.length>1&&De&&(0,ae.p)(`menuController queried for a menu on the "${Y}" side, but ${ot.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ot.map($t=>$t.el)),ot[0].el}else if(null!=Y)return _e(Je=>Je.menuId===Y);return _e(Je=>!Je.disabled)||(lt.length>0?lt[0].el:void 0)});return function(De){return X.apply(this,arguments)}}(),rt=function(){var X=(0,c.A)(function*(){return yield Ee(),on()});return function(){return X.apply(this,arguments)}}(),ut=function(){var X=(0,c.A)(function*(){return yield Ee(),kn()});return function(){return X.apply(this,arguments)}}(),Ct=function(){var X=(0,c.A)(function*(){return yield Ee(),Pt()});return function(){return X.apply(this,arguments)}}(),Rt=(X,Y)=>{Oe.set(X,Y)},Ht=function(){var X=(0,c.A)(function*(Y,De,qe){if(Pt())return!1;if(De){const Je=yield rt();Je&&Y.el!==Je&&(yield Je.setOpen(!1,!1))}return Y._setOpen(De,qe)});return function(De,qe,Je){return X.apply(this,arguments)}}(),on=()=>_e(X=>X._isOpen),kn=()=>lt.map(X=>X.el),Pt=()=>lt.some(X=>X.isAnimating),_e=X=>{const Y=lt.find(X);if(void 0!==Y)return Y.el},Ee=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(X=>new Promise(Y=>(0,ye.c)(X,Y))));return Rt("reveal",ue),Rt("push",Ie),Rt("overlay",ze),null==f.d||f.d.addEventListener("ionBackButton",X=>{const Y=on();Y&&X.detail.register(he.MENU_BACK_BUTTON_PRIORITY,()=>Y.close())}),{registerAnimation:Rt,get:we,getMenus:ut,getOpen:rt,isEnabled:ve,swipeGesture:dt,isAnimating:Ct,isOpen:pt,enable:vt,toggle:Ye,close:et,open:st,_getOpenSync:on,_createAnimation:(X,Y)=>{const De=Oe.get(X);if(!De)throw new Error("animation not registered");return De(Y)},_register:X=>{lt.indexOf(X)<0&&lt.push(X)},_unregister:X=>{const Y=lt.indexOf(X);Y>-1&&lt.splice(Y,1)},_setOpen:Ht}})()},9483:(An,ft,$)=>{"use strict";$.d(ft,{a:()=>ue,b:()=>kn,c:()=>he,i:()=>Pt});var c=$(4261);class f{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,X){const Y=this.m.get(Ee);return void 0!==Y?Y:X}getBoolean(Ee,X=!1){const Y=this.m.get(Ee);return void 0===Y?X:"string"==typeof Y?"true"===Y:!!Y}getNumber(Ee,X){const Y=parseFloat(this.m.get(Ee));return isNaN(Y)?void 0!==X?X:NaN:Y}set(Ee,X){this.m.set(Ee,X)}}const he=new f,ze="ionic-persist-config",ue=(_e,Ee)=>("string"==typeof _e&&(Ee=_e,_e=void 0),(_e=>Ue(_e))(_e).includes(Ee)),Ue=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let Ee=_e.Ionic.platforms;return null==Ee&&(Ee=_e.Ionic.platforms=xe(_e),Ee.forEach(X=>_e.document.documentElement.classList.add(`plt-${X}`))),Ee},xe=_e=>{const Ee=he.get("platform");return Object.keys(pn).filter(X=>{const Y=null==Ee?void 0:Ee[X];return"function"==typeof Y?Y(_e):pn[X](_e)})},lt=_e=>!!(Wt(_e,/iPad/i)||Wt(_e,/Macintosh/i)&&ve(_e)),Ye=_e=>Wt(_e,/android|sink/i),ve=_e=>Ht(_e,"(any-pointer:coarse)"),rt=_e=>ut(_e)||Ct(_e),ut=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),Ct=_e=>{const Ee=_e.Capacitor;return!(null==Ee||!Ee.isNative)},Wt=(_e,Ee)=>Ee.test(_e.navigator.userAgent),Ht=(_e,Ee)=>{var X;return null===(X=_e.matchMedia)||void 0===X?void 0:X.call(_e,Ee).matches},pn={ipad:lt,iphone:_e=>Wt(_e,/iPhone/i),ios:_e=>Wt(_e,/iPhone|iPod/i)||lt(_e),android:Ye,phablet:_e=>{const Ee=_e.innerWidth,X=_e.innerHeight,Y=Math.min(Ee,X),De=Math.max(Ee,X);return Y>390&&Y<520&&De>620&&De<800},tablet:_e=>{const Ee=_e.innerWidth,X=_e.innerHeight,Y=Math.min(Ee,X),De=Math.max(Ee,X);return lt(_e)||(_e=>Ye(_e)&&!Wt(_e,/mobile/i))(_e)||Y>460&&Y<820&&De>780&&De<1400},cordova:ut,capacitor:Ct,electron:_e=>Wt(_e,/electron/i),pwa:_e=>{var Ee;return!!(null!==(Ee=_e.matchMedia)&&void 0!==Ee&&Ee.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:ve,mobileweb:_e=>ve(_e)&&!rt(_e),desktop:_e=>!ve(_e),hybrid:rt};let on;const kn=_e=>_e&&(0,c.g)(_e)||on,Pt=(_e={})=>{if(typeof window>"u")return;const Ee=window.document,X=window,Y=X.Ionic=X.Ionic||{},De={};_e._ael&&(De.ael=_e._ael),_e._rel&&(De.rel=_e._rel),_e._ce&&(De.ce=_e._ce),(0,c.a)(De);const qe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(_e=>{try{const Ee=_e.sessionStorage.getItem(ze);return null!==Ee?JSON.parse(Ee):{}}catch{return{}}})(X)),{persistConfig:!1}),Y.config),(_e=>{const Ee={};return _e.location.search.slice(1).split("&").map(X=>X.split("=")).map(([X,Y])=>{try{return[decodeURIComponent(X),decodeURIComponent(Y)]}catch{return["",""]}}).filter(([X])=>((_e,Ee)=>_e.substr(0,Ee.length)===Ee)(X,"ionic:")).map(([X,Y])=>[X.slice(6),Y]).forEach(([X,Y])=>{Ee[X]=Y}),Ee})(X)),_e);he.reset(qe),he.getBoolean("persistConfig")&&((_e,Ee)=>{try{_e.sessionStorage.setItem(ze,JSON.stringify(Ee))}catch{return}})(X,qe),Ue(X),Y.config=he,Y.mode=on=he.get("mode",Ee.documentElement.getAttribute("mode")||(ue(X,"ios")?"ios":"md")),he.set("mode",on),Ee.documentElement.setAttribute("mode",on),Ee.documentElement.classList.add(on),he.getBoolean("_testing")&&he.set("animated",!1);const Je=$t=>{var Ln;return null===(Ln=$t.tagName)||void 0===Ln?void 0:Ln.startsWith("ION-")},ot=$t=>["ios","md"].includes($t);(0,c.c)($t=>{for(;$t;){const Ln=$t.mode||$t.getAttribute("mode");if(Ln){if(ot(Ln))return Ln;Je($t)&&console.warn('Invalid ionic mode: "'+Ln+'", expected: "ios" or "md"')}$t=$t.parentElement}return on})}},5022:(An,ft,$)=>{"use strict";$.r(ft),$.d(ft,{iosTransitionAnimation:()=>Oe,shadow:()=>ke});var c=$(9986),f=$(3604);$(8476),$(9483),$(4261);const be=st=>document.querySelector(`${st}.ion-cloned-element`),ke=st=>st.shadowRoot||st,ze=st=>{const et="ION-TABS"===st.tagName?st:st.querySelector("ion-tabs"),Ye="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=et){const vt=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=vt?vt.querySelector(Ye):null}return st.querySelector(Ye)},Ie=(st,et)=>{const Ye="ION-TABS"===st.tagName?st:st.querySelector("ion-tabs");let vt=[];if(null!=Ye){const dt=Ye.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=dt&&(vt=dt.querySelectorAll("ion-buttons"))}else vt=st.querySelectorAll("ion-buttons");for(const dt of vt){const pt=dt.closest("ion-header"),ve=pt&&!pt.classList.contains("header-collapse-condense-inactive"),we=dt.querySelector("ion-back-button"),rt=dt.classList.contains("buttons-collapse");if(null!==we&&("start"===dt.slot||""===dt.slot)&&(rt&&ve&&et||!rt))return we}return null},Ue=(st,et,Ye,vt,dt,pt,ve,we,rt)=>{var ut,Ct;const Rt=et?`calc(100% - ${dt.right+4}px)`:dt.left-4+"px",Se=et?"right":"left",Wt=et?"left":"right",Ht=et?"right":"left";let pn=1,on=1,kn=`scale(${on})`;const Pt="scale(1)";if(pt&&ve){const Ot=(null===(ut=pt.textContent)||void 0===ut?void 0:ut.trim())===(null===(Ct=we.textContent)||void 0===Ct?void 0:Ct.trim());pn=rt.width/ve.width,on=(rt.height-lt)/ve.height,kn=Ot?`scale(${pn}, ${on})`:`scale(${on})`}const Ee=ke(vt).querySelector("ion-icon").getBoundingClientRect(),X=et?Ee.width/2-(Ee.right-dt.right)+"px":dt.left-Ee.width/2+"px",Y=et?`-${window.innerWidth-dt.right}px`:`${dt.left}px`,De=`${rt.top}px`,qe=`${dt.top}px`,$t=Ye?[{offset:0,transform:`translate3d(${Y}, ${qe}, 0)`},{offset:1,transform:`translate3d(${X}, ${De}, 0)`}]:[{offset:0,transform:`translate3d(${X}, ${De}, 0)`},{offset:1,transform:`translate3d(${Y}, ${qe}, 0)`}],_n=Ye?[{offset:0,opacity:1,transform:Pt},{offset:1,opacity:0,transform:kn}]:[{offset:0,opacity:0,transform:kn},{offset:1,opacity:1,transform:Pt}],St=Ye?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Qn=(0,c.c)(),sr=(0,c.c)(),Xn=(0,c.c)(),Tn=be("ion-back-button"),Zt=ke(Tn).querySelector(".button-text"),Nt=ke(Tn).querySelector("ion-icon");Tn.text=vt.text,Tn.mode=vt.mode,Tn.icon=vt.icon,Tn.color=vt.color,Tn.disabled=vt.disabled,Tn.style.setProperty("display","block"),Tn.style.setProperty("position","fixed"),sr.addElement(Nt),Qn.addElement(Zt),Xn.addElement(Tn),Xn.beforeStyles({position:"absolute",top:"0px",[Ht]:"0px"}).beforeAddWrite(()=>{vt.style.setProperty("display","none"),Tn.style.setProperty(Se,Rt)}).afterAddWrite(()=>{vt.style.setProperty("display",""),Tn.style.setProperty("display","none"),Tn.style.removeProperty(Se)}).keyframes($t),Qn.beforeStyles({"transform-origin":`${Se} top`}).keyframes(_n),sr.beforeStyles({"transform-origin":`${Wt} center`}).keyframes(St),st.addAnimation([Qn,sr,Xn])},xe=(st,et,Ye,vt,dt,pt,ve,we,rt)=>{var ut,Ct;const Rt=et?"right":"left",Se=et?`calc(100% - ${dt.right}px)`:`${dt.left}px`,Ht=`${dt.top}px`;let on=et?`-${window.innerWidth-ve.right-8}px`:`${ve.x+8}px`,kn=.5;const Pt="scale(1)";let _e=`scale(${kn})`;if(we&&rt){on=et?`-${window.innerWidth-rt.right-8}px`:rt.x-8+"px";const Ln=(null===(ut=we.textContent)||void 0===ut?void 0:ut.trim())===(null===(Ct=vt.textContent)||void 0===Ct?void 0:Ct.trim());kn=rt.height/(pt.height-lt),_e=Ln?`scale(${rt.width/pt.width}, ${kn})`:`scale(${kn})`}const Y=ve.top+ve.height/2-dt.height*kn/2+"px",Je=Ye?[{offset:0,opacity:0,transform:`translate3d(${on}, ${Y}, 0) ${_e}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ht}, 0) ${Pt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ht}, 0) ${Pt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${on}, ${Y}, 0) ${_e}`}],ot=be("ion-title"),$t=(0,c.c)();ot.innerText=vt.innerText,ot.size=vt.size,ot.color=vt.color,$t.addElement(ot),$t.beforeStyles({"transform-origin":`${Rt} top`,height:`${dt.height}px`,display:"",position:"relative",[Rt]:Se}).beforeAddWrite(()=>{vt.style.setProperty("opacity","0")}).afterAddWrite(()=>{vt.style.setProperty("opacity",""),ot.style.setProperty("display","none")}).keyframes(Je),st.addAnimation($t)},Oe=(st,et)=>{var Ye;try{const vt="cubic-bezier(0.32,0.72,0,1)",dt="opacity",pt="transform",ve="0%",rt="rtl"===st.ownerDocument.dir,ut=rt?"-99.5%":"99.5%",Ct=rt?"33%":"-33%",Rt=et.enteringEl,Se=et.leavingEl,Wt="back"===et.direction,Ht=Rt.querySelector(":scope > ion-content"),pn=Rt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),on=Rt.querySelectorAll(":scope > ion-header > ion-toolbar"),kn=(0,c.c)(),Pt=(0,c.c)();if(kn.addElement(Rt).duration((null!==(Ye=et.duration)&&void 0!==Ye?Ye:0)||540).easing(et.easing||vt).fill("both").beforeRemoveClass("ion-page-invisible"),Se&&null!=st){const Y=(0,c.c)();Y.addElement(st),kn.addAnimation(Y)}if(Ht||0!==on.length||0!==pn.length?(Pt.addElement(Ht),Pt.addElement(pn)):Pt.addElement(Rt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),kn.addAnimation(Pt),Wt?Pt.beforeClearStyles([dt]).fromTo("transform",`translateX(${Ct})`,`translateX(${ve})`).fromTo(dt,.8,1):Pt.beforeClearStyles([dt]).fromTo("transform",`translateX(${ut})`,`translateX(${ve})`),Ht){const Y=ke(Ht).querySelector(".transition-effect");if(Y){const De=Y.querySelector(".transition-cover"),qe=Y.querySelector(".transition-shadow"),Je=(0,c.c)(),ot=(0,c.c)(),$t=(0,c.c)();Je.addElement(Y).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(De).beforeClearStyles([dt]).fromTo(dt,0,.1),$t.addElement(qe).beforeClearStyles([dt]).fromTo(dt,.03,.7),Je.addAnimation([ot,$t]),Pt.addAnimation([Je])}}const _e=Rt.querySelector("ion-header.header-collapse-condense"),{forward:Ee,backward:X}=((st,et,Ye,vt,dt)=>{const pt=Ie(vt,Ye),ve=ze(dt),we=ze(vt),rt=Ie(dt,Ye),ut=null!==pt&&null!==ve&&!Ye,Ct=null!==we&&null!==rt&&Ye;if(ut){const Rt=ve.getBoundingClientRect(),Se=pt.getBoundingClientRect(),Wt=ke(pt).querySelector(".button-text"),Ht=null==Wt?void 0:Wt.getBoundingClientRect(),on=ke(ve).querySelector(".toolbar-title").getBoundingClientRect();xe(st,et,Ye,ve,Rt,on,Se,Wt,Ht),Ue(st,et,Ye,pt,Se,Wt,Ht,ve,on)}else if(Ct){const Rt=we.getBoundingClientRect(),Se=rt.getBoundingClientRect(),Wt=ke(rt).querySelector(".button-text"),Ht=null==Wt?void 0:Wt.getBoundingClientRect(),on=ke(we).querySelector(".toolbar-title").getBoundingClientRect();xe(st,et,Ye,we,Rt,on,Se,Wt,Ht),Ue(st,et,Ye,rt,Se,Wt,Ht,we,on)}return{forward:ut,backward:Ct}})(kn,rt,Wt,Rt,Se);if(on.forEach(Y=>{const De=(0,c.c)();De.addElement(Y),kn.addAnimation(De);const qe=(0,c.c)();qe.addElement(Y.querySelector("ion-title"));const Je=(0,c.c)(),ot=Array.from(Y.querySelectorAll("ion-buttons,[menuToggle]")),$t=Y.closest("ion-header"),Ln=null==$t?void 0:$t.classList.contains("header-collapse-condense-inactive");let dn;dn=ot.filter(Wt?Qn=>{const sr=Qn.classList.contains("buttons-collapse");return sr&&!Ln||!sr}:Qn=>!Qn.classList.contains("buttons-collapse")),Je.addElement(dn);const _n=(0,c.c)();_n.addElement(Y.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const zn=(0,c.c)();zn.addElement(ke(Y).querySelector(".toolbar-background"));const Bt=(0,c.c)(),St=Y.querySelector("ion-back-button");if(St&&Bt.addElement(St),De.addAnimation([qe,Je,_n,zn,Bt]),Je.fromTo(dt,.01,1),_n.fromTo(dt,.01,1),Wt)Ln||qe.fromTo("transform",`translateX(${Ct})`,`translateX(${ve})`).fromTo(dt,.01,1),_n.fromTo("transform",`translateX(${Ct})`,`translateX(${ve})`),Bt.fromTo(dt,.01,1);else if(_e||qe.fromTo("transform",`translateX(${ut})`,`translateX(${ve})`).fromTo(dt,.01,1),_n.fromTo("transform",`translateX(${ut})`,`translateX(${ve})`),zn.beforeClearStyles([dt,"transform"]),(null==$t?void 0:$t.translucent)?zn.fromTo("transform",rt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):zn.fromTo(dt,.01,"var(--opacity)"),Ee||Bt.fromTo(dt,.01,1),St&&!Ee){const sr=(0,c.c)();sr.addElement(ke(St).querySelector(".button-text")).fromTo("transform",rt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),De.addAnimation(sr)}}),Se){const Y=(0,c.c)(),De=Se.querySelector(":scope > ion-content"),qe=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),Je=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(De||0!==qe.length||0!==Je.length?(Y.addElement(De),Y.addElement(Je)):Y.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),kn.addAnimation(Y),Wt){Y.beforeClearStyles([dt]).fromTo("transform",`translateX(${ve})`,rt?"translateX(-100%)":"translateX(100%)");const ot=(0,f.g)(Se);kn.afterAddWrite(()=>{"normal"===kn.getDirection()&&ot.style.setProperty("display","none")})}else Y.fromTo("transform",`translateX(${ve})`,`translateX(${Ct})`).fromTo(dt,1,.8);if(De){const ot=ke(De).querySelector(".transition-effect");if(ot){const $t=ot.querySelector(".transition-cover"),Ln=ot.querySelector(".transition-shadow"),dn=(0,c.c)(),_n=(0,c.c)(),zn=(0,c.c)();dn.addElement(ot).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),_n.addElement($t).beforeClearStyles([dt]).fromTo(dt,.1,0),zn.addElement(Ln).beforeClearStyles([dt]).fromTo(dt,.7,.03),dn.addAnimation([_n,zn]),Y.addAnimation([dn])}}qe.forEach(ot=>{const $t=(0,c.c)();$t.addElement(ot);const Ln=(0,c.c)();Ln.addElement(ot.querySelector("ion-title"));const dn=(0,c.c)(),_n=ot.querySelectorAll("ion-buttons,[menuToggle]"),zn=ot.closest("ion-header"),Bt=null==zn?void 0:zn.classList.contains("header-collapse-condense-inactive"),St=Array.from(_n).filter(Nt=>{const Ot=Nt.classList.contains("buttons-collapse");return Ot&&!Bt||!Ot});dn.addElement(St);const Qn=(0,c.c)(),sr=ot.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");sr.length>0&&Qn.addElement(sr);const Xn=(0,c.c)();Xn.addElement(ke(ot).querySelector(".toolbar-background"));const Tn=(0,c.c)(),Zt=ot.querySelector("ion-back-button");if(Zt&&Tn.addElement(Zt),$t.addAnimation([Ln,dn,Qn,Tn,Xn]),kn.addAnimation($t),Tn.fromTo(dt,.99,0),dn.fromTo(dt,.99,0),Qn.fromTo(dt,.99,0),Wt){if(Bt||Ln.fromTo("transform",`translateX(${ve})`,rt?"translateX(-100%)":"translateX(100%)").fromTo(dt,.99,0),Qn.fromTo("transform",`translateX(${ve})`,rt?"translateX(-100%)":"translateX(100%)"),Xn.beforeClearStyles([dt,"transform"]),(null==zn?void 0:zn.translucent)?Xn.fromTo("transform","translateX(0px)",rt?"translateX(-100%)":"translateX(100%)"):Xn.fromTo(dt,"var(--opacity)",0),Zt&&!X){const Ot=(0,c.c)();Ot.addElement(ke(Zt).querySelector(".button-text")).fromTo("transform",`translateX(${ve})`,`translateX(${(rt?-124:124)+"px"})`),$t.addAnimation(Ot)}}else Bt||Ln.fromTo("transform",`translateX(${ve})`,`translateX(${Ct})`).fromTo(dt,.99,0).afterClearStyles([pt,dt]),Qn.fromTo("transform",`translateX(${ve})`,`translateX(${Ct})`).afterClearStyles([pt,dt]),Tn.afterClearStyles([dt]),Ln.afterClearStyles([dt]),dn.afterClearStyles([dt])})}return kn}catch(vt){throw vt}},lt=10},3615:(An,ft,$)=>{"use strict";$.r(ft),$.d(ft,{mdTransitionAnimation:()=>ce});var c=$(9986),f=$(3604);$(8476),$(9483),$(4261);const ce=(be,ke)=>{var ze,Ie,ue;const Oe="back"===ke.direction,st=ke.leavingEl,et=(0,f.g)(ke.enteringEl),Ye=et.querySelector("ion-toolbar"),vt=(0,c.c)();if(vt.addElement(et).fill("both").beforeRemoveClass("ion-page-invisible"),Oe?vt.duration((null!==(ze=ke.duration)&&void 0!==ze?ze:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):vt.duration((null!==(Ie=ke.duration)&&void 0!==Ie?Ie:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ye){const dt=(0,c.c)();dt.addElement(Ye),vt.addAnimation(dt)}if(st&&Oe){vt.duration((null!==(ue=ke.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const dt=(0,c.c)();dt.addElement((0,f.g)(st)).onFinish(pt=>{1===pt&&dt.elements.length>0&&dt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),vt.addAnimation(dt)}return vt}},9440:(An,ft,$)=>{"use strict";$.d(ft,{B:()=>_n,F:()=>Tn,G:()=>zn,O:()=>Bt,a:()=>et,b:()=>Ye,c:()=>ve,d:()=>St,e:()=>Qn,f:()=>Ee,g:()=>Y,h:()=>Je,i:()=>$t,j:()=>rt,k:()=>ut,m:()=>dt,n:()=>Ie,o:()=>Pt,q:()=>ue,s:()=>dn});var c=$(467),f=$(8476),he=$(4920),ae=$(7192),ye=$(9483),ce=$(8621),be=$(1970),ke=$(4929);const ze='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ie=(Zt,Nt)=>{const Ot=Zt.querySelector(ze);Ue(Ot,null!=Nt?Nt:Zt)},ue=(Zt,Nt)=>{const Ot=Array.from(Zt.querySelectorAll(ze));Ue(Ot.length>0?Ot[Ot.length-1]:null,null!=Nt?Nt:Zt)},Ue=(Zt,Nt)=>{let Ot=Zt;const En=null==Zt?void 0:Zt.shadowRoot;En&&(Ot=En.querySelector(ze)||Zt),Ot?(0,he.f)(Ot):Nt.focus()};let xe=0,Oe=0;const lt=new WeakMap,st=Zt=>({create:Nt=>Ct(Zt,Nt),dismiss:(Nt,Ot,En)=>pn(document,Nt,Ot,Zt,En),getTop:()=>(0,c.A)(function*(){return Pt(document,Zt)})()}),et=st("ion-alert"),Ye=st("ion-action-sheet"),dt=st("ion-modal"),ve=st("ion-popover"),rt=Zt=>{typeof document<"u"&&Ht(document);const Nt=xe++;Zt.overlayIndex=Nt},ut=Zt=>(Zt.hasAttribute("id")||(Zt.id="ion-overlay-"+ ++Oe),Zt.id),Ct=(Zt,Nt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Zt).then(()=>{const Ot=document.createElement(Zt);return Ot.classList.add("overlay-hidden"),Object.assign(Ot,Object.assign(Object.assign({},Nt),{hasController:!0})),De(document).appendChild(Ot),new Promise(En=>(0,he.c)(Ot,En))}):Promise.resolve(),Se=(Zt,Nt)=>{let Ot=Zt;const En=null==Zt?void 0:Zt.shadowRoot;En&&(Ot=En.querySelector(ze)||Zt),Ot?(0,he.f)(Ot):Nt.focus()},Ht=Zt=>{0===xe&&(xe=1,Zt.addEventListener("focus",Nt=>{((Zt,Nt)=>{const Ot=Pt(Nt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),En=Zt.target;Ot&&En&&!Ot.classList.contains(Tn)&&(Ot.shadowRoot?(()=>{if(Ot.contains(En))Ot.lastFocus=En;else if("ION-TOAST"===En.tagName)Se(Ot.lastFocus,Ot);else{const mr=Ot.lastFocus;Ie(Ot),mr===Nt.activeElement&&ue(Ot),Ot.lastFocus=Nt.activeElement}})():(()=>{if(Ot===En)Ot.lastFocus=void 0;else if("ION-TOAST"===En.tagName)Se(Ot.lastFocus,Ot);else{const mr=(0,he.g)(Ot);if(!mr.contains(En))return;const Mn=mr.querySelector(".ion-overlay-wrapper");if(!Mn)return;if(Mn.contains(En)||En===mr.querySelector("ion-backdrop"))Ot.lastFocus=En;else{const $n=Ot.lastFocus;Ie(Mn,Ot),$n===Nt.activeElement&&ue(Mn,Ot),Ot.lastFocus=Nt.activeElement}}})())})(Nt,Zt)},!0),Zt.addEventListener("ionBackButton",Nt=>{const Ot=Pt(Zt);null!=Ot&&Ot.backdropDismiss&&Nt.detail.register(ae.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ot.dismiss(void 0,_n)})}),(0,ae.shouldUseCloseWatcher)()||Zt.addEventListener("keydown",Nt=>{if("Escape"===Nt.key){const Ot=Pt(Zt);null!=Ot&&Ot.backdropDismiss&&Ot.dismiss(void 0,_n)}}))},pn=(Zt,Nt,Ot,En,Vt)=>{const gr=Pt(Zt,En,Vt);return gr?gr.dismiss(Nt,Ot):Promise.reject("overlay does not exist")},kn=(Zt,Nt)=>((Zt,Nt)=>(void 0===Nt&&(Nt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Zt.querySelectorAll(Nt)).filter(Ot=>Ot.overlayIndex>0)))(Zt,Nt).filter(Ot=>!(Zt=>Zt.classList.contains("overlay-hidden"))(Ot)),Pt=(Zt,Nt,Ot)=>{const En=kn(Zt,Nt);return void 0===Ot?En[En.length-1]:En.find(Vt=>Vt.id===Ot)},_e=(Zt=!1)=>{const Ot=De(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ot&&(Zt?Ot.setAttribute("aria-hidden","true"):Ot.removeAttribute("aria-hidden"))},Ee=function(){var Zt=(0,c.A)(function*(Nt,Ot,En,Vt,gr){var mr,Mn;if(Nt.presented)return;_e(!0),document.body.classList.add(be.B),sr(Nt.el),Nt.presented=!0,Nt.willPresent.emit(),null===(mr=Nt.willPresentShorthand)||void 0===mr||mr.emit();const $n=(0,ye.b)(Nt),$r=Nt.enterAnimation?Nt.enterAnimation:ye.c.get(Ot,"ios"===$n?En:Vt);(yield qe(Nt,$r,Nt.el,gr))&&(Nt.didPresent.emit(),null===(Mn=Nt.didPresentShorthand)||void 0===Mn||Mn.emit()),"ION-TOAST"!==Nt.el.tagName&&X(Nt.el),Nt.keyboardClose&&(null===document.activeElement||!Nt.el.contains(document.activeElement))&&Nt.el.focus(),Nt.el.removeAttribute("aria-hidden")});return function(Ot,En,Vt,gr,mr){return Zt.apply(this,arguments)}}(),X=function(){var Zt=(0,c.A)(function*(Nt){let Ot=document.activeElement;if(!Ot)return;const En=null==Ot?void 0:Ot.shadowRoot;En&&(Ot=En.querySelector(ze)||Ot),yield Nt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ot.focus()});return function(Ot){return Zt.apply(this,arguments)}}(),Y=function(){var Zt=(0,c.A)(function*(Nt,Ot,En,Vt,gr,mr,Mn){var $n,$r;if(!Nt.presented)return!1;void 0!==f.d&&1===kn(f.d).length&&(_e(!1),document.body.classList.remove(be.B)),Nt.presented=!1;try{Nt.el.style.setProperty("pointer-events","none"),Nt.willDismiss.emit({data:Ot,role:En}),null===($n=Nt.willDismissShorthand)||void 0===$n||$n.emit({data:Ot,role:En});const dr=(0,ye.b)(Nt),hr=Nt.leaveAnimation?Nt.leaveAnimation:ye.c.get(Vt,"ios"===dr?gr:mr);En!==zn&&(yield qe(Nt,hr,Nt.el,Mn)),Nt.didDismiss.emit({data:Ot,role:En}),null===($r=Nt.didDismissShorthand)||void 0===$r||$r.emit({data:Ot,role:En}),(lt.get(Nt)||[]).forEach(di=>di.destroy()),lt.delete(Nt),Nt.el.classList.add("overlay-hidden"),Nt.el.style.removeProperty("pointer-events"),void 0!==Nt.el.lastFocus&&(Nt.el.lastFocus=void 0)}catch(dr){console.error(dr)}return Nt.el.remove(),Xn(),!0});return function(Ot,En,Vt,gr,mr,Mn,$n){return Zt.apply(this,arguments)}}(),De=Zt=>Zt.querySelector("ion-app")||Zt.body,qe=function(){var Zt=(0,c.A)(function*(Nt,Ot,En,Vt){En.classList.remove("overlay-hidden");const mr=Ot(Nt.el,Vt);(!Nt.animated||!ye.c.getBoolean("animated",!0))&&mr.duration(0),Nt.keyboardClose&&mr.beforeAddWrite(()=>{const $n=En.ownerDocument.activeElement;null!=$n&&$n.matches("input,ion-input, ion-textarea")&&$n.blur()});const Mn=lt.get(Nt)||[];return lt.set(Nt,[...Mn,mr]),yield mr.play(),!0});return function(Ot,En,Vt,gr){return Zt.apply(this,arguments)}}(),Je=(Zt,Nt)=>{let Ot;const En=new Promise(Vt=>Ot=Vt);return ot(Zt,Nt,Vt=>{Ot(Vt.detail)}),En},ot=(Zt,Nt,Ot)=>{const En=Vt=>{(0,he.b)(Zt,Nt,En),Ot(Vt)};(0,he.a)(Zt,Nt,En)},$t=Zt=>"cancel"===Zt||Zt===_n,Ln=Zt=>Zt(),dn=(Zt,Nt)=>{if("function"==typeof Zt)return ye.c.get("_zoneGate",Ln)(()=>{try{return Zt(Nt)}catch(En){throw En}})},_n="backdrop",zn="gesture",Bt=39,St=Zt=>{let Ot,Nt=!1;const En=(0,ce.C)(),Vt=(Mn=!1)=>{if(Ot&&!Mn)return{delegate:Ot,inline:Nt};const{el:$n,hasController:$r,delegate:Or}=Zt;return Nt=null!==$n.parentNode&&!$r,Ot=Nt?Or||En:Or,{inline:Nt,delegate:Ot}};return{attachViewToDom:function(){var Mn=(0,c.A)(function*($n){const{delegate:$r}=Vt(!0);if($r)return yield $r.attachViewToDom(Zt.el,$n);const{hasController:Or}=Zt;if(Or&&void 0!==$n)throw new Error("framework delegate is missing");return null});return function($r){return Mn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Mn}=Vt();Mn&&void 0!==Zt.el&&Mn.removeViewFromDom(Zt.el.parentElement,Zt.el)}}},Qn=()=>{let Zt;const Nt=()=>{Zt&&(Zt(),Zt=void 0)};return{addClickListener:(En,Vt)=>{Nt();const gr=void 0!==Vt?document.getElementById(Vt):null;gr?Zt=((Mn,$n)=>{const $r=()=>{$n.present()};return Mn.addEventListener("click",$r),()=>{Mn.removeEventListener("click",$r)}})(gr,En):(0,ke.p)(`A trigger element with the ID "${Vt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,En)},removeClickListener:Nt}},sr=Zt=>{var Nt;if(void 0===f.d)return;const Ot=kn(f.d);for(let En=Ot.length-1;En>=0;En--){const Vt=Ot[En],gr=null!==(Nt=Ot[En+1])&&void 0!==Nt?Nt:Zt;(gr.hasAttribute("aria-hidden")||"ION-TOAST"!==gr.tagName)&&Vt.setAttribute("aria-hidden","true")}},Xn=()=>{if(void 0===f.d)return;const Zt=kn(f.d);for(let Nt=Zt.length-1;Nt>=0;Nt--){const Ot=Zt[Nt];if(Ot.removeAttribute("aria-hidden"),"ION-TOAST"!==Ot.tagName)break}},Tn="ion-disable-focus-trap"},226:(An,ft,$)=>{"use strict";var c=$(345),f=$(3667),he=$(9253),ae=$(5063);const ye_firebaseConfig={apiKey:"AIzaSyA3NGAp2Bq5ycqhteaVMJUfILWRr2zZZMk",authDomain:"spinverse-f6ec9.firebaseapp.com",projectId:"spinverse-f6ec9",storageBucket:"spinverse-f6ec9.appspot.com",messagingSenderId:"1071308504946",appId:"1:1071308504946:web:d553fdfac1a0f8943e27eb"};var ce=$(4438);let be=(()=>{var xe;class Oe{constructor(){}}return(xe=Oe).\u0275fac=function(st){return new(st||xe)},xe.\u0275cmp=ce.VBU({type:xe,selectors:[["app-root"]],decls:2,vars:0,template:function(st,et){1&st&&(ce.j41(0,"ion-app"),ce.nrm(1,"ion-router-outlet"),ce.k0s())},dependencies:[f.U1,f.Rg]}),Oe})();var ke=$(9384);const ze=[{path:"",redirectTo:"tabs",pathMatch:"full"},{path:"tabs",loadChildren:()=>$.e(5695).then($.bind($,5695)).then(xe=>xe.TabsPageModule)},{path:"**",redirectTo:"tabs",pathMatch:"full"}];let Ie=(()=>{var xe;class Oe{}return(xe=Oe).\u0275fac=function(st){return new(st||xe)},xe.\u0275mod=ce.$C({type:xe}),xe.\u0275inj=ce.G2t({imports:[ke.iI.forRoot(ze,{preloadingStrategy:ke.Kp}),ke.iI]}),Oe})();var ue=$(1626);let Ue=(()=>{var xe;class Oe{}return(xe=Oe).\u0275fac=function(st){return new(st||xe)},xe.\u0275mod=ce.$C({type:xe,bootstrap:[be]}),xe.\u0275inj=ce.G2t({providers:[(0,ue.$R)((0,ue.Sx)())],imports:[c.Bb,f.bv.forRoot(),Ie,he.bf.initializeApp(ye_firebaseConfig),ae.cM]}),Oe})();c.sG().bootstrapModule(Ue).catch(xe=>console.log(xe))},4412:(An,ft,$)=>{"use strict";$.d(ft,{t:()=>f});var c=$(1413);class f extends c.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ye=super._subscribe(ae);return!ye.closed&&ae.next(this._value),ye}getValue(){const{hasError:ae,thrownError:ye,_value:ce}=this;if(ae)throw ye;return this._throwIfClosed(),ce}next(ae){super.next(this._value=ae)}}},1985:(An,ft,$)=>{"use strict";$.d(ft,{c:()=>ke});var c=$(7707),f=$(8359),he=$(3494),ae=$(1203),ye=$(1026),ce=$(8071),be=$(9786);let ke=(()=>{class Ue{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const lt=new Ue;return lt.source=this,lt.operator=Oe,lt}subscribe(Oe,lt,st){const et=function ue(Ue){return Ue&&Ue instanceof c.vU||function Ie(Ue){return Ue&&(0,ce.T)(Ue.next)&&(0,ce.T)(Ue.error)&&(0,ce.T)(Ue.complete)}(Ue)&&(0,f.Uv)(Ue)}(Oe)?Oe:new c.Ms(Oe,lt,st);return(0,be.Y)(()=>{const{operator:Ye,source:vt}=this;et.add(Ye?Ye.call(et,vt):vt?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(lt){Oe.error(lt)}}forEach(Oe,lt){return new(lt=ze(lt))((st,et)=>{const Ye=new c.Ms({next:vt=>{try{Oe(vt)}catch(dt){et(dt),Ye.unsubscribe()}},error:et,complete:st});this.subscribe(Ye)})}_subscribe(Oe){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Oe)}[he.s](){return this}pipe(...Oe){return(0,ae.m)(Oe)(this)}toPromise(Oe){return new(Oe=ze(Oe))((lt,st)=>{let et;this.subscribe(Ye=>et=Ye,Ye=>st(Ye),()=>lt(et))})}}return Ue.create=xe=>new Ue(xe),Ue})();function ze(Ue){var xe;return null!==(xe=null!=Ue?Ue:ye.$.Promise)&&void 0!==xe?xe:Promise}},1413:(An,ft,$)=>{"use strict";$.d(ft,{B:()=>be});var c=$(1985),f=$(8359);const ae=(0,$(1853).L)(ze=>function(){ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=$(7908),ce=$(9786);let be=(()=>{class ze extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Ue=new ke(this,this);return Ue.operator=ue,Ue}_throwIfClosed(){if(this.closed)throw new ae}next(ue){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ue of this.currentObservers)Ue.next(ue)}})}error(ue){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Ue}=this;for(;Ue.length;)Ue.shift().error(ue)}})}complete(){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Ue,isStopped:xe,observers:Oe}=this;return Ue||xe?f.Kn:(this.currentObservers=null,Oe.push(ue),new f.yU(()=>{this.currentObservers=null,(0,ye.o)(Oe,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Ue,thrownError:xe,isStopped:Oe}=this;Ue?ue.error(xe):Oe&&ue.complete()}asObservable(){const ue=new c.c;return ue.source=this,ue}}return ze.create=(Ie,ue)=>new ke(Ie,ue),ze})();class ke extends be{constructor(Ie,ue){super(),this.destination=Ie,this.source=ue}next(Ie){var ue,Ue;null===(Ue=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Ue||Ue.call(ue,Ie)}error(Ie){var ue,Ue;null===(Ue=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Ue||Ue.call(ue,Ie)}complete(){var Ie,ue;null===(ue=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.complete)||void 0===ue||ue.call(Ie)}_subscribe(Ie){var ue,Ue;return null!==(Ue=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Ie))&&void 0!==Ue?Ue:f.Kn}}},7707:(An,ft,$)=>{"use strict";$.d(ft,{Ms:()=>st,vU:()=>Ue});var c=$(8071),f=$(8359),he=$(1026),ae=$(5334),ye=$(5343);const ce=ze("C",void 0,void 0);function ze(pt,ve,we){return{kind:pt,value:ve,error:we}}var Ie=$(9270),ue=$(9786);class Ue extends f.yU{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,f.Uv)(ve)&&ve.add(this)):this.destination=dt}static create(ve,we,rt){return new st(ve,we,rt)}next(ve){this.isStopped?vt(function ke(pt){return ze("N",pt,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?vt(function be(pt){return ze("E",void 0,pt)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?vt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function Oe(pt,ve){return xe.call(pt,ve)}class lt{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:we}=this;if(we.next)try{we.next(ve)}catch(rt){et(rt)}}error(ve){const{partialObserver:we}=this;if(we.error)try{we.error(ve)}catch(rt){et(rt)}else et(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(we){et(we)}}}class st extends Ue{constructor(ve,we,rt){let ut;if(super(),(0,c.T)(ve)||!ve)ut={next:null!=ve?ve:void 0,error:null!=we?we:void 0,complete:null!=rt?rt:void 0};else{let Ct;this&&he.$.useDeprecatedNextContext?(Ct=Object.create(ve),Ct.unsubscribe=()=>this.unsubscribe(),ut={next:ve.next&&Oe(ve.next,Ct),error:ve.error&&Oe(ve.error,Ct),complete:ve.complete&&Oe(ve.complete,Ct)}):ut=ve}this.destination=new lt(ut)}}function et(pt){he.$.useDeprecatedSynchronousErrorHandling?(0,ue.l)(pt):(0,ae.m)(pt)}function vt(pt,ve){const{onStoppedNotification:we}=he.$;we&&Ie.f.setTimeout(()=>we(pt,ve))}const dt={closed:!0,next:ye.l,error:function Ye(pt){throw pt},complete:ye.l}},8359:(An,ft,$)=>{"use strict";$.d(ft,{Kn:()=>ce,yU:()=>ye,Uv:()=>be});var c=$(8071);const he=(0,$(1853).L)(ze=>function(ue){ze(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Ue,xe)=>`${xe+1}) ${Ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ae=$(7908);class ye{constructor(Ie){this.initialTeardown=Ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ie;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Oe of ue)Oe.remove(this);else ue.remove(this);const{initialTeardown:Ue}=this;if((0,c.T)(Ue))try{Ue()}catch(Oe){Ie=Oe instanceof he?Oe.errors:[Oe]}const{_finalizers:xe}=this;if(xe){this._finalizers=null;for(const Oe of xe)try{ke(Oe)}catch(lt){Ie=null!=Ie?Ie:[],lt instanceof he?Ie=[...Ie,...lt.errors]:Ie.push(lt)}}if(Ie)throw new he(Ie)}}add(Ie){var ue;if(Ie&&Ie!==this)if(this.closed)ke(Ie);else{if(Ie instanceof ye){if(Ie.closed||Ie._hasParent(this))return;Ie._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(Ie)}}_hasParent(Ie){const{_parentage:ue}=this;return ue===Ie||Array.isArray(ue)&&ue.includes(Ie)}_addParent(Ie){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(Ie),ue):ue?[ue,Ie]:Ie}_removeParent(Ie){const{_parentage:ue}=this;ue===Ie?this._parentage=null:Array.isArray(ue)&&(0,ae.o)(ue,Ie)}remove(Ie){const{_finalizers:ue}=this;ue&&(0,ae.o)(ue,Ie),Ie instanceof ye&&Ie._removeParent(this)}}ye.EMPTY=(()=>{const ze=new ye;return ze.closed=!0,ze})();const ce=ye.EMPTY;function be(ze){return ze instanceof ye||ze&&"closed"in ze&&(0,c.T)(ze.remove)&&(0,c.T)(ze.add)&&(0,c.T)(ze.unsubscribe)}function ke(ze){(0,c.T)(ze)?ze():ze.unsubscribe()}},1026:(An,ft,$)=>{"use strict";$.d(ft,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(An,ft,$)=>{"use strict";$.d(ft,{z:()=>Ie});var c=$(1985),f=$(3073),he=$(8455),ae=$(3669),ye=$(6450),ce=$(3794),be=$(8496),ke=$(4360),ze=$(5225);function Ie(...xe){const Oe=(0,ce.lI)(xe),lt=(0,ce.ms)(xe),{args:st,keys:et}=(0,f.D)(xe);if(0===st.length)return(0,he.H)([],Oe);const Ye=new c.c(function ue(xe,Oe,lt=ae.D){return st=>{Ue(Oe,()=>{const{length:et}=xe,Ye=new Array(et);let vt=et,dt=et;for(let pt=0;pt<et;pt++)Ue(Oe,()=>{const ve=(0,he.H)(xe[pt],Oe);let we=!1;ve.subscribe((0,ke._)(st,rt=>{Ye[pt]=rt,we||(we=!0,dt--),dt||st.next(lt(Ye.slice()))},()=>{--vt||st.complete()}))},st)},st)}}(st,Oe,et?vt=>(0,be.e)(et,vt):ae.D));return lt?Ye.pipe((0,ye.I)(lt)):Ye}function Ue(xe,Oe,lt){xe?(0,ze.N)(lt,xe,Oe):Oe()}},8793:(An,ft,$)=>{"use strict";$.d(ft,{x:()=>ye});var c=$(6365),he=$(3794),ae=$(8455);function ye(...ce){return function f(){return(0,c.U)(1)}()((0,ae.H)(ce,(0,he.lI)(ce)))}},983:(An,ft,$)=>{"use strict";$.d(ft,{w:()=>f});const f=new($(1985).c)(ye=>ye.complete())},8455:(An,ft,$)=>{"use strict";$.d(ft,{H:()=>ve});var c=$(8750),f=$(941),he=$(6745),ce=$(1985),ke=$(4761),ze=$(8071),Ie=$(5225);function Ue(we,rt){if(!we)throw new Error("Iterable cannot be null");return new ce.c(ut=>{(0,Ie.N)(ut,rt,()=>{const Ct=we[Symbol.asyncIterator]();(0,Ie.N)(ut,rt,()=>{Ct.next().then(Rt=>{Rt.done?ut.complete():ut.next(Rt.value)})},0,!0)})})}var xe=$(5055),Oe=$(9858),lt=$(7441),st=$(5397),et=$(7953),Ye=$(591),vt=$(5196);function ve(we,rt){return rt?function pt(we,rt){if(null!=we){if((0,xe.l)(we))return function ae(we,rt){return(0,c.Tg)(we).pipe((0,he._)(rt),(0,f.Q)(rt))}(we,rt);if((0,lt.X)(we))return function be(we,rt){return new ce.c(ut=>{let Ct=0;return rt.schedule(function(){Ct===we.length?ut.complete():(ut.next(we[Ct++]),ut.closed||this.schedule())})})}(we,rt);if((0,Oe.y)(we))return function ye(we,rt){return(0,c.Tg)(we).pipe((0,he._)(rt),(0,f.Q)(rt))}(we,rt);if((0,et.T)(we))return Ue(we,rt);if((0,st.x)(we))return function ue(we,rt){return new ce.c(ut=>{let Ct;return(0,Ie.N)(ut,rt,()=>{Ct=we[ke.l](),(0,Ie.N)(ut,rt,()=>{let Rt,Se;try{({value:Rt,done:Se}=Ct.next())}catch(Wt){return void ut.error(Wt)}Se?ut.complete():ut.next(Rt)},0,!0)}),()=>(0,ze.T)(null==Ct?void 0:Ct.return)&&Ct.return()})}(we,rt);if((0,vt.U)(we))return function dt(we,rt){return Ue((0,vt.C)(we),rt)}(we,rt)}throw(0,Ye.L)(we)}(we,rt):(0,c.Tg)(we)}},8750:(An,ft,$)=>{"use strict";$.d(ft,{Tg:()=>xe});var c=$(1635),f=$(7441),he=$(9858),ae=$(1985),ye=$(5055),ce=$(7953),be=$(591),ke=$(5397),ze=$(5196),Ie=$(8071),ue=$(5334),Ue=$(3494);function xe(pt){if(pt instanceof ae.c)return pt;if(null!=pt){if((0,ye.l)(pt))return function Oe(pt){return new ae.c(ve=>{const we=pt[Ue.s]();if((0,Ie.T)(we.subscribe))return we.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pt);if((0,f.X)(pt))return function lt(pt){return new ae.c(ve=>{for(let we=0;we<pt.length&&!ve.closed;we++)ve.next(pt[we]);ve.complete()})}(pt);if((0,he.y)(pt))return function st(pt){return new ae.c(ve=>{pt.then(we=>{ve.closed||(ve.next(we),ve.complete())},we=>ve.error(we)).then(null,ue.m)})}(pt);if((0,ce.T)(pt))return Ye(pt);if((0,ke.x)(pt))return function et(pt){return new ae.c(ve=>{for(const we of pt)if(ve.next(we),ve.closed)return;ve.complete()})}(pt);if((0,ze.U)(pt))return function vt(pt){return Ye((0,ze.C)(pt))}(pt)}throw(0,be.L)(pt)}function Ye(pt){return new ae.c(ve=>{(function dt(pt,ve){var we,rt,ut,Ct;return(0,c.sH)(this,void 0,void 0,function*(){try{for(we=(0,c.xN)(pt);!(rt=yield we.next()).done;)if(ve.next(rt.value),ve.closed)return}catch(Rt){ut={error:Rt}}finally{try{rt&&!rt.done&&(Ct=we.return)&&(yield Ct.call(we))}finally{if(ut)throw ut.error}}ve.complete()})})(pt,ve).catch(we=>ve.error(we))})}},7673:(An,ft,$)=>{"use strict";$.d(ft,{of:()=>he});var c=$(3794),f=$(8455);function he(...ae){const ye=(0,c.lI)(ae);return(0,f.H)(ae,ye)}},4360:(An,ft,$)=>{"use strict";$.d(ft,{_:()=>f});var c=$(7707);function f(ae,ye,ce,be,ke){return new he(ae,ye,ce,be,ke)}class he extends c.vU{constructor(ye,ce,be,ke,ze,Ie){super(ye),this.onFinalize=ze,this.shouldUnsubscribe=Ie,this._next=ce?function(ue){try{ce(ue)}catch(Ue){ye.error(Ue)}}:super._next,this._error=ke?function(ue){try{ke(ue)}catch(Ue){ye.error(Ue)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ue){ye.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},274:(An,ft,$)=>{"use strict";$.d(ft,{H:()=>he});var c=$(1397),f=$(8071);function he(ae,ye){return(0,f.T)(ye)?(0,c.Z)(ae,ye,1):(0,c.Z)(ae,1)}},9901:(An,ft,$)=>{"use strict";$.d(ft,{U:()=>he});var c=$(9974),f=$(4360);function he(ae){return(0,c.N)((ye,ce)=>{let be=!1;ye.subscribe((0,f._)(ce,ke=>{be=!0,ce.next(ke)},()=>{be||ce.next(ae),ce.complete()}))})}},3294:(An,ft,$)=>{"use strict";$.d(ft,{F:()=>ae});var c=$(3669),f=$(9974),he=$(4360);function ae(ce,be=c.D){return ce=null!=ce?ce:ye,(0,f.N)((ke,ze)=>{let Ie,ue=!0;ke.subscribe((0,he._)(ze,Ue=>{const xe=be(Ue);(ue||!ce(Ie,xe))&&(ue=!1,Ie=xe,ze.next(Ue))}))})}function ye(ce,be){return ce===be}},5964:(An,ft,$)=>{"use strict";$.d(ft,{p:()=>he});var c=$(9974),f=$(4360);function he(ae,ye){return(0,c.N)((ce,be)=>{let ke=0;ce.subscribe((0,f._)(be,ze=>ae.call(ye,ze,ke++)&&be.next(ze)))})}},980:(An,ft,$)=>{"use strict";$.d(ft,{j:()=>f});var c=$(9974);function f(he){return(0,c.N)((ae,ye)=>{try{ae.subscribe(ye)}finally{ye.add(he)}})}},1594:(An,ft,$)=>{"use strict";$.d(ft,{$:()=>be});var c=$(9350),f=$(5964),he=$(6697),ae=$(9901),ye=$(3774),ce=$(3669);function be(ke,ze){const Ie=arguments.length>=2;return ue=>ue.pipe(ke?(0,f.p)((Ue,xe)=>ke(Ue,xe,ue)):ce.D,(0,he.s)(1),Ie?(0,ae.U)(ze):(0,ye.v)(()=>new c.G))}},6354:(An,ft,$)=>{"use strict";$.d(ft,{T:()=>he});var c=$(9974),f=$(4360);function he(ae,ye){return(0,c.N)((ce,be)=>{let ke=0;ce.subscribe((0,f._)(be,ze=>{be.next(ae.call(ye,ze,ke++))}))})}},6365:(An,ft,$)=>{"use strict";$.d(ft,{U:()=>he});var c=$(1397),f=$(3669);function he(ae=1/0){return(0,c.Z)(f.D,ae)}},1397:(An,ft,$)=>{"use strict";$.d(ft,{Z:()=>ke});var c=$(6354),f=$(8750),he=$(9974),ae=$(5225),ye=$(4360),be=$(8071);function ke(ze,Ie,ue=1/0){return(0,be.T)(Ie)?ke((Ue,xe)=>(0,c.T)((Oe,lt)=>Ie(Ue,Oe,xe,lt))((0,f.Tg)(ze(Ue,xe))),ue):("number"==typeof Ie&&(ue=Ie),(0,he.N)((Ue,xe)=>function ce(ze,Ie,ue,Ue,xe,Oe,lt,st){const et=[];let Ye=0,vt=0,dt=!1;const pt=()=>{dt&&!et.length&&!Ye&&Ie.complete()},ve=rt=>Ye<Ue?we(rt):et.push(rt),we=rt=>{Oe&&Ie.next(rt),Ye++;let ut=!1;(0,f.Tg)(ue(rt,vt++)).subscribe((0,ye._)(Ie,Ct=>{null==xe||xe(Ct),Oe?ve(Ct):Ie.next(Ct)},()=>{ut=!0},void 0,()=>{if(ut)try{for(Ye--;et.length&&Ye<Ue;){const Ct=et.shift();lt?(0,ae.N)(Ie,lt,()=>we(Ct)):we(Ct)}pt()}catch(Ct){Ie.error(Ct)}}))};return ze.subscribe((0,ye._)(Ie,ve,()=>{dt=!0,pt()})),()=>{null==st||st()}}(Ue,xe,ze,ue)))}},941:(An,ft,$)=>{"use strict";$.d(ft,{Q:()=>ae});var c=$(5225),f=$(9974),he=$(4360);function ae(ye,ce=0){return(0,f.N)((be,ke)=>{be.subscribe((0,he._)(ke,ze=>(0,c.N)(ke,ye,()=>ke.next(ze),ce),()=>(0,c.N)(ke,ye,()=>ke.complete(),ce),ze=>(0,c.N)(ke,ye,()=>ke.error(ze),ce)))})}},2816:(An,ft,$)=>{"use strict";$.d(ft,{S:()=>ae});var c=$(9974),f=$(4360);function ae(ye,ce){return(0,c.N)(function he(ye,ce,be,ke,ze){return(Ie,ue)=>{let Ue=be,xe=ce,Oe=0;Ie.subscribe((0,f._)(ue,lt=>{const st=Oe++;xe=Ue?ye(xe,lt,st):(Ue=!0,lt),ke&&ue.next(xe)},ze&&(()=>{Ue&&ue.next(xe),ue.complete()})))}}(ye,ce,arguments.length>=2,!0))}},9172:(An,ft,$)=>{"use strict";$.d(ft,{Z:()=>ae});var c=$(8793),f=$(3794),he=$(9974);function ae(...ye){const ce=(0,f.lI)(ye);return(0,he.N)((be,ke)=>{(ce?(0,c.x)(ye,be,ce):(0,c.x)(ye,be)).subscribe(ke)})}},6745:(An,ft,$)=>{"use strict";$.d(ft,{_:()=>f});var c=$(9974);function f(he,ae=0){return(0,c.N)((ye,ce)=>{ce.add(he.schedule(()=>ye.subscribe(ce),ae))})}},5558:(An,ft,$)=>{"use strict";$.d(ft,{n:()=>ae});var c=$(8750),f=$(9974),he=$(4360);function ae(ye,ce){return(0,f.N)((be,ke)=>{let ze=null,Ie=0,ue=!1;const Ue=()=>ue&&!ze&&ke.complete();be.subscribe((0,he._)(ke,xe=>{null==ze||ze.unsubscribe();let Oe=0;const lt=Ie++;(0,c.Tg)(ye(xe,lt)).subscribe(ze=(0,he._)(ke,st=>ke.next(ce?ce(xe,st,lt,Oe++):st),()=>{ze=null,Ue()}))},()=>{ue=!0,Ue()}))})}},6697:(An,ft,$)=>{"use strict";$.d(ft,{s:()=>ae});var c=$(983),f=$(9974),he=$(4360);function ae(ye){return ye<=0?()=>c.w:(0,f.N)((ce,be)=>{let ke=0;ce.subscribe((0,he._)(be,ze=>{++ke<=ye&&(be.next(ze),ye<=ke&&be.complete())}))})}},8141:(An,ft,$)=>{"use strict";$.d(ft,{M:()=>ye});var c=$(8071),f=$(9974),he=$(4360),ae=$(3669);function ye(ce,be,ke){const ze=(0,c.T)(ce)||be||ke?{next:ce,error:be,complete:ke}:ce;return ze?(0,f.N)((Ie,ue)=>{var Ue;null===(Ue=ze.subscribe)||void 0===Ue||Ue.call(ze);let xe=!0;Ie.subscribe((0,he._)(ue,Oe=>{var lt;null===(lt=ze.next)||void 0===lt||lt.call(ze,Oe),ue.next(Oe)},()=>{var Oe;xe=!1,null===(Oe=ze.complete)||void 0===Oe||Oe.call(ze),ue.complete()},Oe=>{var lt;xe=!1,null===(lt=ze.error)||void 0===lt||lt.call(ze,Oe),ue.error(Oe)},()=>{var Oe,lt;xe&&(null===(Oe=ze.unsubscribe)||void 0===Oe||Oe.call(ze)),null===(lt=ze.finalize)||void 0===lt||lt.call(ze)}))}):ae.D}},3774:(An,ft,$)=>{"use strict";$.d(ft,{v:()=>ae});var c=$(9350),f=$(9974),he=$(4360);function ae(ce=ye){return(0,f.N)((be,ke)=>{let ze=!1;be.subscribe((0,he._)(ke,Ie=>{ze=!0,ke.next(Ie)},()=>ze?ke.complete():ke.error(ce())))})}function ye(){return new c.G}},6780:(An,ft,$)=>{"use strict";$.d(ft,{R:()=>ye});var c=$(8359);class f extends c.yU{constructor(be,ke){super()}schedule(be,ke=0){return this}}const he={setInterval(ce,be,...ke){const{delegate:ze}=he;return null!=ze&&ze.setInterval?ze.setInterval(ce,be,...ke):setInterval(ce,be,...ke)},clearInterval(ce){const{delegate:be}=he;return((null==be?void 0:be.clearInterval)||clearInterval)(ce)},delegate:void 0};var ae=$(7908);class ye extends f{constructor(be,ke){super(be,ke),this.scheduler=be,this.work=ke,this.pending=!1}schedule(be,ke=0){var ze;if(this.closed)return this;this.state=be;const Ie=this.id,ue=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(ue,Ie,ke)),this.pending=!0,this.delay=ke,this.id=null!==(ze=this.id)&&void 0!==ze?ze:this.requestAsyncId(ue,this.id,ke),this}requestAsyncId(be,ke,ze=0){return he.setInterval(be.flush.bind(be,this),ze)}recycleAsyncId(be,ke,ze=0){if(null!=ze&&this.delay===ze&&!1===this.pending)return ke;null!=ke&&he.clearInterval(ke)}execute(be,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(be,ke);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,ke){let Ie,ze=!1;try{this.work(be)}catch(ue){ze=!0,Ie=ue||new Error("Scheduled action threw falsy error")}if(ze)return this.unsubscribe(),Ie}unsubscribe(){if(!this.closed){const{id:be,scheduler:ke}=this,{actions:ze}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.o)(ze,this),null!=be&&(this.id=this.recycleAsyncId(ke,be,null)),this.delay=null,super.unsubscribe()}}}},9687:(An,ft,$)=>{"use strict";$.d(ft,{q:()=>he});var c=$(6129);class f{constructor(ye,ce=f.now){this.schedulerActionCtor=ye,this.now=ce}schedule(ye,ce=0,be){return new this.schedulerActionCtor(this,ye).schedule(be,ce)}}f.now=c.U.now;class he extends f{constructor(ye,ce=f.now){super(ye,ce),this.actions=[],this._active=!1}flush(ye){const{actions:ce}=this;if(this._active)return void ce.push(ye);let be;this._active=!0;do{if(be=ye.execute(ye.state,ye.delay))break}while(ye=ce.shift());if(this._active=!1,be){for(;ye=ce.shift();)ye.unsubscribe();throw be}}}},3236:(An,ft,$)=>{"use strict";$.d(ft,{E:()=>he});var c=$(6780);const he=new($(9687).q)(c.R)},6129:(An,ft,$)=>{"use strict";$.d(ft,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(An,ft,$)=>{"use strict";$.d(ft,{f:()=>c});const c={setTimeout(f,he,...ae){const{delegate:ye}=c;return null!=ye&&ye.setTimeout?ye.setTimeout(f,he,...ae):setTimeout(f,he,...ae)},clearTimeout(f){const{delegate:he}=c;return((null==he?void 0:he.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(An,ft,$)=>{"use strict";$.d(ft,{l:()=>f});const f=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(An,ft,$)=>{"use strict";$.d(ft,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(An,ft,$)=>{"use strict";$.d(ft,{G:()=>f});const f=(0,$(1853).L)(he=>function(){he(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(An,ft,$)=>{"use strict";$.d(ft,{R0:()=>ce,ms:()=>ae,lI:()=>ye});var c=$(8071);function he(be){return be[be.length-1]}function ae(be){return(0,c.T)(he(be))?be.pop():void 0}function ye(be){return function f(be){return be&&(0,c.T)(be.schedule)}(he(be))?be.pop():void 0}function ce(be,ke){return"number"==typeof he(be)?be.pop():ke}},3073:(An,ft,$)=>{"use strict";$.d(ft,{D:()=>ye});const{isArray:c}=Array,{getPrototypeOf:f,prototype:he,keys:ae}=Object;function ye(be){if(1===be.length){const ke=be[0];if(c(ke))return{args:ke,keys:null};if(function ce(be){return be&&"object"==typeof be&&f(be)===he}(ke)){const ze=ae(ke);return{args:ze.map(Ie=>ke[Ie]),keys:ze}}}return{args:be,keys:null}}},7908:(An,ft,$)=>{"use strict";function c(f,he){if(f){const ae=f.indexOf(he);0<=ae&&f.splice(ae,1)}}$.d(ft,{o:()=>c})},1853:(An,ft,$)=>{"use strict";function c(f){const ae=f(ye=>{Error.call(ye),ye.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}$.d(ft,{L:()=>c})},8496:(An,ft,$)=>{"use strict";function c(f,he){return f.reduce((ae,ye,ce)=>(ae[ye]=he[ce],ae),{})}$.d(ft,{e:()=>c})},9786:(An,ft,$)=>{"use strict";$.d(ft,{Y:()=>he,l:()=>ae});var c=$(1026);let f=null;function he(ye){if(c.$.useDeprecatedSynchronousErrorHandling){const ce=!f;if(ce&&(f={errorThrown:!1,error:null}),ye(),ce){const{errorThrown:be,error:ke}=f;if(f=null,be)throw ke}}else ye()}function ae(ye){c.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=ye)}},5225:(An,ft,$)=>{"use strict";function c(f,he,ae,ye=0,ce=!1){const be=he.schedule(function(){ae(),ce?f.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(f.add(be),!ce)return be}$.d(ft,{N:()=>c})},3669:(An,ft,$)=>{"use strict";function c(f){return f}$.d(ft,{D:()=>c})},7441:(An,ft,$)=>{"use strict";$.d(ft,{X:()=>c});const c=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(An,ft,$)=>{"use strict";$.d(ft,{T:()=>f});var c=$(8071);function f(he){return Symbol.asyncIterator&&(0,c.T)(null==he?void 0:he[Symbol.asyncIterator])}},8071:(An,ft,$)=>{"use strict";function c(f){return"function"==typeof f}$.d(ft,{T:()=>c})},5055:(An,ft,$)=>{"use strict";$.d(ft,{l:()=>he});var c=$(3494),f=$(8071);function he(ae){return(0,f.T)(ae[c.s])}},5397:(An,ft,$)=>{"use strict";$.d(ft,{x:()=>he});var c=$(4761),f=$(8071);function he(ae){return(0,f.T)(null==ae?void 0:ae[c.l])}},9858:(An,ft,$)=>{"use strict";$.d(ft,{y:()=>f});var c=$(8071);function f(he){return(0,c.T)(null==he?void 0:he.then)}},5196:(An,ft,$)=>{"use strict";$.d(ft,{C:()=>he,U:()=>ae});var c=$(1635),f=$(8071);function he(ye){return(0,c.AQ)(this,arguments,function*(){const be=ye.getReader();try{for(;;){const{value:ke,done:ze}=yield(0,c.N3)(be.read());if(ze)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(ke)}}finally{be.releaseLock()}})}function ae(ye){return(0,f.T)(null==ye?void 0:ye.getReader)}},9974:(An,ft,$)=>{"use strict";$.d(ft,{N:()=>he,S:()=>f});var c=$(8071);function f(ae){return(0,c.T)(null==ae?void 0:ae.lift)}function he(ae){return ye=>{if(f(ye))return ye.lift(function(ce){try{return ae(ce,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(An,ft,$)=>{"use strict";$.d(ft,{I:()=>ae});var c=$(6354);const{isArray:f}=Array;function ae(ye){return(0,c.T)(ce=>function he(ye,ce){return f(ce)?ye(...ce):ye(ce)}(ye,ce))}},5343:(An,ft,$)=>{"use strict";function c(){}$.d(ft,{l:()=>c})},1203:(An,ft,$)=>{"use strict";$.d(ft,{F:()=>f,m:()=>he});var c=$(3669);function f(...ae){return he(ae)}function he(ae){return 0===ae.length?c.D:1===ae.length?ae[0]:function(ce){return ae.reduce((be,ke)=>ke(be),ce)}}},5334:(An,ft,$)=>{"use strict";$.d(ft,{m:()=>he});var c=$(1026),f=$(9270);function he(ae){f.f.setTimeout(()=>{const{onUnhandledError:ye}=c.$;if(!ye)throw ae;ye(ae)})}},591:(An,ft,$)=>{"use strict";function c(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(ft,{L:()=>c})},8996:(An,ft,$)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(he){if(!$.o(c,he))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+he+"'");throw ce.code="MODULE_NOT_FOUND",ce});var ae=c[he],ye=ae[0];return Promise.all(ae.slice(1).map($.e)).then(()=>$(ye))}f.keys=()=>Object.keys(c),f.id=8996,An.exports=f},177:(An,ft,$)=>{"use strict";$.d(ft,{AJ:()=>Qt,B3:()=>Rr,MD:()=>Qe,N0:()=>oi,QT:()=>he,Sm:()=>st,Sq:()=>Ze,T3:()=>Ur,VF:()=>ye,Vy:()=>tn,Xr:()=>bn,YU:()=>Gn,ZD:()=>ae,_b:()=>gt,aZ:()=>Ye,bT:()=>sn,fw:()=>et,hb:()=>Oe,hj:()=>ze,qQ:()=>be});var c=$(4438);let f=null;function he(){return f}function ae(D){var U;null!==(U=f)&&void 0!==U||(f=D)}class ye{}const be=new c.nKC("");let ke=(()=>{var D;class U{historyGo(L){throw new Error("")}}return(D=U).\u0275fac=function(L){return new(L||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(Ie),providedIn:"platform"}),U})();const ze=new c.nKC("");let Ie=(()=>{var D;class U extends ke{constructor(){super(),this._doc=(0,c.WQX)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(L){const Z=he().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",L,!1),()=>Z.removeEventListener("popstate",L)}onHashChange(L){const Z=he().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",L,!1),()=>Z.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,Z,Pe){this._history.pushState(L,Z,Pe)}replaceState(L,Z,Pe){this._history.replaceState(L,Z,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return(D=U).\u0275fac=function(L){return new(L||D)},D.\u0275prov=c.jDH({token:D,factory:()=>new D,providedIn:"platform"}),U})();function ue(D,U){if(0==D.length)return U;if(0==U.length)return D;let fe=0;return D.endsWith("/")&&fe++,U.startsWith("/")&&fe++,2==fe?D+U.substring(1):1==fe?D+U:D+"/"+U}function Ue(D){const U=D.match(/#|\?|$/),fe=U&&U.index||D.length;return D.slice(0,fe-("/"===D[fe-1]?1:0))+D.slice(fe)}function xe(D){return D&&"?"!==D[0]?"?"+D:D}let Oe=(()=>{var D;class U{historyGo(L){throw new Error("")}}return(D=U).\u0275fac=function(L){return new(L||D)},D.\u0275prov=c.jDH({token:D,factory:()=>(0,c.WQX)(st),providedIn:"root"}),U})();const lt=new c.nKC("");let st=(()=>{var D;class U extends Oe{constructor(L,Z){var Pe,bt,cn;super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=null!==(Pe=null!==(bt=null!=Z?Z:this._platformLocation.getBaseHrefFromDOM())&&void 0!==bt?bt:null===(cn=(0,c.WQX)(be).location)||void 0===cn?void 0:cn.origin)&&void 0!==Pe?Pe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return ue(this._baseHref,L)}path(L=!1){const Z=this._platformLocation.pathname+xe(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&L?`${Z}${Pe}`:Z}pushState(L,Z,Pe,bt){const cn=this.prepareExternalUrl(Pe+xe(bt));this._platformLocation.pushState(L,Z,cn)}replaceState(L,Z,Pe,bt){const cn=this.prepareExternalUrl(Pe+xe(bt));this._platformLocation.replaceState(L,Z,cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var Z,Pe;null===(Z=(Pe=this._platformLocation).historyGo)||void 0===Z||Z.call(Pe,L)}}return(D=U).\u0275fac=function(L){return new(L||D)(c.KVO(ke),c.KVO(lt,8))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),U})(),et=(()=>{var D;class U extends Oe{constructor(L,Z){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){var Z;const Pe=null!==(Z=this._platformLocation.hash)&&void 0!==Z?Z:"#";return Pe.length>0?Pe.substring(1):Pe}prepareExternalUrl(L){const Z=ue(this._baseHref,L);return Z.length>0?"#"+Z:Z}pushState(L,Z,Pe,bt){let cn=this.prepareExternalUrl(Pe+xe(bt));0==cn.length&&(cn=this._platformLocation.pathname),this._platformLocation.pushState(L,Z,cn)}replaceState(L,Z,Pe,bt){let cn=this.prepareExternalUrl(Pe+xe(bt));0==cn.length&&(cn=this._platformLocation.pathname),this._platformLocation.replaceState(L,Z,cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var Z,Pe;null===(Z=(Pe=this._platformLocation).historyGo)||void 0===Z||Z.call(Pe,L)}}return(D=U).\u0275fac=function(L){return new(L||D)(c.KVO(ke),c.KVO(lt,8))},D.\u0275prov=c.jDH({token:D,factory:D.\u0275fac}),U})(),Ye=(()=>{var D;class U{constructor(L){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const Z=this._locationStrategy.getBaseHref();this._basePath=function ve(D){if(new RegExp("^(https?:)?//").test(D)){const[,fe]=D.split(/\/\/[^\/]+/);return fe}return D}(Ue(pt(Z))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){var L;null===(L=this._urlChangeSubscription)||void 0===L||L.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,Z=""){return this.path()==this.normalize(L+xe(Z))}normalize(L){return U.stripTrailingSlash(function dt(D,U){if(!D||!U.startsWith(D))return U;const fe=U.substring(D.length);return""===fe||["/",";","?","#"].includes(fe[0])?fe:U}(this._basePath,pt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,Z="",Pe=null){this._locationStrategy.pushState(Pe,"",L,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+xe(Z)),Pe)}replaceState(L,Z="",Pe=null){this._locationStrategy.replaceState(Pe,"",L,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+xe(Z)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){var Z,Pe;null===(Z=(Pe=this._locationStrategy).historyGo)||void 0===Z||Z.call(Pe,L)}onUrlChange(L){var Z;return this._urlChangeListeners.push(L),null!==(Z=this._urlChangeSubscription)&&void 0!==Z||(this._urlChangeSubscription=this.subscribe(Pe=>{this._notifyUrlChangeListeners(Pe.url,Pe.state)})),()=>{const Pe=this._urlChangeListeners.indexOf(L);var bt;this._urlChangeListeners.splice(Pe,1),0===this._urlChangeListeners.length&&(null===(bt=this._urlChangeSubscription)||void 0===bt||bt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",Z){this._urlChangeListeners.forEach(Pe=>Pe(L,Z))}subscribe(L,Z,Pe){return this._subject.subscribe({next:L,error:Z,complete:Pe})}}return(D=U).normalizeQueryParams=xe,D.joinWithSlash=ue,D.stripTrailingSlash=Ue,D.\u0275fac=function(L){return new(L||D)(c.KVO(Oe))},D.\u0275prov=c.jDH({token:D,factory:()=>function vt(){return new Ye((0,c.KVO)(Oe))}(),providedIn:"root"}),U})();function pt(D){return D.replace(/\/index.html$/,"")}function gt(D,U){U=encodeURIComponent(U);for(const fe of D.split(";")){const L=fe.indexOf("="),[Z,Pe]=-1==L?[fe,""]:[fe.slice(0,L),fe.slice(L+1)];if(Z.trim()===U)return decodeURIComponent(Pe)}return null}const Gt=/\s+/,vn=[];let Gn=(()=>{var D;class U{constructor(L,Z){this._ngEl=L,this._renderer=Z,this.initialClasses=vn,this.stateMap=new Map}set klass(L){this.initialClasses=null!=L?L.trim().split(Gt):vn}set ngClass(L){this.rawClass="string"==typeof L?L.trim().split(Gt):L}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const L=this.rawClass;if(Array.isArray(L)||L instanceof Set)for(const Z of L)this._updateState(Z,!0);else if(null!=L)for(const Z of Object.keys(L))this._updateState(Z,!!L[Z]);this._applyStateDiff()}_updateState(L,Z){const Pe=this.stateMap.get(L);void 0!==Pe?(Pe.enabled!==Z&&(Pe.changed=!0,Pe.enabled=Z),Pe.touched=!0):this.stateMap.set(L,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const L of this.stateMap){const Z=L[0],Pe=L[1];Pe.changed?(this._toggleClass(Z,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),Pe.touched=!1}}_toggleClass(L,Z){(L=L.trim()).length>0&&L.split(Gt).forEach(Pe=>{Z?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}}return(D=U).\u0275fac=function(L){return new(L||D)(c.rXU(c.aKT),c.rXU(c.sFG))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0}),U})();class Ae{constructor(U,fe,L,Z){this.$implicit=U,this.ngForOf=fe,this.index=L,this.count=Z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ze=(()=>{var D;class U{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,Z,Pe){this._viewContainer=L,this._template=Z,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const Z=this._viewContainer;L.forEachOperation((Pe,bt,cn)=>{if(null==Pe.previousIndex)Z.createEmbeddedView(this._template,new Ae(Pe.item,this._ngForOf,-1,-1),null===cn?void 0:cn);else if(null==cn)Z.remove(null===bt?void 0:bt);else if(null!==bt){const lr=Z.get(bt);Z.move(lr,cn),ct(lr,Pe)}});for(let Pe=0,bt=Z.length;Pe<bt;Pe++){const lr=Z.get(Pe).context;lr.index=Pe,lr.count=bt,lr.ngForOf=this._ngForOf}L.forEachIdentityChange(Pe=>{ct(Z.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(L,Z){return!0}}return(D=U).\u0275fac=function(L){return new(L||D)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),U})();function ct(D,U){D.context.$implicit=U.item}let sn=(()=>{var D;class U{constructor(L,Z){this._viewContainer=L,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){Le("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){Le("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,Z){return!0}}return(D=U).\u0275fac=function(L){return new(L||D)(c.rXU(c.c1b),c.rXU(c.C4Q))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),U})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function Le(D,U){if(U&&!U.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,c.Tbb)(U)}'.`)}let Rr=(()=>{var D;class U{constructor(L,Z,Pe){this._ngEl=L,this._differs=Z,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(L){this._ngStyle=L,!this._differ&&L&&(this._differ=this._differs.find(L).create())}ngDoCheck(){if(this._differ){const L=this._differ.diff(this._ngStyle);L&&this._applyChanges(L)}}_setStyle(L,Z){const[Pe,bt]=L.split("."),cn=-1===Pe.indexOf("-")?void 0:c.czy.DashCase;null!=Z?this._renderer.setStyle(this._ngEl.nativeElement,Pe,bt?`${Z}${bt}`:Z,cn):this._renderer.removeStyle(this._ngEl.nativeElement,Pe,cn)}_applyChanges(L){L.forEachRemovedItem(Z=>this._setStyle(Z.key,null)),L.forEachAddedItem(Z=>this._setStyle(Z.key,Z.currentValue)),L.forEachChangedItem(Z=>this._setStyle(Z.key,Z.currentValue))}}return(D=U).\u0275fac=function(L){return new(L||D)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),U})(),Ur=(()=>{var D;class U{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(this._shouldRecreateView(L)){var Z;const Pe=this._viewContainerRef;if(this._viewRef&&Pe.remove(Pe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const bt=this._createContextForwardProxy();this._viewRef=Pe.createEmbeddedView(this.ngTemplateOutlet,bt,{injector:null!==(Z=this.ngTemplateOutletInjector)&&void 0!==Z?Z:void 0})}}_shouldRecreateView(L){return!!L.ngTemplateOutlet||!!L.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(L,Z,Pe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Z,Pe),get:(L,Z,Pe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Z,Pe)}})}}return(D=U).\u0275fac=function(L){return new(L||D)(c.rXU(c.c1b))},D.\u0275dir=c.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),U})(),Qe=(()=>{var D;class U{}return(D=U).\u0275fac=function(L){return new(L||D)},D.\u0275mod=c.$C({type:D}),D.\u0275inj=c.G2t({}),U})();const Qt="browser",yt="server";function tn(D){return D===yt}let bn=(()=>{var D;class U{}return(D=U).\u0275prov=(0,c.jDH)({token:D,providedIn:"root",factory:()=>function qt(D){return D===Qt}((0,c.WQX)(c.Agw))?new Sn((0,c.WQX)(be),window):new Pr}),U})();class Sn{constructor(U,fe){this.document=U,this.window=fe,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(U){this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){const fe=function Wn(D,U){const fe=D.getElementById(U)||D.getElementsByName(U)[0];if(fe)return fe;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const L=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Z=L.currentNode;for(;Z;){const Pe=Z.shadowRoot;if(Pe){const bt=Pe.getElementById(U)||Pe.querySelector(`[name="${U}"]`);if(bt)return bt}Z=L.nextNode()}}return null}(this.document,U);fe&&(this.scrollToElement(fe),fe.focus())}setHistoryScrollRestoration(U){this.window.history.scrollRestoration=U}scrollToElement(U){const fe=U.getBoundingClientRect(),L=fe.left+this.window.pageXOffset,Z=fe.top+this.window.pageYOffset,Pe=this.offset();this.window.scrollTo(L-Pe[0],Z-Pe[1])}}class Pr{setOffset(U){}getScrollPosition(){return[0,0]}scrollToPosition(U){}scrollToAnchor(U){}setHistoryScrollRestoration(U){}}class oi{}},1626:(An,ft,$)=>{"use strict";$.d(ft,{$R:()=>We,Nl:()=>ve,Qq:()=>qe,Sx:()=>Ke});var c=$(467),f=$(4438),he=$(7673),ae=$(1985),ye=$(8455),ce=$(274),be=$(5964),ke=$(6354),ze=$(980),Ie=$(5558),ue=$(177);class Ue{}class xe{}class Oe{constructor(Ae){this.normalizedNames=new Map,this.lazyUpdate=null,Ae?"string"==typeof Ae?this.lazyInit=()=>{this.headers=new Map,Ae.split("\n").forEach(Ze=>{const ct=Ze.indexOf(":");if(ct>0){const Mt=Ze.slice(0,ct),sn=Mt.toLowerCase(),wn=Ze.slice(ct+1).trim();this.maybeSetNormalizedName(Mt,sn),this.headers.has(sn)?this.headers.get(sn).push(wn):this.headers.set(sn,[wn])}})}:typeof Headers<"u"&&Ae instanceof Headers?(this.headers=new Map,Ae.forEach((Ze,ct)=>{this.setHeaderEntries(ct,Ze)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ae).forEach(([Ze,ct])=>{this.setHeaderEntries(Ze,ct)})}:this.headers=new Map}has(Ae){return this.init(),this.headers.has(Ae.toLowerCase())}get(Ae){this.init();const Ze=this.headers.get(Ae.toLowerCase());return Ze&&Ze.length>0?Ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ae){return this.init(),this.headers.get(Ae.toLowerCase())||null}append(Ae,Ze){return this.clone({name:Ae,value:Ze,op:"a"})}set(Ae,Ze){return this.clone({name:Ae,value:Ze,op:"s"})}delete(Ae,Ze){return this.clone({name:Ae,value:Ze,op:"d"})}maybeSetNormalizedName(Ae,Ze){this.normalizedNames.has(Ze)||this.normalizedNames.set(Ze,Ae)}init(){this.lazyInit&&(this.lazyInit instanceof Oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ae=>this.applyUpdate(Ae)),this.lazyUpdate=null))}copyFrom(Ae){Ae.init(),Array.from(Ae.headers.keys()).forEach(Ze=>{this.headers.set(Ze,Ae.headers.get(Ze)),this.normalizedNames.set(Ze,Ae.normalizedNames.get(Ze))})}clone(Ae){const Ze=new Oe;return Ze.lazyInit=this.lazyInit&&this.lazyInit instanceof Oe?this.lazyInit:this,Ze.lazyUpdate=(this.lazyUpdate||[]).concat([Ae]),Ze}applyUpdate(Ae){const Ze=Ae.name.toLowerCase();switch(Ae.op){case"a":case"s":let ct=Ae.value;if("string"==typeof ct&&(ct=[ct]),0===ct.length)return;this.maybeSetNormalizedName(Ae.name,Ze);const Mt=("a"===Ae.op?this.headers.get(Ze):void 0)||[];Mt.push(...ct),this.headers.set(Ze,Mt);break;case"d":const sn=Ae.value;if(sn){let wn=this.headers.get(Ze);if(!wn)return;wn=wn.filter(Le=>-1===sn.indexOf(Le)),0===wn.length?(this.headers.delete(Ze),this.normalizedNames.delete(Ze)):this.headers.set(Ze,wn)}else this.headers.delete(Ze),this.normalizedNames.delete(Ze)}}setHeaderEntries(Ae,Ze){const ct=(Array.isArray(Ze)?Ze:[Ze]).map(sn=>sn.toString()),Mt=Ae.toLowerCase();this.headers.set(Mt,ct),this.maybeSetNormalizedName(Ae,Mt)}forEach(Ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ze=>Ae(this.normalizedNames.get(Ze),this.headers.get(Ze)))}}class st{encodeKey(Ae){return dt(Ae)}encodeValue(Ae){return dt(Ae)}decodeKey(Ae){return decodeURIComponent(Ae)}decodeValue(Ae){return decodeURIComponent(Ae)}}const Ye=/%(\d[a-f0-9])/gi,vt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dt(se){return encodeURIComponent(se).replace(Ye,(Ae,Ze)=>{var ct;return null!==(ct=vt[Ze])&&void 0!==ct?ct:Ae})}function pt(se){return`${se}`}class ve{constructor(Ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ae.encoder||new st,Ae.fromString){if(Ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function et(se,Ae){const Ze=new Map;return se.length>0&&se.replace(/^\?/,"").split("&").forEach(Mt=>{const sn=Mt.indexOf("="),[wn,Le]=-1==sn?[Ae.decodeKey(Mt),""]:[Ae.decodeKey(Mt.slice(0,sn)),Ae.decodeValue(Mt.slice(sn+1))],ur=Ze.get(wn)||[];ur.push(Le),Ze.set(wn,ur)}),Ze}(Ae.fromString,this.encoder)}else Ae.fromObject?(this.map=new Map,Object.keys(Ae.fromObject).forEach(Ze=>{const ct=Ae.fromObject[Ze],Mt=Array.isArray(ct)?ct.map(pt):[pt(ct)];this.map.set(Ze,Mt)})):this.map=null}has(Ae){return this.init(),this.map.has(Ae)}get(Ae){this.init();const Ze=this.map.get(Ae);return Ze?Ze[0]:null}getAll(Ae){return this.init(),this.map.get(Ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ae,Ze){return this.clone({param:Ae,value:Ze,op:"a"})}appendAll(Ae){const Ze=[];return Object.keys(Ae).forEach(ct=>{const Mt=Ae[ct];Array.isArray(Mt)?Mt.forEach(sn=>{Ze.push({param:ct,value:sn,op:"a"})}):Ze.push({param:ct,value:Mt,op:"a"})}),this.clone(Ze)}set(Ae,Ze){return this.clone({param:Ae,value:Ze,op:"s"})}delete(Ae,Ze){return this.clone({param:Ae,value:Ze,op:"d"})}toString(){return this.init(),this.keys().map(Ae=>{const Ze=this.encoder.encodeKey(Ae);return this.map.get(Ae).map(ct=>Ze+"="+this.encoder.encodeValue(ct)).join("&")}).filter(Ae=>""!==Ae).join("&")}clone(Ae){const Ze=new ve({encoder:this.encoder});return Ze.cloneFrom=this.cloneFrom||this,Ze.updates=(this.updates||[]).concat(Ae),Ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ae=>this.map.set(Ae,this.cloneFrom.map.get(Ae))),this.updates.forEach(Ae=>{switch(Ae.op){case"a":case"s":const Ze=("a"===Ae.op?this.map.get(Ae.param):void 0)||[];Ze.push(pt(Ae.value)),this.map.set(Ae.param,Ze);break;case"d":if(void 0===Ae.value){this.map.delete(Ae.param);break}{let ct=this.map.get(Ae.param)||[];const Mt=ct.indexOf(pt(Ae.value));-1!==Mt&&ct.splice(Mt,1),ct.length>0?this.map.set(Ae.param,ct):this.map.delete(Ae.param)}}}),this.cloneFrom=this.updates=null)}}class rt{constructor(){this.map=new Map}set(Ae,Ze){return this.map.set(Ae,Ze),this}get(Ae){return this.map.has(Ae)||this.map.set(Ae,Ae.defaultValue()),this.map.get(Ae)}delete(Ae){return this.map.delete(Ae),this}has(Ae){return this.map.has(Ae)}keys(){return this.map.keys()}}function Ct(se){return typeof ArrayBuffer<"u"&&se instanceof ArrayBuffer}function Rt(se){return typeof Blob<"u"&&se instanceof Blob}function Se(se){return typeof FormData<"u"&&se instanceof FormData}class Ht{constructor(Ae,Ze,ct,Mt){var sn,wn;let Le;if(this.url=Ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ae.toUpperCase(),function ut(se){switch(se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==ct?ct:null,Le=Mt):Le=ct,Le&&(this.reportProgress=!!Le.reportProgress,this.withCredentials=!!Le.withCredentials,Le.responseType&&(this.responseType=Le.responseType),Le.headers&&(this.headers=Le.headers),Le.context&&(this.context=Le.context),Le.params&&(this.params=Le.params),this.transferCache=Le.transferCache),null!==(sn=this.headers)&&void 0!==sn||(this.headers=new Oe),null!==(wn=this.context)&&void 0!==wn||(this.context=new rt),this.params){const ur=this.params.toString();if(0===ur.length)this.urlWithParams=Ze;else{const jn=Ze.indexOf("?");this.urlWithParams=Ze+(-1===jn?"?":jn<Ze.length-1?"&":"")+ur}}else this.params=new ve,this.urlWithParams=Ze}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ct(this.body)||Rt(this.body)||Se(this.body)||function Wt(se){return typeof URLSearchParams<"u"&&se instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Se(this.body)?null:Rt(this.body)?this.body.type||null:Ct(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ae={}){var Ze,ct,Mt,sn;const wn=Ae.method||this.method,Le=Ae.url||this.url,ur=Ae.responseType||this.responseType,jn=null!==(Ze=Ae.transferCache)&&void 0!==Ze?Ze:this.transferCache,Kr=void 0!==Ae.body?Ae.body:this.body,Li=null!==(ct=Ae.withCredentials)&&void 0!==ct?ct:this.withCredentials,Ti=null!==(Mt=Ae.reportProgress)&&void 0!==Mt?Mt:this.reportProgress;let hi=Ae.headers||this.headers,gi=Ae.params||this.params;const ti=null!==(sn=Ae.context)&&void 0!==sn?sn:this.context;return void 0!==Ae.setHeaders&&(hi=Object.keys(Ae.setHeaders).reduce((Rr,Ur)=>Rr.set(Ur,Ae.setHeaders[Ur]),hi)),Ae.setParams&&(gi=Object.keys(Ae.setParams).reduce((Rr,Ur)=>Rr.set(Ur,Ae.setParams[Ur]),gi)),new Ht(wn,Le,Kr,{params:gi,headers:hi,context:ti,reportProgress:Ti,responseType:ur,withCredentials:Li,transferCache:jn})}}var pn=function(se){return se[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se}(pn||{});class on{constructor(Ae,Ze=200,ct="OK"){this.headers=Ae.headers||new Oe,this.status=void 0!==Ae.status?Ae.status:Ze,this.statusText=Ae.statusText||ct,this.url=Ae.url||null,this.ok=this.status>=200&&this.status<300}}class kn extends on{constructor(Ae={}){super(Ae),this.type=pn.ResponseHeader}clone(Ae={}){return new kn({headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class Pt extends on{constructor(Ae={}){super(Ae),this.type=pn.Response,this.body=void 0!==Ae.body?Ae.body:null}clone(Ae={}){return new Pt({body:void 0!==Ae.body?Ae.body:this.body,headers:Ae.headers||this.headers,status:void 0!==Ae.status?Ae.status:this.status,statusText:Ae.statusText||this.statusText,url:Ae.url||this.url||void 0})}}class _e extends on{constructor(Ae){super(Ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ae.url||"(unknown url)"}`:`Http failure response for ${Ae.url||"(unknown url)"}: ${Ae.status} ${Ae.statusText}`,this.error=Ae.error||null}}function De(se,Ae){return{body:Ae,headers:se.headers,context:se.context,observe:se.observe,params:se.params,reportProgress:se.reportProgress,responseType:se.responseType,withCredentials:se.withCredentials,transferCache:se.transferCache}}let qe=(()=>{var se;class Ae{constructor(ct){this.handler=ct}request(ct,Mt,sn={}){let wn;if(ct instanceof Ht)wn=ct;else{let jn,Kr;jn=sn.headers instanceof Oe?sn.headers:new Oe(sn.headers),sn.params&&(Kr=sn.params instanceof ve?sn.params:new ve({fromObject:sn.params})),wn=new Ht(ct,Mt,void 0!==sn.body?sn.body:null,{headers:jn,context:sn.context,params:Kr,reportProgress:sn.reportProgress,responseType:sn.responseType||"json",withCredentials:sn.withCredentials,transferCache:sn.transferCache})}const Le=(0,he.of)(wn).pipe((0,ce.H)(jn=>this.handler.handle(jn)));if(ct instanceof Ht||"events"===sn.observe)return Le;const ur=Le.pipe((0,be.p)(jn=>jn instanceof Pt));switch(sn.observe||"body"){case"body":switch(wn.responseType){case"arraybuffer":return ur.pipe((0,ke.T)(jn=>{if(null!==jn.body&&!(jn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jn.body}));case"blob":return ur.pipe((0,ke.T)(jn=>{if(null!==jn.body&&!(jn.body instanceof Blob))throw new Error("Response is not a Blob.");return jn.body}));case"text":return ur.pipe((0,ke.T)(jn=>{if(null!==jn.body&&"string"!=typeof jn.body)throw new Error("Response is not a string.");return jn.body}));default:return ur.pipe((0,ke.T)(jn=>jn.body))}case"response":return ur;default:throw new Error(`Unreachable: unhandled observe type ${sn.observe}}`)}}delete(ct,Mt={}){return this.request("DELETE",ct,Mt)}get(ct,Mt={}){return this.request("GET",ct,Mt)}head(ct,Mt={}){return this.request("HEAD",ct,Mt)}jsonp(ct,Mt){return this.request("JSONP",ct,{params:(new ve).append(Mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ct,Mt={}){return this.request("OPTIONS",ct,Mt)}patch(ct,Mt,sn={}){return this.request("PATCH",ct,De(sn,Mt))}post(ct,Mt,sn={}){return this.request("POST",ct,De(sn,Mt))}put(ct,Mt,sn={}){return this.request("PUT",ct,De(sn,Mt))}}return(se=Ae).\u0275fac=function(ct){return new(ct||se)(f.KVO(Ue))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac}),Ae})();const Je=/^\)\]\}',?\n/;function $t(se){if(se.url)return se.url;const Ae="X-Request-URL".toLocaleLowerCase();return se.headers.get(Ae)}let Ln=(()=>{var se;class Ae{constructor(){var ct,Mt;this.fetchImpl=null!==(ct=null===(Mt=(0,f.WQX)(dn,{optional:!0}))||void 0===Mt?void 0:Mt.fetch)&&void 0!==ct?ct:(...sn)=>globalThis.fetch(...sn),this.ngZone=(0,f.WQX)(f.SKi)}handle(ct){return new ae.c(Mt=>{const sn=new AbortController;return this.doRequest(ct,sn.signal,Mt).then(_n,wn=>Mt.error(new _e({error:wn}))),()=>sn.abort()})}doRequest(ct,Mt,sn){var wn=this;return(0,c.A)(function*(){var Le;const ur=wn.createRequestInit(ct);let jn;try{const Xr=wn.ngZone.runOutsideAngular(()=>wn.fetchImpl(ct.urlWithParams,{signal:Mt,...ur}));(function zn(se){se.then(_n,_n)})(Xr),sn.next({type:pn.Sent}),jn=yield Xr}catch(Xr){var Kr;return void sn.error(new _e({error:Xr,status:null!==(Kr=Xr.status)&&void 0!==Kr?Kr:0,statusText:Xr.statusText,url:ct.urlWithParams,headers:Xr.headers}))}const Li=new Oe(jn.headers),Ti=jn.statusText,hi=null!==(Le=$t(jn))&&void 0!==Le?Le:ct.urlWithParams;let gi=jn.status,ti=null;if(ct.reportProgress&&sn.next(new kn({headers:Li,status:gi,statusText:Ti,url:hi})),jn.body){const Xr=jn.headers.get("content-length"),qr=[],Ft=jn.body.getReader();let fs,Mi,vr=0;const Go=typeof Zone<"u"&&Zone.current;yield wn.ngZone.runOutsideAngular((0,c.A)(function*(){for(;;){const{done:Mr,value:Fo}=yield Ft.read();if(Mr)break;if(qr.push(Fo),vr+=Fo.length,ct.reportProgress){var Gi,ko;Mi="text"===ct.responseType?(null!==(Gi=Mi)&&void 0!==Gi?Gi:"")+(null!==(ko=fs)&&void 0!==ko?ko:fs=new TextDecoder).decode(Fo,{stream:!0}):void 0;const rs=()=>sn.next({type:pn.DownloadProgress,total:Xr?+Xr:void 0,loaded:vr,partialText:Mi});Go?Go.run(rs):rs()}}}));const So=wn.concatChunks(qr,vr);try{var Rr;const Gi=null!==(Rr=jn.headers.get("Content-Type"))&&void 0!==Rr?Rr:"";ti=wn.parseBody(ct,So,Gi)}catch(Gi){var Ur;return void sn.error(new _e({error:Gi,headers:new Oe(jn.headers),status:jn.status,statusText:jn.statusText,url:null!==(Ur=$t(jn))&&void 0!==Ur?Ur:ct.urlWithParams}))}}0===gi&&(gi=ti?200:0),gi>=200&&gi<300?(sn.next(new Pt({body:ti,headers:Li,status:gi,statusText:Ti,url:hi})),sn.complete()):sn.error(new _e({error:ti,headers:Li,status:gi,statusText:Ti,url:hi}))})()}parseBody(ct,Mt,sn){switch(ct.responseType){case"json":const wn=(new TextDecoder).decode(Mt).replace(Je,"");return""===wn?null:JSON.parse(wn);case"text":return(new TextDecoder).decode(Mt);case"blob":return new Blob([Mt],{type:sn});case"arraybuffer":return Mt.buffer}}createRequestInit(ct){const Mt={},sn=ct.withCredentials?"include":void 0;if(ct.headers.forEach((wn,Le)=>Mt[wn]=Le.join(",")),ct.headers.has("Accept")||(Mt.Accept="application/json, text/plain, */*"),!ct.headers.has("Content-Type")){const wn=ct.detectContentTypeHeader();null!==wn&&(Mt["Content-Type"]=wn)}return{body:ct.serializeBody(),method:ct.method,headers:Mt,credentials:sn}}concatChunks(ct,Mt){const sn=new Uint8Array(Mt);let wn=0;for(const Le of ct)sn.set(Le,wn),wn+=Le.length;return sn}}return(se=Ae).\u0275fac=function(ct){return new(ct||se)},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac}),Ae})();class dn{}function _n(){}function Bt(se,Ae){return Ae(se)}function St(se,Ae){return(Ze,ct)=>Ae.intercept(Ze,{handle:Mt=>se(Mt,ct)})}const sr=new f.nKC(""),Xn=new f.nKC(""),Tn=new f.nKC(""),Zt=new f.nKC("",{providedIn:"root",factory:()=>!0});function Nt(){let se=null;return(Ae,Ze)=>{var ct;null===se&&(se=(null!==(ct=(0,f.WQX)(sr,{optional:!0}))&&void 0!==ct?ct:[]).reduceRight(St,Bt));const Mt=(0,f.WQX)(f.TgB);if((0,f.WQX)(Zt)){const wn=Mt.add();return se(Ae,Ze).pipe((0,ze.j)(()=>Mt.remove(wn)))}return se(Ae,Ze)}}let Vt=(()=>{var se;class Ae extends Ue{constructor(ct,Mt){super(),this.backend=ct,this.injector=Mt,this.chain=null,this.pendingTasks=(0,f.WQX)(f.TgB),this.contributeToStability=(0,f.WQX)(Zt)}handle(ct){if(null===this.chain){const Mt=Array.from(new Set([...this.injector.get(Xn),...this.injector.get(Tn,[])]));this.chain=Mt.reduceRight((sn,wn)=>function Qn(se,Ae,Ze){return(ct,Mt)=>(0,f.N4e)(Ze,()=>Ae(ct,sn=>se(sn,Mt)))}(sn,wn,this.injector),Bt)}if(this.contributeToStability){const Mt=this.pendingTasks.add();return this.chain(ct,sn=>this.backend.handle(sn)).pipe((0,ze.j)(()=>this.pendingTasks.remove(Mt)))}return this.chain(ct,Mt=>this.backend.handle(Mt))}}return(se=Ae).\u0275fac=function(ct){return new(ct||se)(f.KVO(xe),f.KVO(f.uvJ))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac}),Ae})();const wr=/^\)\]\}',?\n/;let ii=(()=>{var se;class Ae{constructor(ct){this.xhrFactory=ct}handle(ct){if("JSONP"===ct.method)throw new f.wOt(-2800,!1);const Mt=this.xhrFactory;return(Mt.\u0275loadImpl?(0,ye.H)(Mt.\u0275loadImpl()):(0,he.of)(null)).pipe((0,Ie.n)(()=>new ae.c(wn=>{const Le=Mt.build();if(Le.open(ct.method,ct.urlWithParams),ct.withCredentials&&(Le.withCredentials=!0),ct.headers.forEach((Rr,Ur)=>Le.setRequestHeader(Rr,Ur.join(","))),ct.headers.has("Accept")||Le.setRequestHeader("Accept","application/json, text/plain, */*"),!ct.headers.has("Content-Type")){const Rr=ct.detectContentTypeHeader();null!==Rr&&Le.setRequestHeader("Content-Type",Rr)}if(ct.responseType){const Rr=ct.responseType.toLowerCase();Le.responseType="json"!==Rr?Rr:"text"}const ur=ct.serializeBody();let jn=null;const Kr=()=>{if(null!==jn)return jn;const Rr=Le.statusText||"OK",Ur=new Oe(Le.getAllResponseHeaders()),Di=function rr(se){return"responseURL"in se&&se.responseURL?se.responseURL:/^X-Request-URL:/m.test(se.getAllResponseHeaders())?se.getResponseHeader("X-Request-URL"):null}(Le)||ct.url;return jn=new kn({headers:Ur,status:Le.status,statusText:Rr,url:Di}),jn},Li=()=>{let{headers:Rr,status:Ur,statusText:Di,url:Xr}=Kr(),qr=null;204!==Ur&&(qr=typeof Le.response>"u"?Le.responseText:Le.response),0===Ur&&(Ur=qr?200:0);let Ft=Ur>=200&&Ur<300;if("json"===ct.responseType&&"string"==typeof qr){const vr=qr;qr=qr.replace(wr,"");try{qr=""!==qr?JSON.parse(qr):null}catch(fs){qr=vr,Ft&&(Ft=!1,qr={error:fs,text:qr})}}Ft?(wn.next(new Pt({body:qr,headers:Rr,status:Ur,statusText:Di,url:Xr||void 0})),wn.complete()):wn.error(new _e({error:qr,headers:Rr,status:Ur,statusText:Di,url:Xr||void 0}))},Ti=Rr=>{const{url:Ur}=Kr(),Di=new _e({error:Rr,status:Le.status||0,statusText:Le.statusText||"Unknown Error",url:Ur||void 0});wn.error(Di)};let hi=!1;const gi=Rr=>{hi||(wn.next(Kr()),hi=!0);let Ur={type:pn.DownloadProgress,loaded:Rr.loaded};Rr.lengthComputable&&(Ur.total=Rr.total),"text"===ct.responseType&&Le.responseText&&(Ur.partialText=Le.responseText),wn.next(Ur)},ti=Rr=>{let Ur={type:pn.UploadProgress,loaded:Rr.loaded};Rr.lengthComputable&&(Ur.total=Rr.total),wn.next(Ur)};return Le.addEventListener("load",Li),Le.addEventListener("error",Ti),Le.addEventListener("timeout",Ti),Le.addEventListener("abort",Ti),ct.reportProgress&&(Le.addEventListener("progress",gi),null!==ur&&Le.upload&&Le.upload.addEventListener("progress",ti)),Le.send(ur),wn.next({type:pn.Sent}),()=>{Le.removeEventListener("error",Ti),Le.removeEventListener("abort",Ti),Le.removeEventListener("load",Li),Le.removeEventListener("timeout",Ti),ct.reportProgress&&(Le.removeEventListener("progress",gi),null!==ur&&Le.upload&&Le.upload.removeEventListener("progress",ti)),Le.readyState!==Le.DONE&&Le.abort()}})))}}return(se=Ae).\u0275fac=function(ct){return new(ct||se)(f.KVO(ue.N0))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac}),Ae})();const Sr=new f.nKC(""),Kt=new f.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zr=new f.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vr{}let je=(()=>{var se;class Ae{constructor(ct,Mt,sn){this.doc=ct,this.platform=Mt,this.cookieName=sn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ct=this.doc.cookie||"";return ct!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ue._b)(ct,this.cookieName),this.lastCookieString=ct),this.lastToken}}return(se=Ae).\u0275fac=function(ct){return new(ct||se)(f.KVO(ue.qQ),f.KVO(f.Agw),f.KVO(Kt))},se.\u0275prov=f.jDH({token:se,factory:se.\u0275fac}),Ae})();function Ne(se,Ae){const Ze=se.url.toLowerCase();if(!(0,f.WQX)(Sr)||"GET"===se.method||"HEAD"===se.method||Ze.startsWith("http://")||Ze.startsWith("https://"))return Ae(se);const ct=(0,f.WQX)(Vr).getToken(),Mt=(0,f.WQX)(zr);return null!=ct&&!se.headers.has(Mt)&&(se=se.clone({headers:se.headers.set(Mt,ct)})),Ae(se)}var me=function(se){return se[se.Interceptors=0]="Interceptors",se[se.LegacyInterceptors=1]="LegacyInterceptors",se[se.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",se[se.NoXsrfProtection=3]="NoXsrfProtection",se[se.JsonpSupport=4]="JsonpSupport",se[se.RequestsMadeViaParent=5]="RequestsMadeViaParent",se[se.Fetch=6]="Fetch",se}(me||{});function We(...se){const Ae=[qe,ii,Vt,{provide:Ue,useExisting:Vt},{provide:xe,useFactory:()=>{var Ze;return null!==(Ze=(0,f.WQX)(Ln,{optional:!0}))&&void 0!==Ze?Ze:(0,f.WQX)(ii)}},{provide:Xn,useValue:Ne,multi:!0},{provide:Sr,useValue:!0},{provide:Vr,useClass:je}];for(const Ze of se)Ae.push(...Ze.\u0275providers);return(0,f.EmA)(Ae)}const Te=new f.nKC("");function Ke(){return function oe(se,Ae){return{\u0275kind:se,\u0275providers:Ae}}(me.LegacyInterceptors,[{provide:Te,useFactory:Nt},{provide:Xn,useExisting:Te,multi:!0}])}},4438:(An,ft,$)=>{"use strict";function c(e,n){return Object.is(e,n)}$.d(ft,{iLQ:()=>B0,sZ2:()=>Qd,hnV:()=>ZD,Hbi:()=>aN,o8S:()=>Cc,BIS:()=>uI,gRc:()=>gb,Ql9:()=>MP,Ocv:()=>LP,Z63:()=>Ao,aKT:()=>Eu,uvJ:()=>Do,zcH:()=>ra,bkB:()=>Vs,$GK:()=>Mr,nKC:()=>Ze,zZn:()=>cs,_q3:()=>EA,MKu:()=>AA,xe9:()=>gA,Co$:()=>rC,Vns:()=>Zf,SKi:()=>C,Xx1:()=>oi,Agw:()=>Au,PLl:()=>Up,sFG:()=>Eo,_9s:()=>Mg,czy:()=>_f,WPN:()=>Wl,kdw:()=>ar,C4Q:()=>or,NYb:()=>CP,giA:()=>YD,xvI:()=>YM,RxE:()=>zD,c1b:()=>Ah,gXe:()=>Pi,mal:()=>E0,L39:()=>VN,EWP:()=>BN,a0P:()=>KN,Ol2:()=>mE,w6W:()=>fw,oH4:()=>db,Rfq:()=>me,WQX:()=>yt,naY:()=>WP,QuC:()=>Po,EmA:()=>pa,fpN:()=>sN,HJs:()=>qN,N4e:()=>mn,vPA:()=>k,O8t:()=>$N,H3F:()=>GD,H8p:()=>jo,KH2:()=>sm,TgB:()=>Aa,wOt:()=>Vt,WHO:()=>XD,e01:()=>QD,lNU:()=>En,h9k:()=>Gl,$MX:()=>gf,ZF7:()=>Tu,Kcf:()=>H_,e5t:()=>Es,UyX:()=>pf,cWb:()=>z_,osQ:()=>G_,H5H:()=>HE,Zy3:()=>gr,mq5:()=>aT,JZv:()=>Sr,LfX:()=>yn,plB:()=>_c,jNT:()=>dA,zjR:()=>JD,TL$:()=>Pm,Tbb:()=>Vr,rcV:()=>Hl,Vt3:()=>fE,GFd:()=>nC,OA$:()=>Zs,Jv_:()=>vD,aNF:()=>_D,R7$:()=>bu,BMQ:()=>RE,AVh:()=>FE,wni:()=>zT,VBU:()=>$i,FsC:()=>li,jDH:()=>Kn,G2t:()=>it,$C:()=>Bo,EJ8:()=>qo,rXU:()=>lh,nrm:()=>$E,eu8:()=>jE,bVm:()=>M0,qex:()=>R0,k0s:()=>S0,j41:()=>w0,RV6:()=>iT,xGo:()=>Ap,KVO:()=>Qe,kS0:()=>Xu,QTQ:()=>yy,bIt:()=>WE,lsd:()=>KT,XpG:()=>NT,SdG:()=>OT,NAR:()=>xT,Y8G:()=>xE,eq3:()=>ED,l_i:()=>AD,mGM:()=>WT,sdS:()=>qT,Njj:()=>Rh,eBV:()=>Ga,f$h:()=>tg,B4B:()=>Gm,n$t:()=>vf,xc7:()=>kE,DNE:()=>_E,C5r:()=>SD,EFF:()=>iD,JRh:()=>QE,SpI:()=>k0,Lme:()=>YE,DH7:()=>fD,mxI:()=>ZE,R50:()=>JE,GBs:()=>GT});let f=null,he=!1,ae=1;const ye=Symbol("SIGNAL");function ce(e){const n=f;return f=e,n}const Ie={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ue(e){if(he)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const n=f.nextProducerIndex++;rt(f),n<f.producerNode.length&&f.producerNode[n]!==e&&we(f)&&ve(f.producerNode[n],f.producerIndexOfThis[n]),f.producerNode[n]!==e&&(f.producerNode[n]=e,f.producerIndexOfThis[n]=we(f)?pt(e,f,n):0),f.producerLastReadVersion[n]=e.version}function xe(e){if((!we(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ae)){if(!e.producerMustRecompute(e)&&!vt(e))return e.dirty=!1,void(e.lastCleanEpoch=ae);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ae}}function Oe(e){if(void 0===e.liveConsumerNode)return;const n=he;he=!0;try{for(const r of e.liveConsumerNode)r.dirty||st(r)}finally{he=n}}function lt(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function st(e){var n;e.dirty=!0,Oe(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function et(e){return e&&(e.nextProducerIndex=0),ce(e)}function Ye(e,n){if(ce(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(we(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ve(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function vt(e){rt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(xe(r),o!==r.version))return!0}return!1}function dt(e){if(rt(e),we(e))for(let n=0;n<e.producerNode.length;n++)ve(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function pt(e,n,r){if(ut(e),0===e.liveConsumerNode.length&&Ct(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=pt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function ve(e,n){if(ut(e),1===e.liveConsumerNode.length&&Ct(e))for(let o=0;o<e.producerNode.length;o++)ve(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];rt(a),a.producerIndexOfThis[o]=n}}function we(e){var n,r;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function rt(e){var n,r,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function ut(e){var n,r;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function Ct(e){return void 0!==e.producerNode}const Se=Symbol("UNSET"),Wt=Symbol("COMPUTING"),Ht=Symbol("ERRORED"),pn={...Ie,value:Se,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===Se||e.value===Wt,producerRecomputeValue(e){if(e.value===Wt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Wt;const r=et(e);let o;try{o=e.computation()}catch(a){o=Ht,e.error=a}finally{Ye(e,r)}n!==Se&&n!==Ht&&o!==Ht&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let kn=function on(){throw new Error};function Pt(){kn()}let Ee=null;function qe(e,n){lt()||Pt(),e.equal(e.value,n)||(e.value=n,function Ln(e){var n;e.version++,function Ue(){ae++}(),Oe(e),null===(n=Ee)||void 0===n||n()}(e))}const $t={...Ie,equal:c,value:void 0};var Tn,Nt,St=$(4412),Qn=$(1413),sr=$(8359),Xn=$(6354);const En="https://g.co/ng/security#xss";class Vt extends Error{constructor(n,r){super(gr(n,r)),this.code=n}}function gr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function dr(e){return{toString:e}.toString()}const jr="__parameters__";function rr(e,n,r){return dr(()=>{const o=function wr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(n);function a(...d){if(this instanceof a)return o.apply(this,d),this;const m=new a(...d);return E.annotation=m,E;function E(b,F,K){const J=b.hasOwnProperty(jr)?b[jr]:Object.defineProperty(b,jr,{value:[]})[jr];for(;J.length<=K;)J.push(null);return(J[K]=J[K]||[]).push(m),b}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Sr=globalThis;function qn(e){for(let n in e)if(e[n]===qn)return n;throw Error("Could not find renamed property on target object.")}function zr(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Vr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Vr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function je(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const kt=qn({__forward_ref__:qn});function me(e){return e.__forward_ref__=me,e.toString=function(){return Vr(this())},e}function oe(e){return We(e)?e():e}function We(e){return"function"==typeof e&&e.hasOwnProperty(kt)&&e.__forward_ref__===me}function Kn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function it(e){return{providers:e.providers||[],imports:e.imports||[]}}function zt(e){return gt(e,Gn)||gt(e,se)}function yn(e){return null!==zt(e)}function gt(e,n){return e.hasOwnProperty(n)?e[n]:null}function vn(e){return e&&(e.hasOwnProperty(fr)||e.hasOwnProperty(Ae))?e[fr]:null}const Gn=qn({\u0275prov:qn}),fr=qn({\u0275inj:qn}),se=qn({ngInjectableDef:qn}),Ae=qn({ngInjectorDef:qn});class Ze{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Kn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hi(e){return e&&!!e.\u0275providers}const gi=qn({\u0275cmp:qn}),ti=qn({\u0275dir:qn}),Rr=qn({\u0275pipe:qn}),Ur=qn({\u0275mod:qn}),Di=qn({\u0275fac:qn}),Xr=qn({__NG_ELEMENT_ID__:qn}),qr=qn({__NG_ENV_ID__:qn});function Ft(e){return"string"==typeof e?e:null==e?"":String(e)}function ko(e,n){throw new Vt(-201,!1)}var Mr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Mr||{});let Fo;function rs(){return Fo}function Wi(e){const n=Fo;return Fo=e,n}function ps(e,n,r){const o=zt(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Mr.Optional?null:void 0!==n?n:void ko()}const kr={},Ki="__NG_DI_FLAG__",Cn="ngTempTokenPath",Hs=/\n/gm,W="__source";let ne;function Fe(e){const n=ne;return ne=e,n}function tt(e,n=Mr.Default){if(void 0===ne)throw new Vt(-203,!1);return null===ne?ps(e,void 0,n):ne.get(e,n&Mr.Optional?null:void 0,n)}function Qe(e,n=Mr.Default){return(rs()||tt)(oe(e),n)}function yt(e,n=Mr.Default){return Qe(e,qt(n))}function qt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tn(e){const n=[];for(let r=0;r<e.length;r++){const o=oe(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Vt(900,!1);let a,d=Mr.Default;for(let m=0;m<o.length;m++){const E=o[m],b=bn(E);"number"==typeof b?-1===b?a=E.token:d|=b:a=E}n.push(Qe(a,d))}else n.push(Qe(o))}return n}function gn(e,n){return e[Ki]=n,e.prototype[Ki]=n,e}function bn(e){return e[Ki]}const oi=gn(rr("Optional"),8),ar=gn(rr("SkipSelf"),4);function fi(e,n){return e.hasOwnProperty(Di)?e[Di]:null}function ao(e,n){e.forEach(r=>Array.isArray(r)?ao(r,n):n(r))}function Ci(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function ws(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function vi(e,n,r){let o=Lo(e,n);return o>=0?e[1|o]=r:(o=~o,function Ro(e,n,r,o){let a=e.length;if(a==n)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function Mo(e,n){const r=Lo(e,n);if(r>=0)return e[1|r]}function Lo(e,n){return function zs(e,n,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),m=e[d<<r];if(n===m)return d<<r;m>n?a=d:o=d+1}return~(a<<r)}(e,n,1)}const Bi={},yr=[],Ao=new Ze(""),oo=new Ze("",-1),to=new Ze("");class Wo{get(n,r=kr){if(r===kr){const o=new Error(`NullInjectorError: No provider for ${Vr(n)}!`);throw o.name="NullInjectorError",o}return r}}var Co=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Co||{}),Pi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pi||{}),To=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(To||{});function ha(e,n,r){let o=e.length;for(;;){const a=e.indexOf(n,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=n.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}function Ss(e,n,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],m=r[o++],E=r[o++];e.setAttribute(n,m,E,d)}else{const d=a,m=r[++o];Ko(d)?e.setProperty(n,d,m):e.setAttribute(n,d,m),o++}}return o}function as(e){return 3===e||4===e||6===e}function Ko(e){return 64===e.charCodeAt(0)}function vs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?r=a:0===r||Rs(e,r,a,null,-1===r||2===r?n[++o]:null)}}return e}function Rs(e,n,r,o,a){let d=0,m=e.length;if(-1===n)m=-1;else for(;d<e.length;){const E=e[d++];if("number"==typeof E){if(E===n){m=-1;break}if(E>n){m=d-1;break}}}for(;d<e.length;){const E=e[d];if("number"==typeof E)break;if(E===r){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==m&&(e.splice(m,0,n),d=m+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const Gs="ng-template";function ai(e,n,r,o){let a=0;if(o){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==ha(n[a+1].toLowerCase(),r,0))return!0}else if(Vo(e))return!1;if(a=n.indexOf(1,a),a>-1){let d;for(;++a<n.length&&"string"==typeof(d=n[a]);)if(d.toLowerCase()===r)return!0}return!1}function Vo(e){return 4===e.type&&e.value!==Gs}function Ws(e,n,r){return n===(4!==e.type||r?e.value:Gs)}function Ks(e,n,r){let o=4;const a=e.attrs,d=null!==a?function N(e){for(let n=0;n<e.length;n++)if(as(e[n]))return n;return e.length}(a):0;let m=!1;for(let E=0;E<n.length;E++){const b=n[E];if("number"!=typeof b){if(!m)if(4&o){if(o=2|1&o,""!==b&&!Ws(e,b,r)||""===b&&1===n.length){if(Uo(o))return!1;m=!0}}else if(8&o){if(null===a||!ai(e,a,b,r)){if(Uo(o))return!1;m=!0}}else{const F=n[++E],K=Da(b,a,Vo(e),r);if(-1===K){if(Uo(o))return!1;m=!0;continue}if(""!==F){let J;if(J=K>d?"":a[K+1].toLowerCase(),2&o&&F!==J){if(Uo(o))return!1;m=!0}}}}else{if(!m&&!Uo(o)&&!Uo(b))return!1;if(m&&Uo(b))continue;m=!1,o=b|1&o}}return Uo(o)||m}function Uo(e){return!(1&e)}function Da(e,n,r,o){if(null===n)return-1;let a=0;if(o||!r){let d=!1;for(;a<n.length;){const m=n[a];if(m===e)return a;if(3===m||6===m)d=!0;else{if(1===m||2===m){let E=n[++a];for(;"string"==typeof E;)E=n[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=d?1:2}return-1}return function Q(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function el(e,n,r=!1){for(let o=0;o<n.length;o++)if(Ks(e,n[o],r))return!0;return!1}function B(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function de(e,n){return e?":not("+n.trim()+")":n}function Xt(e){let n=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const E=e[++r];a+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!Uo(m)&&(n+=de(d,a),a=""),o=m,d=d||!Uo(o);r++}return""!==a&&(n+=de(d,a)),n}function $i(e){return dr(()=>{var n;const r=fa(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Co.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Pi.Emulated,styles:e.styles||yr,_:null,schemas:e.schemas||null,tView:null,id:""};Ms(o);const a=e.dependencies;return o.directiveDefs=$o(a,!1),o.pipeDefs=$o(a,!0),o.id=function Dl(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function Hi(e){return Fr(e)||Vi(e)}function ls(e){return null!==e}function Bo(e){return dr(()=>({type:e.type,bootstrap:e.bootstrap||yr,declarations:e.declarations||yr,imports:e.imports||yr,exports:e.exports||yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Tr(e,n){if(null==e)return Bi;const r={};for(const a in e)if(e.hasOwnProperty(a)){const d=e[a];let m,E,b=To.None;var o;Array.isArray(d)?(b=d[0],m=d[1],E=null!==(o=d[2])&&void 0!==o?o:m):(m=d,E=d),n?(r[m]=b!==To.None?[a,b]:a,n[m]=E):r[m]=a}return r}function li(e){return dr(()=>{const n=fa(e);return Ms(n),n})}function qo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fr(e){return e[gi]||null}function Vi(e){return e[ti]||null}function qi(e){return e[Rr]||null}function Po(e){const n=Fr(e)||Vi(e)||qi(e);return null!==n&&n.standalone}function lo(e,n){const r=e[Ur]||null;if(!r&&!0===n)throw new Error(`Type ${Vr(e)} does not have '\u0275mod' property.`);return r}function fa(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Bi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tr(e.inputs,n),outputs:Tr(e.outputs),debugInfo:null}}function Ms(e){var n;null===(n=e.features)||void 0===n||n.forEach(r=>r(e))}function $o(e,n){if(!e)return null;const r=n?qi:Hi;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(ls)}function pa(e){return{\u0275providers:e}}function bl(...e){return{\u0275providers:La(0,e),\u0275fromNgModule:!0}}function La(e,...n){const r=[],o=new Set;let a;const d=m=>{r.push(m)};return ao(n,m=>{const E=m;nl(E,d,[],o)&&(a||(a=[]),a.push(E))}),void 0!==a&&tl(a,d),r}function tl(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Ps(a,d=>{n(d,o)})}}function nl(e,n,r,o){if(!(e=oe(e)))return!1;let a=null,d=vn(e);const m=!d&&Fr(e);if(d||m){if(m&&!m.standalone)return!1;a=e}else{const b=e.ngModule;if(d=vn(b),!d)return!1;a=b}const E=o.has(a);if(m){if(E)return!1;if(o.add(a),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const F of b)nl(F,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!E){let F;o.add(a);try{ao(d.imports,K=>{nl(K,n,r,o)&&(F||(F=[]),F.push(K))})}finally{}void 0!==F&&tl(F,n)}if(!E){const F=fi(a)||(()=>new a);n({provide:a,useFactory:F,deps:yr},a),n({provide:to,useValue:a,multi:!0},a),n({provide:Ao,useValue:()=>Qe(a),multi:!0},a)}const b=d.providers;if(null!=b&&!E){const F=e;Ps(b,K=>{n(K,F)})}}}return a!==e&&void 0!==e.providers}function Ps(e,n){for(let r of e)hi(r)&&(r=r.\u0275providers),Array.isArray(r)?Ps(r,n):n(r)}const qs=qn({provide:String,useValue:qn});function Xs(e){return null!==e&&"object"==typeof e&&qs in e}function Ns(e){return"function"==typeof e}const jo=new Ze(""),Ua={},ma={};let ba;function Qs(){return void 0===ba&&(ba=new Wo),ba}class Do{}class Ni extends Do{get destroyed(){return this._destroyed}constructor(n,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ut(n,m=>this.processProvider(m)),this.records.set(oo,j(void 0,this)),a.has("environment")&&this.records.set(Do,j(void 0,this));const d=this.records.get(jo);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(to,yr,Mr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ce(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=Fe(this),o=Wi(void 0);try{return n()}finally{Fe(r),Wi(o)}}get(n,r=kr,o=Mr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(qr))return n[qr](this);o=qt(o);const d=Fe(this),m=Wi(void 0);try{if(!(o&Mr.SkipSelf)){let b=this.records.get(n);if(void 0===b){const F=function te(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ze}(n)&&zt(n);b=F&&this.injectableDefInScope(F)?j(rl(n),Ua):null,this.records.set(n,b)}if(null!=b)return this.hydrate(n,b)}return(o&Mr.Self?Qs():this.parent).get(n,r=o&Mr.Optional&&r===kr?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[Cn]=E[Cn]||[]).unshift(Vr(n)),d)throw E;return function Sn(e,n,r,o){const a=e[Cn];throw n[W]&&a.unshift(n[W]),e.message=function Wn(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Vr(n);if(Array.isArray(n))a=n.map(Vr).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let E=n[m];d.push(m+":"+("string"==typeof E?JSON.stringify(E):Vr(E)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Hs,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[Cn]=null,e}(E,n,"R3InjectorError",this.source)}throw E}finally{Wi(m),Fe(d)}}resolveInjectorInitializers(){const n=ce(null),r=Fe(this),o=Wi(void 0);try{const d=this.get(Ao,yr,Mr.Self);for(const m of d)m()}finally{Fe(r),Wi(o),ce(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Vr(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Vt(205,!1)}processProvider(n){let r=Ns(n=oe(n))?n:oe(n&&n.provide);const o=function A(e){return Xs(e)?j(void 0,e.useValue):j(M(e),Ua)}(n);if(!Ns(n)&&!0===n.multi){let a=this.records.get(r);a||(a=j(void 0,Ua,!0),a.factory=()=>tn(a.multi),this.records.set(r,a)),r=n,a.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=ce(null);try{return r.value===Ua&&(r.value=ma,r.value=r.factory()),"object"==typeof r.value&&r.value&&function V(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ce(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=oe(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function rl(e){const n=zt(e),r=null!==n?n.factory:fi(e);if(null!==r)return r;if(e instanceof Ze)throw new Vt(204,!1);if(e instanceof Function)return function wa(e){if(e.length>0)throw new Vt(204,!1);const r=function Gt(e){return e&&(e[Gn]||e[se])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Vt(204,!1)}function M(e,n,r){let o;if(Ns(e)){const a=oe(e);return fi(a)||rl(a)}if(Xs(e))o=()=>oe(e.useValue);else if(function Va(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...tn(e.deps||[]));else if(function ga(e){return!(!e||!e.useExisting)}(e))o=()=>Qe(oe(e.useExisting));else{const a=oe(e&&(e.useClass||e.provide));if(!function I(e){return!!e.deps}(e))return fi(a)||rl(a);o=()=>new a(...tn(e.deps))}return o}function j(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Ut(e,n){for(const r of e)Array.isArray(r)?Ut(r,n):r&&hi(r)?Ut(r.\u0275providers,n):n(r)}function mn(e,n){e instanceof Ni&&e.assertNotDestroyed();const o=Fe(e),a=Wi(void 0);try{return n()}finally{Fe(o),Wi(a)}}function Un(){return void 0!==rs()||null!=function Me(){return ne}()}const Qr=0,hn=1,Zn=2,Qi=3,yo=4,xi=5,Yi=6,Ys=7,yi=8,Ji=9,Ho=10,Ir=11,Ba=12,Xo=13,Sl=14,uo=15,bi=16,il=17,Io=18,$a=19,Fu=20,zo=21,Zl=22,Ri=23,er=25,_s=1,xs=7,Js=9,no=10;var tu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(tu||{});function Zi(e){return Array.isArray(e)&&"object"==typeof e[_s]}function wo(e){return Array.isArray(e)&&!0===e[_s]}function ja(e){return!!(4&e.flags)}function va(e){return e.componentOffset>-1}function so(e){return!(1&~e.flags)}function Lr(e){return!!e.template}function ol(e){return!!(512&e[Zn])}class us{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ei(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function Zs(){return Qo}function Qo(e){return e.type.prototype.ngOnChanges&&(e.setInput=al),sl}function sl(){const e=bc(this),n=null==e?void 0:e.current;if(n){const r=e.previous;if(r===Bi)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function al(e,n,r,o,a){const d=this.declaredInputs[o],m=bc(e)||function ll(e,n){return e[Yo]=n}(e,{previous:Bi,current:null}),E=m.current||(m.current={}),b=m.previous,F=b[d];E[d]=new us(F&&F.currentValue,r,b===Bi),Ei(e,n,a,r)}Zs.ngInherit=!0;const Yo="__ngSimpleChanges__";function bc(e){return e[Yo]||null}const Sa=function(e,n,r){};function ci(e){for(;Array.isArray(e);)e=e[Qr];return e}function iu(e,n){return ci(n[e])}function ys(e,n){return ci(n[e.index])}function za(e,n){return e.data[n]}function Os(e,n){const r=n[e];return Zi(r)?r:r[Qr]}function Uu(e){return!(128&~e[Zn])}function ks(e,n){return null==n?null:e[n]}function lp(e){e[il]=0}function Ra(e){1024&e[Zn]||(e[Zn]|=1024,Uu(e)&&Rc(e))}function Sc(e){var n;return!!(9216&e[Zn]||null!==(n=e[Ri])&&void 0!==n&&n.dirty)}function ou(e){var n;null===(n=e[Ho].changeDetectionScheduler)||void 0===n||n.notify(8),64&e[Zn]&&(e[Zn]|=1024),Sc(e)&&Rc(e)}function Rc(e){var n;null===(n=e[Ho].changeDetectionScheduler)||void 0===n||n.notify(0);let r=Ma(e);for(;null!==r&&!(8192&r[Zn])&&(r[Zn]|=8192,Uu(r));)r=Ma(r)}function _a(e,n){if(!(256&~e[Zn]))throw new Vt(911,!1);null===e[zo]&&(e[zo]=[]),e[zo].push(n)}function Ma(e){const n=e[Qi];return wo(n)?n[Qi]:n}const br={lFrame:kh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let hl=!1;function Dd(){return br.bindingsEnabled}function Pl(){return null!==br.skipHydrationRootTNode}function Yt(){return br.lFrame.lView}function ei(){return br.lFrame.tView}function Ga(e){return br.lFrame.contextLView=e,e[yi]}function Rh(e){return br.lFrame.contextLView=null,e}function Oi(){let e=dp();for(;null!==e&&64===e.type;)e=e.parent;return e}function dp(){return br.lFrame.currentTNode}function ya(e,n){const r=br.lFrame;r.currentTNode=e,r.isParent=n}function Nl(){return br.lFrame.isParent}function fl(){br.lFrame.isParent=!1}function hp(){return hl}function ju(e){hl=e}function Jo(){const e=br.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ea(){return br.lFrame.bindingIndex++}function ta(e){const n=br.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}function Nh(e,n){const r=br.lFrame;r.bindingIndex=r.bindingRootIndex=e,xh(n)}function xh(e){br.lFrame.currentDirectiveIndex=e}function xl(){return br.lFrame.currentQueryIndex}function Ol(e){br.lFrame.currentQueryIndex=e}function kl(e){const n=e[hn];return 2===n.type?n.declTNode:1===n.type?e[xi]:null}function Oh(e,n,r){if(r&Mr.SkipSelf){let a=n,d=e;for(;!(a=a.parent,null!==a||r&Mr.Host||(a=kl(d),null===a||(d=d[Sl],10&a.type))););if(null===a)return!1;n=a,e=d}const o=br.lFrame=Zo();return o.currentTNode=n,o.lView=e,!0}function Nd(e){const n=Zo(),r=e[hn];br.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Zo(){const e=br.lFrame,n=null===e?null:e.child;return null===n?kh(e):n}function kh(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function xc(){const e=br.lFrame;return br.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Hu=xc;function xd(){const e=xc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bo(){return br.lFrame.selectedIndex}function Ll(e){br.lFrame.selectedIndex=e}function ki(){const e=br.lFrame;return za(e.tView,e.selectedIndex)}let Vh=!0;function lu(){return Vh}function Ia(e){Vh=e}function Uh(e,n){for(let F=n.directiveStart,K=n.directiveEnd;F<K;F++){const Re=e.data[F].type.prototype,{ngAfterContentInit:Be,ngAfterContentChecked:Ve,ngAfterViewInit:jt,ngAfterViewChecked:un,ngOnDestroy:In}=Re;var r,o,a,d,m,E,b;Be&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-F,Be),Ve&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(F,Ve),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(F,Ve)),jt&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-F,jt),un&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(F,un),(null!==(E=e.viewCheckHooks)&&void 0!==E?E:e.viewCheckHooks=[]).push(F,un)),null!=In&&(null!==(b=e.destroyHooks)&&void 0!==b?b:e.destroyHooks=[]).push(F,In)}}function pl(e,n,r){Od(e,n,3,r)}function zu(e,n,r,o){(3&e[Zn])===r&&Od(e,n,r,o)}function Gu(e,n){let r=e[Zn];(3&r)===n&&(r&=16383,r+=1,e[Zn]=r)}function Od(e,n,r,o){const d=null!=o?o:-1,m=n.length-1;let E=0;for(let b=void 0!==o?65535&e[il]:0;b<m;b++)if("number"==typeof n[b+1]){if(E=n[b],null!=o&&E>=o)break}else n[b]<0&&(e[il]+=65536),(E<d||-1==d)&&(mp(e,r,n,b),e[il]=(4294901760&e[il])+b+2),b++}function Bh(e,n){Sa(4,e,n);const r=ce(null);try{n.call(e)}finally{ce(r),Sa(5,e,n)}}function mp(e,n,r,o){const a=r[o]<0,d=r[o+1],E=e[a?-r[o]:r[o]];a?e[Zn]>>14<e[il]>>16&&(3&e[Zn])===n&&(e[Zn]+=16384,Bh(E,d)):Bh(E,d)}const Ea=-1;class gl{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const No={};class ml{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=qt(o);const a=this.injector.get(n,No,o);return a!==No||r===No?a:this.parentInjector.get(n,r,o)}}function jh(e){return e!==Ea}function uu(e){return 32767&e}function cu(e,n){let r=function pm(e){return e>>16}(e),o=n;for(;r>0;)o=o[Sl],r--;return o}let Ku=!0;function du(e){const n=Ku;return Ku=e,n}const zh=255,Fd=5;let Gh=0;const Fs={};function hu(e,n){const r=Ep(e,n);if(-1!==r)return r;const o=n[hn];o.firstCreatePass&&(e.injectorIndex=n.length,fu(o.data,e),fu(n,null),fu(o.blueprint,null));const a=Oc(e,n),d=e.injectorIndex;if(jh(a)){const m=uu(a),E=cu(a,n),b=E[hn].data;for(let F=0;F<8;F++)n[d+F]=E[m+F]|b[m+F]}return n[d+8]=a,d}function fu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ep(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Oc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=n;for(;null!==a;){if(o=$d(a),null===o)return Ea;if(r++,a=a[Sl],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ea}function kc(e,n,r){!function Ld(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Xr)&&(o=r[Xr]),null==o&&(o=r[Xr]=Gh++);const a=o&zh;n.data[e+(a>>Fd)]|=1<<a}(e,n,r)}function Wh(e,n,r){if(r&Mr.Optional||void 0!==e)return e;ko()}function Ud(e,n,r,o){if(r&Mr.Optional&&void 0===o&&(o=null),!(r&(Mr.Self|Mr.Host))){const a=e[Ji],d=Wi(void 0);try{return a?a.get(n,o,r&Mr.Optional):ps(n,o,r&Mr.Optional)}finally{Wi(d)}}return Wh(o,0,r)}function Fc(e,n,r,o=Mr.Default,a){if(null!==e){if(2048&n[Zn]&&!(o&Mr.Self)){const m=function mm(e,n,r,o,a){let d=e,m=n;for(;null!==d&&null!==m&&2048&m[Zn]&&!(512&m[Zn]);){const E=Kh(d,m,r,o|Mr.Self,Fs);if(E!==Fs)return E;let b=d.parent;if(!b){const F=m[Fu];if(F){const K=F.get(r,Fs,o);if(K!==Fs)return K}b=$d(m),m=m[Sl]}d=b}return a}(e,n,r,o,Fs);if(m!==Fs)return m}const d=Kh(e,n,r,o,Fs);if(d!==Fs)return d}return Ud(n,r,o,a)}function Kh(e,n,r,o,a){const d=function qu(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Xr)?e[Xr]:void 0;return"number"==typeof n?n>=0?n&zh:qh:n}(r);if("function"==typeof d){if(!Oh(n,e,o))return o&Mr.Host?Wh(a,0,o):Ud(n,r,o,a);try{let m;if(m=d(o),null!=m||o&Mr.Optional)return m;ko()}finally{Hu()}}else if("number"==typeof d){let m=null,E=Ep(e,n),b=Ea,F=o&Mr.Host?n[uo][xi]:null;for((-1===E||o&Mr.SkipSelf)&&(b=-1===E?Oc(e,n):n[E+8],b!==Ea&&Bd(o,!1)?(m=n[hn],E=uu(b),n=cu(b,n)):E=-1);-1!==E;){const K=n[hn];if(pu(d,E,K.data)){const J=gm(E,n,r,m,o,F);if(J!==Fs)return J}b=n[E+8],b!==Ea&&Bd(o,n[hn].data[E+8]===F)&&pu(d,E,n)?(m=K,E=uu(b),n=cu(b,n)):E=-1}}return a}function gm(e,n,r,o,a,d){const m=n[hn],E=m.data[e+8],K=Lc(E,m,r,null==o?va(E)&&Ku:o!=m&&!!(3&E.type),a&Mr.Host&&d===E);return null!==K?Ul(n,m,K,E):Fs}function Lc(e,n,r,o,a){const d=e.providerIndexes,m=n.data,E=1048575&d,b=e.directiveStart,K=d>>20,Re=a?E+K:e.directiveEnd;for(let Be=o?E:E+K;Be<Re;Be++){const Ve=m[Be];if(Be<b&&r===Ve||Be>=b&&Ve.type===r)return Be}if(a){const Be=m[b];if(Be&&Lr(Be)&&Be.type===r)return b}return null}function Ul(e,n,r,o){let a=e[r];const d=n.data;if(function vp(e){return e instanceof gl}(a)){const m=a;m.resolving&&function Go(e,n){throw n&&n.join(" > "),new Vt(-200,e)}(function vr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ft(e)}(d[r]));const E=du(m.canSeeViewProviders);m.resolving=!0;const F=m.injectImpl?Wi(m.injectImpl):null;Oh(e,o,Mr.Default);try{a=e[r]=m.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function gp(e,n,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(o){var m,E;const J=Qo(n);(null!==(m=r.preOrderHooks)&&void 0!==m?m:r.preOrderHooks=[]).push(e,J),(null!==(E=r.preOrderCheckHooks)&&void 0!==E?E:r.preOrderCheckHooks=[]).push(e,J)}var b,F,K;a&&(null!==(b=r.preOrderHooks)&&void 0!==b?b:r.preOrderHooks=[]).push(0-e,a),d&&((null!==(F=r.preOrderHooks)&&void 0!==F?F:r.preOrderHooks=[]).push(e,d),(null!==(K=r.preOrderCheckHooks)&&void 0!==K?K:r.preOrderCheckHooks=[]).push(e,d))}(r,d[r],n)}finally{null!==F&&Wi(F),du(E),m.resolving=!1,Hu()}}return a}function pu(e,n,r){return!!(r[n+(e>>Fd)]&1<<e)}function Bd(e,n){return!(e&Mr.Self||e&Mr.Host&&n)}class xo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Fc(this._tNode,this._lView,n,qt(o),r)}}function qh(){return new xo(Oi(),Yt())}function Ap(e){return dr(()=>{const n=e.prototype.constructor,r=n[Di]||Vc(n),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Di]||Vc(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Vc(e){return We(e)?()=>{const n=Vc(oe(e));return n&&n()}:fi(e)}function $d(e){const n=e[hn],r=n.type;return 2===r?n.declTNode:1===r?e[xi]:null}function Xu(e){return function Vd(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if(as(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===n)return r[a+1];a+=2}}}return null}(Oi(),e)}function Cp(e,n=null,r=null,o){const a=ho(e,n,r,o);return a.resolveInjectorInitializers(),a}function ho(e,n=null,r=null,o,a=new Set){const d=[r||yr,bl(e)];return o=o||("object"==typeof e?void 0:Vr(e)),new Ni(d,n||Qs(),o||null,a)}class cs{static create(n,r){if(Array.isArray(n))return Cp({name:""},r,n,"");{var o;const a=null!==(o=n.name)&&void 0!==o?o:"";return Cp({name:a},n.parent,n.providers,a)}}}(Tn=cs).THROW_IF_NOT_FOUND=kr,Tn.NULL=new Wo,Tn.\u0275prov=Kn({token:Tn,providedIn:"any",factory:()=>Qe(oo)}),Tn.__NG_ELEMENT_ID__=-1,new Ze("").__NG_ELEMENT_ID__=e=>{const n=Oi();if(null===n)throw new Vt(204,!1);if(2&n.type)return n.value;if(e&Mr.Optional)return null;throw new Vt(204,!1)};function $c(e){return e.ngOriginalError}const Wd=!0;let jc=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=Hc,e.__NG_ENV_ID__=r=>r,n})();class _l extends jc{constructor(n){super(),this._lView=n}onDestroy(n){return _a(this._lView,n),()=>function Bu(e,n){if(null===e[zo])return;const r=e[zo].indexOf(n);-1!==r&&e[zo].splice(r,1)}(this._lView,n)}}function Hc(){return new _l(Yt())}let Aa=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new St.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275prov=Kn({token:e,providedIn:"root",factory:()=>new e}),n})();const Vs=class Ju extends Qn.B{constructor(n=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Un()&&(this.destroyRef=null!==(r=yt(jc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=yt(Aa,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const r=ce(null);try{super.next(n)}finally{ce(r)}}subscribe(n,r,o){let a=n,d=r||(()=>null),m=o;if(n&&"object"==typeof n){var E,b,F;const J=n;a=null===(E=J.next)||void 0===E?void 0:E.bind(J),d=null===(b=J.error)||void 0===b?void 0:b.bind(J),m=null===(F=J.complete)||void 0===F?void 0:F.bind(J)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const K=super.subscribe({next:a,error:d,complete:m});return n instanceof sr.yU&&n.add(K),K}wrapInTimeout(n){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;n(r),void 0!==a&&(null===(d=this.pendingTasks)||void 0===d||d.remove(a))})}}};function _u(...e){}function yu(e){let n,r;function o(){e=_u;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Kd(e){return queueMicrotask(()=>e()),()=>{e=_u}}const y="isAngularZone",h=y+"_ID";let g=0;class C{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=Wd}=n;if(typeof Zone>"u")throw new Vt(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!a&&o,m.shouldCoalesceRunChangeDetection=a,m.callbackScheduled=!1,m.scheduleInRootZone=d,function It(e){const n=()=>{!function Ge(e){function n(){yu(()=>{e.callbackScheduled=!1,rn(e),e.isCheckStableRunning=!0,ee(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),rn(e))}(e)},r=g++;e._inner=e._inner.fork({name:"angular",properties:{[y]:!0,[h]:r,[h+r]:!0},onInvokeTask:(o,a,d,m,E,b)=>{if(function ro(e){return Zu(e,"__ignore_ng_zone__")}(b))return o.invokeTask(d,m,E,b);try{return xn(e),o.invokeTask(d,m,E,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&n(),tr(e)}},onInvoke:(o,a,d,m,E,b,F)=>{try{return xn(e),o.invoke(d,m,E,b,F)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function na(e){return Zu(e,"__scheduler_tick__")}(b)&&n(),tr(e)}},onHasTask:(o,a,d,m)=>{o.hasTask(d,m),a===d&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,rn(e),ee(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,d,m)=>(o.handleError(d,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(y)}static assertInAngularZone(){if(!C.isInAngularZone())throw new Vt(909,!1)}static assertNotInAngularZone(){if(C.isInAngularZone())throw new Vt(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,a){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+a,n,H,_u,_u);try{return d.runTask(m,r,o)}finally{d.cancelTask(m)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const H={};function ee(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rn(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function xn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function tr(e){e._nesting--,ee(e)}class Yn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,a){return n.apply(r,o)}}function Zu(e,n){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}class ra{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&$c(n);for(;r&&$c(r);)r=$c(r);return r||null}}const Tp=new Ze("",{providedIn:"root",factory:()=>{const e=yt(C),n=yt(ra);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function ef(){return $l(Oi(),Yt())}function $l(e,n){return new Eu(ys(e,n))}let Eu=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=ef,n})();function v_(e){return e instanceof Eu?e.nativeElement:e}function Cm(){return this._results[Symbol.iterator]()}class bp{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new Vs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=bp.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Cm)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function _o(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function xr(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=n[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Xa(e){return!(128&~e.flags)}const ec=new Map;let __=0;function wp(e){ec.delete(e[$a])}const Rp="__ngContext__";function ds(e,n){Zi(n)?(e[Rp]=n[$a],function J0(e){ec.set(e[$a],e)}(n)):e[Rp]=n}function Pp(e){return Np(e[Ba])}function b_(e){return Np(e[yo])}function Np(e){for(;null!==e&&!wo(e);)e=e[yo];return e}let Mm;function Pm(e){Mm=e}const Qd=new Ze("",{providedIn:"root",factory:()=>Nm}),Nm="ng",Up=new Ze(""),Au=new Ze("",{providedIn:"platform",factory:()=>"unknown"}),uI=new Ze("",{providedIn:"root",factory:()=>{var e;return(null===(e=function tc(){if(void 0!==Mm)return Mm;if(typeof document<"u")return document;throw new Vt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let cf=()=>null;function ic(e,n,r=!1){return cf(e,n,r)}const $m=new Ze("",{providedIn:"root",factory:()=>!1});let qp,Xp;function ed(e){var n;return(null===(n=function jm(){if(void 0===qp&&(qp=null,Sr.trustedTypes))try{qp=Sr.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return qp}())||void 0===n?void 0:n.createHTML(e))||e}function V_(e){var n;return(null===(n=function Hm(){if(void 0===Xp&&(Xp=null,Sr.trustedTypes))try{Xp=Sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xp}())||void 0===n?void 0:n.createScriptURL(e))||e}class td{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${En})`}}class U_ extends td{getTypeName(){return"HTML"}}class B_ extends td{getTypeName(){return"Style"}}class zm extends td{getTypeName(){return"Script"}}class $_ extends td{getTypeName(){return"URL"}}class j_ extends td{getTypeName(){return"ResourceURL"}}function Hl(e){return e instanceof td?e.changingThisBreaksApplicationSecurity:e}function Tu(e,n){const r=function Ai(e){return e instanceof td&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${En})`)}return r===n}function H_(e){return new U_(e)}function z_(e){return new B_(e)}function pf(e){return new zm(e)}function G_(e){return new $_(e)}function Es(e){return new j_(e)}class zl{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{var r;const o=(new window.DOMParser).parseFromString(ed(n),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(n):(null===(r=o.firstChild)||void 0===r||r.remove(),o)}catch{return null}}}class W_{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=ed(n),r}}const Qp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gf(e){return(e=String(e)).match(Qp)?e:"unsafe:"+e}function yl(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function nh(...e){const n={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(n[o]=!0);return n}const Yp=yl("area,br,col,hr,img,wbr"),K_=yl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),q_=yl("rp,rt"),go=nh(Yp,nh(K_,yl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nh(q_,yl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nh(q_,K_)),Jp=yl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zp=nh(Jp,yl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),X_=yl("script,style,template");class gI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=_I(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=vI(r);if(d){r=d;break}r=a.pop()}return this.buf.join("")}startElement(n){const r=yI(n).toLowerCase();if(!go.hasOwnProperty(r))return this.sanitizedSomething=!0,!X_.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=n.attributes;for(let a=0;a<o.length;a++){const d=o.item(a),m=d.name,E=m.toLowerCase();if(!Zp.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=d.value;Jp[E]&&(b=gf(b)),this.buf.push(" ",m,'="',Y_(b),'"')}return this.buf.push(">"),!0}endElement(n){const r=yI(n).toLowerCase();go.hasOwnProperty(r)&&!Yp.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(Y_(n))}}function vI(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw Q_(n);return n}function _I(e){const n=e.firstChild;if(n&&function mI(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw Q_(n);return n}function yI(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function Q_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const II=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mf=/([^\#-~ |!])/g;function Y_(e){return e.replace(/&/g,"&amp;").replace(II,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(mf,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xa;function Gl(e,n){let r=null;try{xa=xa||function fo(e){const n=new W_(e);return function pI(){try{return!!(new window.DOMParser).parseFromString(ed(""),"text/html")}catch{return!1}}()?new zl(n):n}(e);let o=n?String(n):"";r=xa.getInertBodyElement(o);let a=5,d=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=d,d=r.innerHTML,r=xa.getInertBodyElement(o)}while(o!==d);return ed((new gI).sanitizeChildren(J_(r)||r))}finally{if(r){const o=J_(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function J_(e){return"content"in e&&function nd(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Wl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Wl||{});function Gm(e){const n=id();return n?n.sanitize(Wl.URL,e)||"":Tu(e,"URL")?Hl(e):gf(Ft(e))}function tg(e){const n=id();if(n)return V_(n.sanitize(Wl.RESOURCE_URL,e)||"");if(Tu(e,"ResourceURL"))return V_(Hl(e));throw new Vt(904,!1)}function vf(e,n,r){return function rd(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?tg:Gm}(n,r)(e)}function id(){const e=Yt();return e&&e[Ho].sanitizer}const Wm=/^>|^->|<!--|-->|--!>|<!-$/g,Km=/(<|>)/g,qm="\u200b$1\u200b";function Bs(e){return e instanceof Function?e():e}var _f=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_f||{});let ag;function lg(e,n){return ag(e,n)}function ac(e,n,r,o,a){if(null!=o){let d,m=!1;wo(o)?d=o:Zi(o)&&(m=!0,o=o[Qr]);const E=ci(o);0===e&&null!==r?null==a?dy(n,r,E):ud(n,r,E,a||null,!0):1===e&&null!==r?ud(n,r,E,a||null,!0):2===e?function Ef(e,n,r){e.removeChild(null,n,r)}(n,E,m):3===e&&n.destroyNode(E),null!=d&&function xI(e,n,r,o,a){const d=r[xs];d!==ci(r)&&ac(n,e,o,d,a);for(let E=no;E<r.length;E++){const b=r[E];uv(b[hn],b,e,n,o,d)}}(n,e,d,r,a)}}function uy(e,n){return e.createComment(function ig(e){return e.replace(Wm,n=>n.replace(Km,qm))}(n))}function nv(e,n,r){return e.createElement(n,r)}function RI(e,n){var r;null===(r=n[Ho].changeDetectionScheduler)||void 0===r||r.notify(9),uv(e,n,n[Ir],2,null,null)}function ah(e,n){const r=e[Js],o=n[Qi];(Zi(o)||n[uo]!==o[Qi][uo])&&(e[Zn]|=tu.HasTransplantedViews),null===r?e[Js]=[n]:r.push(n)}function Kl(e,n){const r=e[Js],o=r.indexOf(n);r.splice(o,1)}function yf(e,n){if(e.length<=no)return;const r=no+n,o=e[r];if(o){const a=o[bi];null!==a&&a!==e&&Kl(a,o),n>0&&(e[r-1][yo]=o[yo]);const d=ws(e,no+n);!function SI(e,n){RI(e,n),n[Qr]=null,n[xi]=null}(o[hn],o);const m=d[Io];null!==m&&m.detachView(d[hn]),o[Qi]=null,o[yo]=null,o[Zn]&=-129}return o}function If(e,n){if(!(256&n[Zn])){const r=n[Ir];r.destroyNode&&uv(e,n,r,3,null,null),function ld(e){let n=e[Ba];if(!n)return rv(e[hn],e);for(;n;){let r=null;if(Zi(n))r=n[Ba];else{const o=n[no];o&&(r=o)}if(!r){for(;n&&!n[yo]&&n!==e;)Zi(n)&&rv(n[hn],n),n=n[Qi];null===n&&(n=e),Zi(n)&&rv(n[hn],n),r=n&&n[yo]}n=r}}(n)}}function rv(e,n){if(256&n[Zn])return;const r=ce(null);try{n[Zn]&=-129,n[Zn]|=256,n[Ri]&&dt(n[Ri]),function MI(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=n[r[o]];if(!(a instanceof gl)){const d=r[o+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const E=a[d[m]],b=d[m+1];Sa(4,E,b);try{b.call(E)}finally{Sa(5,E,b)}}else{Sa(4,a,d);try{d.call(a)}finally{Sa(5,a,d)}}}}}(e,n),function lc(e,n){const r=e.cleanup,o=n[Ys];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const m=r[d+3];m>=0?o[m]():o[-m].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(n[Ys]=null);const a=n[zo];if(null!==a){n[zo]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,n),1===n[hn].type&&n[Ir].destroy();const o=n[bi];if(null!==o&&wo(n[Qi])){o!==n[Qi]&&Kl(o,n);const a=n[Io];null!==a&&a.detachView(e)}wp(n)}finally{ce(r)}}function iv(e,n,r){return function cy(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[Qr];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===Pi.None||d===Pi.Emulated)return null}return ys(o,r)}}(e,n.parent,r)}function ud(e,n,r,o,a){e.insertBefore(n,r,o,a)}function dy(e,n,r){e.appendChild(n,r)}function ov(e,n,r,o,a){null!==o?ud(e,n,r,o,a):dy(e,n,r)}function ug(e,n){return e.parentNode(n)}function hy(e,n,r){return fy(e,n,r)}let uc,fy=function sv(e,n,r){return 40&e.type?ys(e,r):null};function av(e,n,r,o){const a=iv(e,o,n),d=n[Ir],E=hy(o.parent||n[xi],o,n);if(null!=a)if(Array.isArray(r))for(let b=0;b<r.length;b++)ov(d,a,r[b],E,!1);else ov(d,a,r,E,!1);void 0!==uc&&uc(d,o,n,r,a)}function cd(e,n){if(null!==n){const r=n.type;if(3&r)return ys(n,e);if(4&r)return lv(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return cd(e,o);{const a=e[n.index];return wo(a)?lv(-1,a):ci(a)}}if(128&r)return cd(e,n.next);if(32&r)return lg(n,e)()||ci(e[n.index]);{const o=py(e,n);return null!==o?Array.isArray(o)?o[0]:cd(Ma(e[uo]),o):cd(e,n.next)}}return null}function py(e,n){return null!==n?e[uo][xi].projection[n.projection]:null}function lv(e,n){const r=no+e+1;if(r<n.length){const o=n[r],a=o[hn].firstChild;if(null!==a)return cd(o,a)}return n[xs]}function my(e,n,r,o,a,d,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const E=o[r.index],b=r.type;if(m&&0===n&&(E&&ds(ci(E),o),r.flags|=2),32&~r.flags)if(8&b)my(e,n,r.child,o,a,d,!1),ac(n,e,a,E,d);else if(32&b){const F=lg(r,o);let K;for(;K=F();)ac(n,e,a,K,d);ac(n,e,a,E,d)}else 16&b?NI(e,n,o,r,a,d):ac(n,e,a,E,d);r=m?r.projectionNext:r.next}}function uv(e,n,r,o,a,d){my(r,o,e.firstChild,n,a,d,!1)}function NI(e,n,r,o,a,d){const m=r[uo],b=m[xi].projection[o.projection];if(Array.isArray(b))for(let F=0;F<b.length;F++)ac(n,e,a,b[F],d);else{let F=b;const K=m[Qi];Xa(o)&&(F.flags|=128),my(e,n,F,K,a,d,!0)}}function FI(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function vy(e,n,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&Ss(e,n,o),null!==a&&FI(e,n,a),null!==d&&function kI(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const Yr={};function bu(e=1){_y(ei(),Yt(),bo()+e,!1)}function _y(e,n,r,o){if(!o)if(3&~n[Zn]){const d=e.preOrderHooks;null!==d&&zu(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&pl(n,d,r)}Ll(r)}function lh(e,n=Mr.Default){const r=Yt();return null===r?Qe(e,n):Fc(Oi(),r,oe(e),n)}function yy(){throw new Error("invalid")}function Iy(e,n,r,o,a,d){const m=ce(null);try{let E=null;a&To.SignalBased&&(E=n[o][ye]),null!==E&&void 0!==E.transformFn&&(d=E.transformFn(d)),a&To.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,E,d,r,o):Ei(n,E,o,d)}finally{ce(m)}}function dg(e,n,r,o,a,d,m,E,b,F,K){const J=n.blueprint.slice();return J[Qr]=a,J[Zn]=204|o,(null!==F||e&&2048&e[Zn])&&(J[Zn]|=2048),lp(J),J[Qi]=J[Sl]=e,J[yi]=r,J[Ho]=m||e&&e[Ho],J[Ir]=E||e&&e[Ir],J[Ji]=b||e&&e[Ji]||null,J[xi]=d,J[$a]=function Xd(){return __++}(),J[Yi]=K,J[Fu]=F,J[uo]=2==n.type?e[uo]:J,J}function dd(e,n,r,o,a){let d=e.data[n];if(null===d)d=function Ey(e,n,r,o,a){const d=dp(),m=Nl(),b=e.data[n]=function pg(e,n,r,o,a,d){let m=n?n.injectorIndex:-1,E=0;return Pl()&&(E|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,r,n,o,a);return null===e.firstChild&&(e.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b,b.prev=d)),b}(e,n,r,o,a),function Rd(){return br.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const m=function $u(){const e=br.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ya(d,!0),d}function hg(e,n,r,o){if(0===r)return-1;const a=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return a}function VI(e,n,r,o,a){const d=bo(),m=2&o;try{Ll(-1),m&&n.length>er&&_y(e,n,er,!1),Sa(m?2:0,a),r(o,a)}finally{Ll(d),Sa(m?3:1,a)}}function fg(e,n,r){if(ja(n)){const o=ce(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const E=e.data[m];E.contentQueries&&E.contentQueries(1,r[m],m)}}finally{ce(o)}}}function cv(e,n,r){Dd()&&(function Ry(e,n,r,o){const a=r.directiveStart,d=r.directiveEnd;va(r)&&function oa(e,n,r){const o=ys(n,e),a=UI(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const E=vg(e,dg(e,a,null,m,o,n,null,e[Ho].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=E}(n,r,e.data[a+r.componentOffset]),e.firstCreatePass||hu(r,n),ds(o,n);const m=r.initialInputs;for(let E=a;E<d;E++){const b=e.data[E],F=Ul(n,e,E,r);ds(F,n),null!==m&&uh(0,E-a,F,b,0,m),Lr(b)&&(Os(r.index,n)[yi]=Ul(n,e,E,r))}}(e,n,r,ys(r,n)),!(64&~r.flags)&&mv(e,n,r))}function Ay(e,n,r=ys){const o=n.localNames;if(null!==o){let a=n.index+1;for(let d=0;d<o.length;d+=2){const m=o[d+1],E=-1===m?r(n,e):e[m];e[a++]=E}}}function UI(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Cy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Cy(e,n,r,o,a,d,m,E,b,F,K){const J=er+o,Re=J+a,Be=function $A(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Yr);return r}(J,Re),Ve="function"==typeof F?F():F;return Be[hn]={type:e,blueprint:Be,template:r,queries:null,viewQuery:E,declTNode:n,data:Be.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:Ve,incompleteFirstPass:!1,ssrId:K}}let BI=()=>null;function by(e,n,r,o,a){for(let m in n){var d;if(!n.hasOwnProperty(m))continue;const E=n[m];if(void 0===E)continue;null!==(d=o)&&void 0!==d||(o={});let b,F=To.None;Array.isArray(E)?(b=E[0],F=E[1]):b=E;let K=m;if(null!==a){if(!a.hasOwnProperty(m))continue;K=a[m]}0===e?wy(o,r,K,b,F):wy(o,r,K,b)}return o}function wy(e,n,r,o,a){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==a&&d.push(a)}function ia(e,n,r,o,a,d,m,E){const b=ys(n,r);let K,F=n.inputs;!E&&null!=F&&(K=F[o])?(_g(e,r,K,o,a),va(n)&&function Af(e,n){const r=Os(n,e);16&r[Zn]||(r[Zn]|=64)}(r,n.index)):3&n.type&&(o=function Sy(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,n.value||"",o):a,d.setProperty(b,o,a))}function pv(e,n,r,o){if(Dd()){const a=null===o?null:{"":-1},d=function Qa(e,n){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let m=0;m<r.length;m++){const E=r[m];if(el(n,E.selectors,!1))if(o||(o=[]),Lr(E))if(null!==E.findHostDirectiveDefs){const b=[];a=a||new Map,E.findHostDirectiveDefs(E,b,a),o.unshift(...b,E),As(e,n,b.length)}else o.unshift(E),As(e,n,0);else{var d;a=a||new Map,null===(d=E.findHostDirectiveDefs)||void 0===d||d.call(E,E,o,a),o.push(E)}}return null===o?null:[o,a]}(e,r);let m,E;null===d?m=E=null:[m,E]=d,null!==m&&gv(e,n,r,m,a,E),a&&function My(e,n,r){if(n){const o=e.localNames=[];for(let a=0;a<n.length;a+=2){const d=r[n[a+1]];if(null==d)throw new Vt(-301,!1);o.push(n[a],d)}}}(r,o,a)}r.mergedAttrs=vs(r.mergedAttrs,r.attrs)}function gv(e,n,r,o,a,d){for(let J=0;J<o.length;J++)kc(hu(r,n),e,o[J].type);!function Cf(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let J=0;J<o.length;J++){const Re=o[J];Re.providersResolver&&Re.providersResolver(Re)}let m=!1,E=!1,b=hg(e,n,o.length,null);for(let J=0;J<o.length;J++){const Re=o[J];r.mergedAttrs=vs(r.mergedAttrs,Re.hostAttrs),Tf(e,r,n,b,Re),Py(b,Re,a),null!==Re.contentQueries&&(r.flags|=4),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(r.flags|=64);const Be=Re.type.prototype;var F,K;!m&&(Be.ngOnChanges||Be.ngOnInit||Be.ngDoCheck)&&((null!==(F=e.preOrderHooks)&&void 0!==F?F:e.preOrderHooks=[]).push(r.index),m=!0),E||!Be.ngOnChanges&&!Be.ngDoCheck||((null!==(K=e.preOrderCheckHooks)&&void 0!==K?K:e.preOrderCheckHooks=[]).push(r.index),E=!0),b++}!function hv(e,n,r){const a=n.directiveEnd,d=e.data,m=n.attrs,E=[];let b=null,F=null;for(let K=n.directiveStart;K<a;K++){const J=d[K],Re=r?r.get(J):null,Ve=Re?Re.outputs:null;b=by(0,J.inputs,K,b,Re?Re.inputs:null),F=by(1,J.outputs,K,F,Ve);const jt=null===b||null===m||Vo(n)?null:fd(b,K,m);E.push(jt)}null!==b&&(b.hasOwnProperty("class")&&(n.flags|=8),b.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=E,n.inputs=b,n.outputs=F}(e,r,d)}function mv(e,n,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,m=function Md(){return br.lFrame.currentDirectiveIndex}();try{Ll(d);for(let E=o;E<a;E++){const b=e.data[E],F=n[E];xh(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&hd(b,F)}}finally{Ll(-1),xh(m)}}function hd(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function As(e,n,r){var o;n.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function Py(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;Lr(n)&&(r[""]=e)}}function Tf(e,n,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=fi(a.type)),m=new gl(d,Lr(a),lh);e.blueprint[o]=m,r[o]=m,function gg(e,n,r,o,a){const d=a.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const E=~n.index;(function $I(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=E&&m.push(E),m.push(r,o,d)}}(e,n,o,hg(e,r,a.hostVars,Yr),a)}function ql(e,n,r,o,a,d){const m=ys(e,n);!function Df(e,n,r,o,a,d,m){if(null==d)e.removeAttribute(n,a,r);else{const E=null==m?Ft(d):m(d,o||"",a);e.setAttribute(n,a,E,r)}}(n[Ir],m,d,e.value,r,o,a)}function uh(e,n,r,o,a,d){const m=d[n];if(null!==m)for(let E=0;E<m.length;)Iy(o,r,m[E++],m[E++],m[E++],m[E++])}function fd(e,n,r){let o=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const m=e[d];for(let E=0;E<m.length;E+=3)if(m[E]===n){o.push(d,m[E+1],m[E+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function mg(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function cc(e,n){const r=e.contentQueries;if(null!==r){const o=ce(null);try{for(let a=0;a<r.length;a+=2){const m=r[a+1];if(-1!==m){const E=e.data[m];Ol(r[a]),E.contentQueries(2,n[m],m)}}}finally{ce(o)}}}function vg(e,n){return e[Ba]?e[Xo][yo]=n:e[Ba]=n,e[Xo]=n,n}function vv(e,n,r){Ol(0);const o=ce(null);try{n(e,r)}finally{ce(o)}}function Ny(e){var n;return null!==(n=e[Ys])&&void 0!==n?n:e[Ys]=[]}function _v(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function ch(e,n){const r=e[Ji],o=r?r.get(ra,null):null;o&&o.handleError(n)}function _g(e,n,r,o,a){for(let d=0;d<r.length;){const m=r[d++],E=r[d++],b=r[d++];Iy(e.data[m],n[m],o,E,b,a)}}function Ya(e,n,r){const o=iu(n,e);!function ly(e,n,r){e.setValue(n,r)}(e[Ir],o,r)}function Oy(e,n){const r=Os(n,e),o=r[hn];!function jI(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const a=r[Qr];null!==a&&null===r[Yi]&&(r[Yi]=ic(a,r[Ji])),bf(o,r,r[yi])}function bf(e,n,r){Nd(n);try{var o;const a=e.viewQuery;null!==a&&vv(1,a,r);const d=e.template;null!==d&&VI(e,n,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[Io])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&cc(e,n),e.staticViewQueries&&vv(2,e.viewQuery,r);const m=e.components;null!==m&&function HI(e,n){for(let r=0;r<n.length;r++)Oy(e,n[r])}(n,m)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[Zn]&=-5,xd()}}function pd(e,n,r,o){const a=ce(null);try{var d,m,E;const b=n.tView,J=dg(e,b,r,4096&e[Zn]?4096:16,null,n,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(E=null==o?void 0:o.dehydratedView)&&void 0!==E?E:null);J[bi]=e[n.index];const Be=e[Io];return null!==Be&&(J[Io]=Be.createEmbeddedView(b)),bf(b,J,r),J}finally{ce(a)}}function gd(e,n){return!n||null===n.firstChild||Xa(e)}function md(e,n,r,o=!0){const a=n[hn];if(function Du(e,n,r,o){const a=no+o,d=r.length;o>0&&(r[a-1][yo]=n),o<d-no?(n[yo]=r[a],Ci(r,no+o,n)):(r.push(n),n[yo]=null),n[Qi]=r;const m=n[bi];null!==m&&r!==m&&ah(m,n);const E=n[Io];null!==E&&E.insertView(e),ou(n),n[Zn]|=128}(a,n,e,r),o){const m=lv(r,e),E=n[Ir],b=ug(E,e[xs]);null!==b&&function UA(e,n,r,o,a,d){o[Qr]=a,o[xi]=n,uv(e,o,r,1,a,d)}(a,e[xi],E,n,b,m)}const d=n[Yi];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function wf(e,n,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(ci(d)),wo(d)&&ky(d,o);const m=r.type;if(8&m)wf(e,n,r.child,o);else if(32&m){const E=lg(r,n);let b;for(;b=E();)o.push(b)}else if(16&m){const E=py(n,r);if(Array.isArray(E))o.push(...E);else{const b=Ma(n[uo]);wf(b[hn],b,E,o,!0)}}r=a?r.projectionNext:r.next}return o}function ky(e,n){for(let r=no;r<e.length;r++){const o=e[r],a=o[hn].firstChild;null!==a&&wf(o[hn],o,a,n)}e[xs]!==e[Qr]&&n.push(e[xs])}let Iv=[];const t={...Ie,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Rc(e.lView)},consumerOnSignalRead(){this.lView[Ri]=this}},s={...Ie,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Ma(e.lView);for(;n&&!u(n[hn]);)n=Ma(n);n&&Ra(n)},consumerOnSignalRead(){this.lView[Ri]=this}};function u(e){return 2!==e.type}const p=100;function _(e,n=!0,r=0){const o=e[Ho],a=o.rendererFactory;var m;null===(m=a.begin)||void 0===m||m.call(a);try{!function w(e,n){const r=hp();try{ju(!0),an(e,n);let o=0;for(;Sc(e);){if(o===p)throw new Vt(103,!1);o++,an(e,1)}}finally{ju(r)}}(e,r)}catch(F){throw n&&ch(e,F),F}finally{var E,b;null===(E=a.end)||void 0===E||E.call(a),null===(b=o.inlineEffectRunner)||void 0===b||b.flush()}}function G(e,n,r,o){var a;const d=n[Zn];if(!(256&~d))return;null===(a=n[Ho].inlineEffectRunner)||void 0===a||a.flush(),Nd(n);let b=!0,F=null,K=null;u(e)?(K=function Fy(e){var n;return null!==(n=e[Ri])&&void 0!==n?n:function zI(e){var n;const r=null!==(n=Iv.pop())&&void 0!==n?n:Object.create(t);return r.lView=e,r}(e)}(n),F=et(K)):null===function be(){return f}()?(b=!1,K=function i(e){var n;const r=null!==(n=e[Ri])&&void 0!==n?n:Object.create(s);return r.lView=e,r}(n),F=et(K)):n[Ri]&&(dt(n[Ri]),n[Ri]=null);try{lp(n),function Nc(e){return br.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&VI(e,n,r,2,o);const J=!(3&~d);if(J){const Ve=e.preOrderCheckHooks;null!==Ve&&pl(n,Ve,null)}else{const Ve=e.preOrderHooks;null!==Ve&&zu(n,Ve,0,null),Gu(n,0)}if(function Ce(e){for(let n=Pp(e);null!==n;n=b_(n)){if(!(n[Zn]&tu.HasTransplantedViews))continue;const r=n[Js];for(let o=0;o<r.length;o++)Ra(r[o])}}(n),re(n,0),null!==e.contentQueries&&cc(e,n),J){const Ve=e.contentCheckHooks;null!==Ve&&pl(n,Ve)}else{const Ve=e.contentHooks;null!==Ve&&zu(n,Ve,1),Gu(n,1)}!function LI(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Ll(~a);else{const d=a,m=r[++o],E=r[++o];Nh(m,d),E(2,n[d])}}}finally{Ll(-1)}}(e,n);const Re=e.components;null!==Re&&fn(n,Re,0);const Be=e.viewQuery;if(null!==Be&&vv(2,Be,o),J){const Ve=e.viewCheckHooks;null!==Ve&&pl(n,Ve)}else{const Ve=e.viewHooks;null!==Ve&&zu(n,Ve,2),Gu(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Zl]){for(const Ve of n[Zl])Ve();n[Zl]=null}n[Zn]&=-73}catch(J){throw Rc(n),J}finally{null!==K&&(Ye(K,F),b&&function l(e){e.lView[Ri]!==e&&(e.lView=null,Iv.push(e))}(K)),xd()}}function re(e,n){for(let r=Pp(e);null!==r;r=b_(r))for(let o=no;o<r.length;o++)Dt(r[o],n)}function Xe(e,n,r){Dt(Os(n,e),r)}function Dt(e,n){Uu(e)&&an(e,n)}function an(e,n){const o=e[hn],a=e[Zn],d=e[Ri];let m=!!(0===n&&16&a);if(m||(m=!!(64&a&&0===n)),m||(m=!!(1024&a)),m||(m=!(null==d||!d.dirty||!vt(d))),m||(m=!1),d&&(d.dirty=!1),e[Zn]&=-9217,m)G(o,e,o.template,e[yi]);else if(8192&a){re(e,1);const E=o.components;null!==E&&fn(e,E,1)}}function fn(e,n,r){for(let o=0;o<n.length;o++)Xe(e,n[o],r)}function ln(e,n){var r;const o=hp()?64:1088;for(null===(r=e[Ho].changeDetectionScheduler)||void 0===r||r.notify(n);e;){e[Zn]|=o;const a=Ma(e);if(ol(e)&&!a)return e;e=a}return null}class Vn{get rootNodes(){const n=this._lView,r=n[hn];return wf(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yi]}set context(n){this._lView[yi]=n}get destroyed(){return!(256&~this._lView[Zn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Qi];if(wo(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(yf(n,o),ws(r,o))}this._attachedToViewContainer=!1}If(this._lView[hn],this._lView)}onDestroy(n){_a(this._lView,n)}markForCheck(){ln(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Zn]&=-129}reattach(){ou(this._lView),this._lView[Zn]|=128}detectChanges(){this._lView[Zn]|=1024,_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Vt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ol(this._lView),r=this._lView[bi];null!==r&&!n&&Kl(r,this._lView),RI(this._lView[hn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Vt(902,!1);this._appRef=n;const r=ol(this._lView),o=this._lView[bi];null!==o&&!r&&ah(o,this._lView),ou(this._lView)}}let or=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jr,n})();const cr=or,nr=class extends cr{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const a=pd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Vn(a)}};function Jr(){return _r(Oi(),Yt())}function _r(e,n){return 4&e.type?new nr(n,e,$l(e,n)):null}let Ov=()=>null;function Ru(e,n){return Ov(e,n)}class pc{}const Ih=new Ze("",{providedIn:"root",factory:()=>!1}),Yy=new Ze(""),kv=new Ze("");class Jy{}class Fv{}class Rg{resolveComponentFactory(n){throw function oE(e){const n=Error(`No component factory found for ${Vr(e)}.`);return n.ngComponent=e,n}(n)}}class vc{}vc.NULL=new Rg;class Mg{}let Eo=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Pg(){const e=Yt(),r=Os(Oi().index,e);return(Zi(r)?r:e)[Ir]}(),n})(),$f=(()=>{var e;class n{}return(e=n).\u0275prov=Kn({token:e,providedIn:"root",factory:()=>null}),n})();function _c(e){return!!lo(e)}function Nu(e,n,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const E=n[m];"number"==typeof E?d=E:1==d?a=je(a,E):2==d&&(o=je(o,E+": "+n[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class e0 extends vc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Fr(n);return new Ja(r,this.ngModule)}}function t0(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const d=Array.isArray(a),m=d?a[0]:a;r.push(n?{propName:m,templateName:o,isSignal:!!((d?a[1]:To.None)&To.SignalBased)}:{propName:m,templateName:o})}return r}class Ja extends Fv{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=t0(n.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return t0(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Jn(e){return e.map(Xt).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,a){const d=ce(null);try{var E;let b=(a=a||this.ngModule)instanceof Do?a:null===(E=a)||void 0===E?void 0:E.injector;b&&null!==this.componentDef.getStandaloneInjector&&(b=this.componentDef.getStandaloneInjector(b)||b);const F=b?new ml(n,b):n,K=F.get(Mg,null);if(null===K)throw new Vt(407,!1);const Be={rendererFactory:K,sanitizer:F.get($f,null),inlineEffectRunner:null,changeDetectionScheduler:F.get(pc,null)},Ve=K.createRenderer(null,this.componentDef),jt=this.componentDef.selectors[0][0]||"div",un=o?function Ty(e,n,r,o){const d=o.get($m,!1)||r===Pi.ShadowDom,m=e.selectRootElement(n,d);return function Dy(e){BI(e)}(m),m}(Ve,o,this.componentDef.encapsulation,F):nv(Ve,jt,function uE(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(jt));let In=512;this.componentDef.signals?In|=4096:this.componentDef.onPush||(In|=16);let en=null;null!==un&&(en=ic(un,F,!0));const Ar=Cy(0,null,null,1,0,null,null,null,null,null,null),Br=dg(null,Ar,null,In,null,null,Be,Ve,F,null,en);Nd(Br);let mo,bs,Ta=null;try{const Tl=this.componentDef;let op,DA=null;Tl.findHostDirectiveDefs?(op=[],DA=new Map,Tl.findHostDirectiveDefs(Tl,op,DA),op.push(Tl)):op=[Tl];const XN=function dE(e,n){const r=e[hn],o=er;return e[o]=n,dd(r,o,2,"#host",null)}(Br,un);Ta=function zf(e,n,r,o,a,d,m){const E=a[hn];!function Ng(e,n,r,o){for(const a of e)n.mergedAttrs=vs(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(Nu(n,n.mergedAttrs,!0),null!==r&&vy(o,r,n))}(o,e,n,m);let b=null;null!==n&&(b=ic(n,a[Ji]));const F=d.rendererFactory.createRenderer(n,r);let K=16;r.signals?K=4096:r.onPush&&(K=64);const J=dg(a,UI(r),null,K,a[e.index],e,d,F,null,null,b);return E.firstCreatePass&&As(E,e,o.length-1),vg(a,J),a[e.index]=J}(XN,un,Tl,op,Br,Be,Ve),bs=za(Ar,er),un&&function Gf(e,n,r,o){if(o)Ss(e,r,["ng-version","18.2.9"]);else{const{attrs:a,classes:d}=function Si(e){const n=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&n.push(d,e[++o]):8===a&&r.push(d);else{if(!Uo(a))break;a=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);a&&Ss(e,r,a),d&&d.length>0&&FI(e,r,d.join(" "))}}(Ve,Tl,un,o),void 0!==r&&function Wf(e,n,r){const o=e.projection=[];for(let a=0;a<n.length;a++){const d=r[a];o.push(null!=d?Array.from(d):null)}}(bs,this.ngContentSelectors,r),mo=function n0(e,n,r,o,a,d){const m=Oi(),E=a[hn],b=ys(m,a);gv(E,a,m,r,null,o);for(let K=0;K<r.length;K++)ds(Ul(a,E,m.directiveStart+K,m),a);mv(E,a,m),b&&ds(b,a);const F=Ul(a,E,m.directiveStart+m.componentOffset,m);if(e[yi]=a[yi]=F,null!==d)for(const K of d)K(F,n);return fg(E,m,a),F}(Ta,Tl,op,DA,Br,[r0]),bf(Ar,Br,null)}catch(Tl){throw null!==Ta&&wp(Ta),wp(Br),Tl}finally{xd()}return new cE(this.componentType,mo,$l(bs,Br),Br,bs)}finally{ce(d)}}}class cE extends Jy{constructor(n,r,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Vn(a,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[n])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const m=this._rootLView;_g(m[hn],m,a,n,r),this.previousInputValues.set(n,r),ln(Os(this._tNode.index,m),1)}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function r0(){const e=Oi();Uh(Yt()[hn],e)}let Ah=(()=>{class n{}return n.__NG_ELEMENT_ID__=Oo,n})();function Oo(){return Vv(Oi(),Yt())}const hE=Ah,o0=class extends hE{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return $l(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Oc(this._hostTNode,this._hostLView);if(jh(n)){const r=cu(n,this._hostLView),o=uu(n);return new xo(r[hn].data[o+8],r)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=Lv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-no}createEmbeddedView(n,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const m=Ru(this._lContainer,n.ssrId),E=n.createEmbeddedViewImpl(r||{},d,m);return this.insertImpl(E,a,gd(this._hostTNode,m)),E}createComponent(n,r,o,a,d){var m,E,b;const F=n&&!function cn(e){return"function"==typeof e}(n);let K;if(F)K=r;else{const In=r||{};K=In.index,o=In.injector,a=In.projectableNodes,d=In.environmentInjector||In.ngModuleRef}const J=F?n:new Ja(Fr(n)),Re=o||this.parentInjector;if(!d&&null==J.ngModule){const en=(F?Re:this.parentInjector).get(Do,null);en&&(d=en)}const Be=Fr(null!==(m=J.componentType)&&void 0!==m?m:{}),Ve=Ru(this._lContainer,null!==(E=null==Be?void 0:Be.id)&&void 0!==E?E:null),jt=null!==(b=null==Ve?void 0:Ve.firstChild)&&void 0!==b?b:null,un=J.create(Re,a,jt,d);return this.insertImpl(un.hostView,K,gd(this._hostTNode,Ve)),un}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const a=n._lView;if(function cm(e){return wo(e[Qi])}(a)){const E=this.indexOf(n);if(-1!==E)this.detach(E);else{const b=a[Qi],F=new o0(b,b[xi],b[Qi]);F.detach(F.indexOf(n))}}const d=this._adjustIndex(r),m=this._lContainer;return md(m,a,d,o),n.attachToViewContainerRef(),Ci(xg(m),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=Lv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=yf(this._lContainer,r);o&&(ws(xg(this._lContainer),r),If(o[hn],o))}detach(n){const r=this._adjustIndex(n,-1),o=yf(this._lContainer,r);return o&&null!=ws(xg(this._lContainer),r)?new Vn(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function Lv(e){return e[8]}function xg(e){return e[8]||(e[8]=[])}function Vv(e,n){let r;const o=n[e.index];return wo(o)?r=o:(r=mg(o,n,null,e),n[e.index]=r,vg(n,r)),Uv(r,n,e,o),new o0(r,e,n)}let Uv=function s0(e,n,r,o){if(e[xs])return;let a;a=8&r.type?ci(o):function Og(e,n){const r=e[Ir],o=r.createComment(""),a=ys(n,e);return ud(r,ug(r,a),o,function PI(e,n){return e.nextSibling(n)}(r,a),!1),o}(n,r),e[xs]=a},Al=()=>!1;class Ch{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ch(this.queryList)}setDirty(){this.queryList.setDirty()}}class kg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const m=r.getByIndex(d);a.push(this.queries[m.indexInDeclarationView].clone())}return new kg(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==Ug(n,r).matches&&this.queries[r].setDirty()}}class qf{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function c0(e){return e.split(",").map(n=>n.trim())}(n):n}}class jv{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new jv(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Fg{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Fg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(n,r,Xf(r,d)),this.matchTNodeWithReadOption(n,r,Lc(r,n,d,!1,!1))}else o===or?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Lc(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Eu||a===Ah||a===or&&4&r.type)this.addMatch(r.index,-2);else{const d=Lc(r,n,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Xf(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function u0(e,n,r,o){return-1===r?function l0(e,n){return 11&e.type?$l(e,n):4&e.type?_r(e,n):null}(n,e):-2===r?function Hv(e,n,r){return r===Eu?$l(n,e):r===or?_r(n,e):r===Ah?Vv(n,e):void 0}(e,n,o):Ul(e,e[hn],r,n)}function Lg(e,n,r,o){const a=n[Io].queries[o];if(null===a.matches){const d=e.data,m=r.matches,E=[];for(let b=0;null!==m&&b<m.length;b+=2){const F=m[b];E.push(F<0?null:u0(n,d[F],m[b+1],r.metadata.read))}a.matches=E}return a.matches}function Vg(e,n,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const m=Lg(e,n,a,r);for(let E=0;E<d.length;E+=2){const b=d[E];if(b>0)o.push(m[E/2]);else{const F=d[E+1],K=n[-b];for(let J=no;J<K.length;J++){const Re=K[J];Re[bi]===Re[Qi]&&Vg(Re[hn],Re,F,o)}if(null!==K[Js]){const J=K[Js];for(let Re=0;Re<J.length;Re++){const Be=J[Re];Vg(Be[hn],Be,F,o)}}}}}return o}function zv(e,n,r){var o;const a=new bp(!(4&~r));return function dv(e,n,r,o){const a=Ny(n);a.push(r),e.firstCreatePass&&_v(e).push(o,a.length-1)}(e,n,a,a.destroy),(null!==(o=n[Io])&&void 0!==o?o:n[Io]=new kg).queries.push(new Ch(a))-1}function Wv(e,n,r){null===e.queries&&(e.queries=new jv),e.queries.track(new Fg(n,r))}function Ug(e,n){return e.queries.getByIndex(n)}function Qf(e,n){const r=e[hn],o=Ug(r,n);return o.crossesNgTemplate?Vg(r,e,n,[]):Lg(r,e,o,n)}const Ca=new Set;function js(e){var n,r;Ca.has(e)||(Ca.add(e),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:e}}))}function k(e,n){js("NgSignals");const r=function X(e){const n=Object.create($t);n.value=e;const r=()=>(ue(n),n.value);return r[ye]=n,r}(e),o=r[ye];return null!=n&&n.equal&&(o.equal=n.equal),r.set=a=>qe(o,a),r.update=a=>function Je(e,n){lt()||Pt(),qe(e,n(e.value))}(o,a),r.asReadonly=q.bind(r),r}function q(){const e=this[ye];if(void 0===e.readonlyFn){const n=()=>this();n[ye]=e,e.readonlyFn=n}return e.readonlyFn}function ge(e){return function Kv(e){return"function"==typeof e&&void 0!==e[ye]}(e)&&"function"==typeof e.set}function fE(e){let n=function JA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let a;if(Lr(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Vt(903,!1);a=n.\u0275dir}if(a){if(r){o.push(a);const m=e;m.inputs=p0(e.inputs),m.inputTransforms=p0(e.inputTransforms),m.declaredInputs=p0(e.declaredInputs),m.outputs=p0(e.outputs);const E=a.hostBindings;E&&aw(e,E);const b=a.viewQuery,F=a.contentQueries;if(b&&ow(e,b),F&&sw(e,F),rw(e,a),zr(e.outputs,a.outputs),Lr(a)&&a.data.animation){const K=e.data;K.animation=(K.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let m=0;m<d.length;m++){const E=d[m];E&&E.ngInherit&&E(e),E===fE&&(r=!1)}}n=Object.getPrototypeOf(n)}!function iw(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=n+=a.hostVars,a.hostAttrs=vs(a.hostAttrs,r=vs(r,a.hostAttrs))}}(o)}function rw(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=n.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var r;const d=Array.isArray(a)?a[0]:a;if(!n.inputTransforms.hasOwnProperty(d))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[d]=n.inputTransforms[d]}}}function p0(e){return e===Bi?{}:e===yr?[]:e}function ow(e,n){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{n(o,a),r(o,a)}:n}function sw(e,n){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{n(o,a,d),r(o,a,d)}:n}function aw(e,n){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{n(o,a),r(o,a)}:n}function nC(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class Zf{}class rC{}function fw(e,n){return new pE(e,null!=n?n:null,[])}class pE extends Zf{constructor(n,r,o,a=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e0(this);const d=lo(n);this._bootstrapComponents=Bs(d.bootstrap),this._r3Injector=ho(n,r,[{provide:Zf,useValue:this},{provide:vc,useValue:this.componentFactoryResolver},...o],Vr(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class gE extends rC{constructor(n){super(),this.moduleType=n}create(n){return new pE(this.moduleType,n,[])}}class iC extends Zf{constructor(n){super(),this.componentFactoryResolver=new e0(this),this.instance=null;const r=new Ni([...n.providers,{provide:Zf,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],n.parent||Qs(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mE(e,n,r=null){return new iC({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function g0(e){return!!vE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function vE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ic(e,n,r){return e[n]=r}function es(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function ep(e,n,r,o){const a=es(e,n,r);return es(e,n+1,o)||a}function Yv(e,n,r,o,a,d,m,E,b,F){const K=r+er,J=n.firstCreatePass?function yw(e,n,r,o,a,d,m,E,b){const F=n.consts,K=dd(n,e,4,m||null,E||null);pv(n,r,K,ks(F,b)),Uh(n,K);const J=K.tView=Cy(2,K,o,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,F,null);return null!==n.queries&&(n.queries.template(n,K),J.queries=n.queries.embeddedTView(K)),K}(K,n,e,o,a,d,m,E,b):n.data[K];ya(J,!1);const Re=oC(n,e,J,r);lu()&&av(n,e,Re,J),ds(Re,e);const Be=mg(Re,e,Re,J);return e[K]=Be,vg(e,Be),function Bv(e,n,r){return Al(e,n,r)}(Be,J,e),so(J)&&cv(n,e,J),null!=b&&Ay(e,J,F),J}function _E(e,n,r,o,a,d,m,E){const b=Yt(),F=ei();return Yv(b,F,e,n,r,o,a,ks(F.consts,d),m,E),_E}let oC=function sC(e,n,r,o){return Ia(!0),n[Ir].createComment("")};var Hg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Hg||{});let hC=(()=>{var e;class n{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=n).\u0275prov=Kn({token:e,providedIn:"root",factory:()=>new e}),n})();class I0{constructor(){this.ngZone=yt(C),this.scheduler=yt(pc),this.errorHandler=yt(ra,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of I0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var n;o.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(Nt=I0).PHASES=[Hg.EarlyRead,Hg.Write,Hg.MixedReadWrite,Hg.Read],Nt.\u0275prov=Kn({token:Nt,providedIn:"root",factory:()=>new Nt});class Cw{constructor(n,r,o,a){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==a?void 0:a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function E0(e,n){var r;(null==n||!n.injector)&&function D(e){if(!Un())throw new Vt(-203,!1)}();const o=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:yt(cs);return function Oa(e){return"browser"===(null!=e?e:yt(cs)).get(Au)}(o)?(js("NgAfterNextRender"),function fC(e,n,r,o){var a,d;const m=n.get(hC);null!==(a=m.impl)&&void 0!==a||(m.impl=n.get(I0));const E=null!==(d=null==r?void 0:r.phase)&&void 0!==d?d:Hg.MixedReadWrite,b=!0!==(null==r?void 0:r.manualCleanup)?n.get(jc):null,F=new Cw(m.impl,function Dw(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,E),o,b);return m.impl.register(F),F}(e,o,n,!0)):pC}const pC={destroy(){}};function RE(e,n,r,o){const a=Yt();return es(a,ea(),n)&&(ei(),ql(ki(),a,e,n,r,o)),RE}function Yg(e,n,r,o,a,d){const E=ep(e,function Ka(){return br.lFrame.bindingIndex}(),r,a);return ta(2),E?n+Ft(r)+o+Ft(a)+d:Yr}function T0(e,n){return e<<17|n<<2}function bh(e){return e>>17&32767}function ME(e){return 2|e}function np(e){return(131068&e)>>2}function PE(e,n){return-131069&e|n<<2}function NE(e){return 1|e}function BC(e,n,r,o){const a=e[r+1],d=null===n;let m=o?bh(a):np(a),E=!1;for(;0!==m&&(!1===E||d);){const F=e[m+1];aS(e[m],n)&&(E=!0,e[m+1]=o?NE(F):ME(F)),m=o?bh(F):np(F)}E&&(e[r+1]=o?ME(a):NE(a))}function aS(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Lo(e,n)>=0}function xE(e,n,r){const o=Yt();return es(o,ea(),n)&&ia(ei(),ki(),o,e,n,o[Ir],r,!1),xE}function OE(e,n,r,o,a){const m=a?"class":"style";_g(e,r,n.inputs[m],m,o)}function kE(e,n,r){return xu(e,n,r,!1),kE}function FE(e,n){return xu(e,n,null,!0),FE}function xu(e,n,r,o){const a=Yt(),d=ei(),m=ta(2);d.firstUpdatePass&&function qC(e,n,r,o){const a=e.data;if(null===a[r+1]){const d=a[bo()],m=function KC(e,n){return n>=e.expandoStartIndex}(e,r);(function JC(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!m&&(n=!1),n=function mS(e,n,r,o){const a=function Pd(e){const n=br.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===a)0===(o?n.classBindings:n.styleBindings)&&(r=t_(r=LE(null,e,n,r,o),n.attrs,o),d=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==a)if(r=LE(a,e,n,r,o),null===d){let b=function vS(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==np(o))return e[bh(o)]}(e,n,o);void 0!==b&&Array.isArray(b)&&(b=LE(null,e,n,b[1],o),b=t_(b,n.attrs,o),function _S(e,n,r,o){e[bh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,b))}else d=function yS(e,n,r){let o;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)o=t_(o,e[d].hostAttrs,r);return t_(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(a,d,n,o),function oS(e,n,r,o,a,d){let m=d?n.classBindings:n.styleBindings,E=bh(m),b=np(m);e[o]=r;let K,F=!1;if(Array.isArray(r)?(K=r[1],(null===K||Lo(r,K)>0)&&(F=!0)):K=r,a)if(0!==b){const Re=bh(e[E+1]);e[o+1]=T0(Re,E),0!==Re&&(e[Re+1]=PE(e[Re+1],o)),e[E+1]=function rS(e,n){return 131071&e|n<<17}(e[E+1],o)}else e[o+1]=T0(E,0),0!==E&&(e[E+1]=PE(e[E+1],o)),E=o;else e[o+1]=T0(b,0),0===E?E=o:e[b+1]=PE(e[b+1],o),b=o;F&&(e[o+1]=ME(e[o+1])),BC(e,K,o,!0),BC(e,K,o,!1),function sS(e,n,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Lo(d,n)>=0&&(r[o+1]=NE(r[o+1]))}(n,K,e,o,d),m=T0(E,b),d?n.classBindings=m:n.styleBindings=m}(a,d,n,r,m,o)}}(d,e,m,o),n!==Yr&&es(a,m,n)&&function QC(e,n,r,o,a,d,m,E){if(!(3&n.type))return;const b=e.data,F=b[E+1],K=function iS(e){return!(1&~e)}(F)?YC(b,n,r,a,np(F),m):void 0;D0(K)||(D0(d)||function nS(e){return!(2&~e)}(F)&&(d=YC(b,null,r,a,E,m)),function OI(e,n,r,o,a){if(n)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:_f.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=_f.Important),e.setStyle(r,o,a,d))}}(o,m,iu(bo(),r),a,d))}(d,d.data[bo()],a,a[Ir],e,a[m+1]=function CS(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Vr(Hl(e)))),e}(n,r),o,m)}function LE(e,n,r,o,a){let d=null;const m=r.directiveEnd;let E=r.directiveStylingLast;for(-1===E?E=r.directiveStart:E++;E<m&&(d=n[E],o=t_(o,d.hostAttrs,a),d!==e);)E++;return null!==e&&(r.directiveStylingLast=E),o}function t_(e,n,r){const o=r?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vi(e,m,!!r||n[++d]))}return void 0===e?null:e}function YC(e,n,r,o,a,d){const m=null===n;let E;for(;a>0;){const b=e[a],F=Array.isArray(b),K=F?b[1]:b,J=null===K;let Re=r[a+1];Re===Yr&&(Re=J?yr:void 0);let Be=J?Mo(Re,o):K===o?Re:void 0;if(F&&!D0(Be)&&(Be=Mo(b,o)),D0(Be)&&(E=Be,m))return E;const Ve=e[a+1];a=m?bh(Ve):np(Ve)}if(null!==n){let b=d?n.residualClasses:n.residualStyles;null!=b&&(E=Mo(b,o))}return E}function D0(e){return void 0!==e}function w0(e,n,r,o){const a=Yt(),d=ei(),m=er+e,E=a[Ir],b=d.firstCreatePass?function WS(e,n,r,o,a,d){const m=n.consts,b=dd(n,e,2,o,ks(m,a));return pv(n,r,b,ks(m,d)),null!==b.attrs&&Nu(b,b.attrs,!1),null!==b.mergedAttrs&&Nu(b,b.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,b),b}(m,d,a,n,r,o):d.data[m],F=nT(d,a,b,E,n,e);a[m]=F;const K=so(b);return ya(b,!0),vy(E,F,b),!function $g(e){return!(32&~e.flags)}(b)&&lu()&&av(d,a,F,b),0===function Mc(){return br.lFrame.elementDepthCount}()&&ds(F,a),function up(){br.lFrame.elementDepthCount++}(),K&&(cv(d,a,b),fg(d,b,a)),null!==o&&Ay(a,b),w0}function S0(){let e=Oi();Nl()?fl():(e=e.parent,ya(e,!1));const n=e;(function bd(e){return br.skipHydrationRootTNode===e})(n)&&function Sd(){br.skipHydrationRootTNode=null}(),function Pc(){br.lFrame.elementDepthCount--}();const r=ei();return r.firstCreatePass&&(Uh(r,e),ja(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function m_(e){return!!(8&e.flags)}(n)&&OE(r,n,Yt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function fm(e){return!!(16&e.flags)}(n)&&OE(r,n,Yt(),n.stylesWithoutHost,!1),S0}function $E(e,n,r,o){return w0(e,n,r,o),S0(),$E}let nT=(e,n,r,o,a,d)=>(Ia(!0),nv(o,a,function Lh(){return br.lFrame.currentNamespace}()));function R0(e,n,r){const o=Yt(),a=ei(),d=e+er,m=a.firstCreatePass?function XS(e,n,r,o,a){const d=n.consts,m=ks(d,o),E=dd(n,e,8,"ng-container",m);return null!==m&&Nu(E,m,!0),pv(n,r,E,ks(d,a)),null!==n.queries&&n.queries.elementStart(n,E),E}(d,a,o,n,r):a.data[d];ya(m,!0);const E=rT(a,o,m,e);return o[d]=E,lu()&&av(a,o,E,m),ds(E,o),so(m)&&(cv(a,o,m),fg(a,m,o)),null!=r&&Ay(o,m),R0}function M0(){let e=Oi();const n=ei();return Nl()?fl():(e=e.parent,ya(e,!1)),n.firstCreatePass&&(Uh(n,e),ja(e)&&n.queries.elementEnd(e)),M0}function jE(e,n,r){return R0(e,n,r),M0(),jE}let rT=(e,n,r,o)=>(Ia(!0),uy(n[Ir],""));function iT(){return Yt()}const rp=void 0;var ZS=["en",[["a","p"],["AM","PM"],rp],[["AM","PM"],rp,rp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rp,"{1} 'at' {0}",rp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JS(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let om={};function HE(e){const n=function eR(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=lT(n);if(r)return r;const o=n.split("-")[0];if(r=lT(o),r)return r;if("en"===o)return ZS;throw new Vt(701,!1)}function aT(e){return HE(e)[sm.PluralCase]}function lT(e){return e in om||(om[e]=Sr.ng&&Sr.ng.common&&Sr.ng.common.locales&&Sr.ng.common.locales[e]),om[e]}var sm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(sm||{});const P0="en-US";let uT=P0,wT=(e,n,r)=>{};function WE(e,n,r,o){const a=Yt(),d=ei(),m=Oi();return KE(d,a,a[Ir],m,e,n,o),WE}function KE(e,n,r,o,a,d,m){const E=so(o),F=e.firstCreatePass&&_v(e),K=n[yi],J=Ny(n);let Re=!0;if(3&o.type||m){const jt=ys(o,n),un=m?m(jt):jt,In=J.length,en=m?Br=>m(ci(Br[o.index])):o.index;let Ar=null;if(!m&&E&&(Ar=function jR(e,n,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const m=a[d];if(m===r&&a[d+1]===o){const E=n[Ys],b=a[d+2];return E.length>b?E[b]:null}"string"==typeof m&&(d+=2)}return null}(e,n,a,o.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=d,Ar.__ngLastListenerFn__=d,Re=!1;else{d=PT(o,n,K,d),wT(jt,a,d);const Br=r.listen(un,a,d);J.push(d,Br),F&&F.push(a,en,In,In+1)}}else d=PT(o,n,K,d);const Be=o.outputs;let Ve;if(Re&&null!==Be&&(Ve=Be[a])){const jt=Ve.length;if(jt)for(let un=0;un<jt;un+=2){const mo=n[Ve[un]][Ve[un+1]].subscribe(d),bs=J.length;J.push(d,mo),F&&F.push(a,o.index,bs,-(bs+1))}}}function MT(e,n,r,o){const a=ce(null);try{return Sa(6,n,r),!1!==r(o)}catch(d){return ch(e,d),!1}finally{Sa(7,n,r),ce(a)}}function PT(e,n,r,o){return function a(d){if(d===Function)return o;ln(e.componentOffset>-1?Os(e.index,n):n,5);let E=MT(n,r,o,d),b=a.__ngNextListenerFn__;for(;b;)E=MT(n,r,b,d)&&E,b=b.__ngNextListenerFn__;return E}}function NT(e=1){return function Fl(e){return(br.lFrame.contextLView=function dl(e,n){for(;e>0;)n=n[Sl],e--;return n}(e,br.lFrame.contextLView))[yi]}(e)}function HR(e,n){let r=null;const o=function z(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===o?el(e,d,!0):B(o,d))return a}else r=a}return r}function xT(e){const n=Yt()[uo][xi];if(!n.projection){const o=n.projection=function ms(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),a=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const m=e?HR(d,e):0;null!==m&&(a[m]?a[m].projectionNext=d:o[m]=d,a[m]=d)}d=d.next}}}function OT(e,n=0,r,o,a,d){const m=Yt(),E=ei(),b=o?e+1:null;null!==b&&Yv(m,E,b,o,a,d,null,r);const F=dd(E,er+e,16,null,r||null);null===F.projection&&(F.projection=n),fl();const J=!m[Yi]||Pl();null===m[uo][xi].projection[F.projection]&&null!==b?function zR(e,n,r){const o=er+r,a=n.data[o],d=e[o],m=Ru(d,a.tView.ssrId);md(d,pd(e,a,void 0,{dehydratedView:m}),0,gd(a,m))}(m,E,b):J&&32&~F.flags&&function BA(e,n,r){NI(n[Ir],0,n,r,iv(e,r,n),hy(r.parent||n[xi],r,n))}(E,m,F)}function zT(e,n,r,o){!function yc(e,n,r,o){const a=ei();if(a.firstCreatePass){const d=Oi();Wv(a,new qf(n,r,o),d.index),function d0(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return zv(a,Yt(),r)}(e,n,r,o)}function GT(e,n,r){!function Gv(e,n,r){const o=ei();return o.firstCreatePass&&(Wv(o,new qf(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),zv(o,Yt(),n)}(e,n,r)}function WT(e){const n=Yt(),r=ei(),o=xl();Ol(o+1);const a=Ug(r,o);if(e.dirty&&function um(e){return!(4&~e[Zn])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=Qf(n,o);e.reset(d,v_),e.notifyOnChanges()}return!0}return!1}function KT(){return function Th(e,n){return e[Io].queries[n].queryList}(Yt(),xl())}function qT(e){return function cl(e,n){return e[n]}(function Wa(){return br.lFrame.contextLView}(),er+e)}function iD(e,n=""){const r=Yt(),o=ei(),a=e+er,d=o.firstCreatePass?dd(o,a,1,n,null):o.data[a],m=oD(o,r,d,n,e);r[a]=m,lu()&&av(o,r,m,d),ya(d,!1)}let oD=(e,n,r,o,a)=>(Ia(!0),function sh(e,n){return e.createText(n)}(n[Ir],o));function QE(e){return k0("",e,""),QE}function k0(e,n,r){const o=Yt(),a=function Qg(e,n,r,o){return es(e,ea(),r)?n+Ft(r)+o:Yr}(o,e,n,r);return a!==Yr&&Ya(o,bo(),a),k0}function YE(e,n,r,o,a){const d=Yt(),m=Yg(d,e,n,r,o,a);return m!==Yr&&Ya(d,bo(),m),YE}function JE(e,n,r){ge(n)&&(n=n());const o=Yt();return es(o,ea(),n)&&ia(ei(),ki(),o,e,n,o[Ir],r,!1),JE}function fD(e,n){const r=ge(e);return r&&e.set(n),r}function ZE(e,n){const r=Yt(),o=ei(),a=Oi();return KE(o,r,r[Ir],a,e,n),ZE}function eA(e,n,r,o,a){if(e=oe(e),Array.isArray(e))for(let d=0;d<e.length;d++)eA(e[d],n,r,o,a);else{const d=ei(),m=Yt(),E=Oi();let b=Ns(e)?e:oe(e.provide);const F=M(e),K=1048575&E.providerIndexes,J=E.directiveStart,Re=E.providerIndexes>>20;if(Ns(e)||!e.multi){const Be=new gl(F,a,lh),Ve=nA(b,n,a?K:K+Re,J);-1===Ve?(kc(hu(E,m),d,b),tA(d,e,n.length),n.push(b),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(Be),m.push(Be)):(r[Ve]=Be,m[Ve]=Be)}else{const Be=nA(b,n,K+Re,J),Ve=nA(b,n,K,K+Re),un=Ve>=0&&r[Ve];if(a&&!un||!a&&!(Be>=0&&r[Be])){kc(hu(E,m),d,b);const In=function cM(e,n,r,o,a){const d=new gl(e,r,lh);return d.multi=[],d.index=n,d.componentProviders=0,mD(d,a,o&&!r),d}(a?uM:lM,r.length,a,o,F);!a&&un&&(r[Ve].providerFactory=In),tA(d,e,n.length,0),n.push(b),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(In),m.push(In)}else tA(d,e,Be>-1?Be:Ve,mD(r[a?Ve:Be],F,!a&&o));!a&&o&&un&&r[Ve].componentProviders++}}}function tA(e,n,r,o){const a=Ns(n),d=function wl(e){return!!e.useClass}(n);if(a||d){const b=(d?oe(n.useClass):n).prototype.ngOnDestroy;if(b){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const K=F.indexOf(r);-1===K?F.push(r,[o,b]):F[K+1].push(o,b)}else F.push(r,b)}}}function mD(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function nA(e,n,r,o){for(let a=r;a<o;a++)if(n[a]===e)return a;return-1}function lM(e,n,r,o){return rA(this.multi,[])}function uM(e,n,r,o){const a=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Ul(r,r[hn],this.providerFactory.index,o);d=E.slice(0,m),rA(a,d);for(let b=m;b<E.length;b++)d.push(E[b])}else d=[],rA(a,d);return d}function rA(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function vD(e,n=[]){return r=>{r.providersResolver=(o,a)=>function aM(e,n,r){const o=ei();if(o.firstCreatePass){const a=Lr(e);eA(r,o.data,o.blueprint,a,!0),eA(n,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,n)}}let dM=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=La(0,o.type),d=a.length>0?mE([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=Kn({token:e,providedIn:"environment",factory:()=>new e(Qe(Do))}),n})();function _D(e){js("NgStandalone"),e.getStandaloneInjector=n=>n.get(dM).getOrCreateStandaloneInjector(e)}function ED(e,n,r,o){return function CD(e,n,r,o,a,d){const m=n+r;return es(e,m,a)?Ic(e,m+1,d?o.call(d,a):o(a)):a_(e,m+1)}(Yt(),Jo(),e,n,r,o)}function AD(e,n,r,o,a){return function TD(e,n,r,o,a,d,m){const E=n+r;return ep(e,E,a,d)?Ic(e,E+2,m?o.call(m,a,d):o(a,d)):a_(e,E+2)}(Yt(),Jo(),e,n,r,o,a)}function a_(e,n){const r=e[n];return r===Yr?void 0:r}function SD(e,n){return _r(e,n)}class zD{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const YM=new zD("18.2.9");let GD=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const XD=new Ze(""),QD=new Ze("");let cA,CP=(()=>{var e;class n{constructor(o,a,d){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,cA||(function TP(e){cA=e}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{C.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),o()},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(Qe(C),Qe(YD),Qe(QD))},e.\u0275prov=Kn({token:e,factory:e.\u0275fac}),n})(),YD=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var d,m;return null!==(d=null===(m=cA)||void 0===m?void 0:m.findTestabilityInTree(this,o,a))&&void 0!==d?d:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function dA(e){return!!e&&"function"==typeof e.then}function JD(e){return!!e&&"function"==typeof e.subscribe}const ZD=new Ze("");let eb=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d}),this.appInits=null!==(o=yt(ZD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const m=d();if(dA(m))o.push(m);else if(JD(m)){const E=new Promise((b,F)=>{m.subscribe({complete:b,error:F})});o.push(E)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const B0=new Ze("");function nb(e,n){return Array.isArray(n)?n.reduce(nb,e):{...e,...n}}let Cc=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yt(Tp),this.afterRenderManager=yt(hC),this.zonelessEnabled=yt(Ih),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Qn.B,this.afterTick=new Qn.B,this.componentTypes=[],this.components=[],this.isStable=yt(Aa).hasPendingTasks.pipe((0,Xn.T)(o=>!o)),this._injector=yt(Do)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:d=>{d&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof Fv;if(!this._injector.get(eb).done)throw!d&&Po(o),new Vt(405,!1);let E;E=d?o:this._injector.get(vc).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const b=function DP(e){return e.isBoundToModule}(E)?void 0:this._injector.get(Zf),K=E.create(cs.NULL,[],a||E.selector,b),J=K.location.nativeElement,Re=K.injector.get(XD,null);return null==Re||Re.registerApplication(J),K.onDestroy(()=>{this.detachView(K.hostView),$0(this.components,K),null==Re||Re.unregisterApplication(J)}),this._loadComponent(K),K}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Vt(101,!1);const o=ce(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,ce(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(Mg,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:E,notifyErrorHandler:b}of this._views)SP(E,b,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,d;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>Sc(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;$0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(B0,[]);[...this._bootstrapListeners,...a].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Vt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function $0(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function SP(e,n,r,o){(r||Sc(e))&&_(e,n,r&&!o?0:1)}class RP{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let MP=(()=>{var e;class n{compileModuleSync(o){return new gE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=Bs(lo(o).declarations).reduce((E,b)=>{const F=Fr(b);return F&&E.push(new Ja(F)),E},[]);return new RP(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),xP=(()=>{var e;class n{constructor(){this.zone=yt(C),this.changeDetectionScheduler=yt(pc),this.applicationRef=yt(Cc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function hA({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new C({...fA(),scheduleInRootZone:r})),[{provide:C,useFactory:e},{provide:Ao,multi:!0,useFactory:()=>{const a=yt(xP,{optional:!0});return()=>a.initialize()}},{provide:Ao,multi:!0,useFactory:()=>{const a=yt(kP);return()=>{a.initialize()}}},!0===n?{provide:Yy,useValue:!0}:[],{provide:kv,useValue:null!=r?r:Wd}]}function fA(e){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let kP=(()=>{var e;class n{constructor(){this.subscription=new sr.yU,this.initialized=!1,this.zone=yt(C),this.pendingTasks=yt(Aa)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{C.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;C.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),h_=(()=>{var e;class n{constructor(){var o,a,d;this.appRef=yt(Cc),this.taskService=yt(Aa),this.ngZone=yt(C),this.zonelessEnabled=yt(Ih),this.disableScheduling=null!==(o=yt(Yy,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new sr.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(h):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=yt(kv,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Yn||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?Kd:yu;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const gA=new Ze("",{providedIn:"root",factory:()=>yt(gA,Mr.Optional|Mr.SkipSelf)||function FP(){return typeof $localize<"u"&&$localize.locale||P0}()}),LP=new Ze("",{providedIn:"root",factory:()=>"USD"}),j0=new Ze("");function H0(e){return!e.moduleRef}let ub=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=null==a?void 0:a.scheduleInRootZone,b=[hA({ngZoneFactory:()=>function Iu(e="zone.js",n){return"noop"===e?new Yn:"zone.js"===e?new C(n):e}(null==a?void 0:a.ngZone,{...fA({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:pc,useExisting:h_}],F=function pw(e,n,r){return new pE(e,n,r,!1)}(o.moduleType,this.injector,b);return function lb(e){const n=H0(e)?e.r3Injector:e.moduleRef.injector,r=n.get(C);return r.run(()=>{H0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(ra,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),H0(e)){const d=()=>n.destroy(),m=e.platformInjector.get(j0);m.add(d),n.onDestroy(()=>{a.unsubscribe(),m.delete(d)})}else{const d=()=>e.moduleRef.destroy(),m=e.platformInjector.get(j0);m.add(d),e.moduleRef.onDestroy(()=>{$0(e.allPlatformModules,e.moduleRef),a.unsubscribe(),m.delete(d)})}return function wP(e,n,r){try{const o=r();return dA(o)?o.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get(eb);return d.runInitializers(),d.donePromise.then(()=>{if(function iR(e){"string"==typeof e&&(uT=e.toLowerCase().replace(/_/g,"-"))}(n.get(gA,P0)||P0),H0(e)){const E=n.get(Cc);return void 0!==e.rootComponent&&E.bootstrap(e.rootComponent),E}return function jP(e,n){const r=e.injector.get(Cc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Vt(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:F,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,a=[]){const d=nb({},a);return function NP(e,n,r){const o=new gE(r);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Vt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(j0,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(Qe(cs))},e.\u0275prov=Kn({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),wh=null;const cb=new Ze("");function db(e,n,r=[]){const o=`Platform: ${n}`,a=new Ze(o);return(d=[])=>{let m=mA();if(!m||m.injector.get(cb,!1)){const E=[...r,...d,{provide:a,useValue:!0}];e?e(E):function HP(e){if(wh&&!wh.get(cb,!1))throw new Vt(400,!1);(function tb(){!function _e(e){kn=e}(()=>{throw new Vt(600,!1)})})(),wh=e;const n=e.get(ub);(function fb(e){const n=e.get(Up,null);null==n||n.forEach(r=>r())})(e)}(function hb(e=[],n){return cs.create({name:n,providers:[{provide:jo,useValue:"platform"},{provide:j0,useValue:new Set([()=>wh=null])},...e]})}(E,o))}return function zP(){const n=mA();if(!n)throw new Vt(401,!1);return n}()}}function mA(){var e,n;return null!==(e=null===(n=wh)||void 0===n?void 0:n.get(ub))&&void 0!==e?e:null}function WP(){return!1}let gb=(()=>{class n{}return n.__NG_ELEMENT_ID__=KP,n})();function KP(e){return function qP(e,n,r){if(va(e)&&!r){const o=Os(e.index,n);return new Vn(o,o)}return 175&e.type?new Vn(n[uo],n):null}(Oi(),Yt(),!(16&~e))}class yb{constructor(){}supports(n){return g0(n)}create(n){return new ZP(n)}}const JP=(e,n)=>n;class ZP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||JP}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const m=!o||r&&r.currentIndex<Eb(o,a,d)?r:o,E=Eb(m,a,d),b=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)a++;else{d||(d=[]);const F=E-a,K=b-a;if(F!=K){for(let Re=0;Re<F;Re++){const Be=Re<d.length?d[Re]:d[Re]=0,Ve=Be+Re;K<=Ve&&Ve<F&&(d[Re]=Be+1)}d[m.previousIndex]=K-F}}E!==b&&n(m,E,b)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!g0(n))throw new Vt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,m,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let E=0;E<this.length;E++)d=n[E],m=this._trackByFn(E,d),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,d,m,E)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,m,E),o=!0),r=r._next}else a=0,function vw(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,E=>{m=this._trackByFn(a,E),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,E,m,a)),Object.is(r.item,E)||this._addIdentityChange(r,E)):(r=this._mismatch(r,E,m,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,a)):n=this._addAfter(new eN(r,o),d,a),n}_verifyReinsertion(n,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ib),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ib),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class eN{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class Ib{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new tN,this.map.set(r,o)),o.add(n)}get(n,r){const a=this.map.get(n);return a?a.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eb(e,n,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+n+a}class Ab{constructor(){}supports(n){return n instanceof Map||vE(n)}create(){return new nN}}class nN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||vE(n)))throw new Vt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,r);const d=a._prev,m=a._next;return d&&(d._next=m),m&&(m._prev=d),a._next=null,a._prev=null,a}const o=new rN(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class rN{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cb(){return new EA([new yb])}let EA=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Cb()),deps:[[n,new ar,new oi]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new Vt(901,!1)}}return(e=n).\u0275prov=Kn({token:e,providedIn:"root",factory:Cb}),n})();function Tb(){return new AA([new Ab])}let AA=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||Tb()),deps:[[n,new ar,new oi]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new Vt(901,!1)}}return(e=n).\u0275prov=Kn({token:e,providedIn:"root",factory:Tb}),n})();const sN=db(null,"core",[]);let aN=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(Qe(Cc))},e.\u0275mod=Bo({type:e}),e.\u0275inj=it({}),n})();function VN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function BN(e,n){js("NgSignals");const r=function Rt(e){const n=Object.create(pn);n.computation=e;const r=()=>{if(xe(n),ue(n),n.value===Ht)throw n.error;return n.value};return r[ye]=n,r}(e);return null!=n&&n.equal&&(r[ye].equal=n.equal),r}function $N(e){const n=ce(null);try{return e()}finally{ce(n)}}function KN(e,n){const r=Fr(e),o=n.elementInjector||Qs();return new Ja(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function qN(e){const n=Fr(e);if(!n)return null;const r=new Ja(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},5063:(An,ft,$)=>{"use strict";$.d(ft,{Qe:()=>Fy,cM:()=>zI});var c=$(9842),f=$(177),he=$(4438),ae=$(1825),ye=$(9253),be=($(7955),$(1413)),ke=$(7673),ze=$(1985),Ie=$(8455),ue=$(6365),Ue=$(8750),xe=$(983),Oe=$(3794),st=$(941),et=$(5558),Ye=$(6354),vt=$(6129);class dt extends be.B{constructor(t=1/0,i=1/0,s=vt.U){super(),this._bufferSize=t,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,i)}next(t){const{isStopped:i,_buffer:s,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:_}=this;i||(s.push(t),!u&&s.push(p.now()+_)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:u}=this,p=u.slice();for(let _=0;_<p.length&&!t.closed;_+=s?1:2)t.next(p[_]);return this._checkFinalizedStatuses(t),i}_trimBuffer(){const{_bufferSize:t,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:u}=this,p=(u?1:2)*t;if(t<1/0&&p<s.length&&s.splice(0,s.length-p),!u){const _=i.now();let w=0;for(let P=1;P<s.length&&s[P]<=_;P+=2)w=P;w&&s.splice(0,w+1)}}}var pt=$(7707),ve=$(9974);function rt(l,t,...i){if(!0===t)return void l();if(!1===t)return;const s=new pt.Ms({next:()=>{s.unsubscribe(),l()}});return(0,Ue.Tg)(t(...i)).subscribe(s)}function ut(l,t,i){let s,u=!1;return l&&"object"==typeof l?({bufferSize:s=1/0,windowTime:t=1/0,refCount:u=!1,scheduler:i}=l):s=null!=l?l:1/0,function we(l={}){const{connector:t=()=>new be.B,resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:u=!0}=l;return p=>{let _,w,P,G=0,re=!1,Ce=!1;const Xe=()=>{null==w||w.unsubscribe(),w=void 0},Dt=()=>{Xe(),_=P=void 0,re=Ce=!1},an=()=>{const fn=_;Dt(),null==fn||fn.unsubscribe()};return(0,ve.N)((fn,ln)=>{G++,!Ce&&!re&&Xe();const Vn=P=null!=P?P:t();ln.add(()=>{G--,0===G&&!Ce&&!re&&(w=rt(an,u))}),Vn.subscribe(ln),!_&&G>0&&(_=new pt.Ms({next:or=>Vn.next(or),error:or=>{Ce=!0,Xe(),w=rt(Dt,i,or),Vn.error(or)},complete:()=>{re=!0,Xe(),w=rt(Dt,s),Vn.complete()}}),(0,Ue.Tg)(fn).subscribe(_))})(p)}}({connector:()=>new dt(s,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var Ct=$(1594),Rt=$(8071);function Se(l,t){return(0,Rt.T)(t)?(0,et.n)(()=>l,t):(0,et.n)(()=>l)}var Wt=$(6745),Ht=$(5964),pn=$(7935);const kn=new he.nKC("angularfire2.auth.use-emulator"),Pt=new he.nKC("angularfire2.auth.settings"),_e=new he.nKC("angularfire2.auth.tenant-id"),Ee=new he.nKC("angularfire2.auth.langugage-code"),X=new he.nKC("angularfire2.auth.use-device-language"),Y=new he.nKC("angularfire.auth.persistence"),De=(l,t,i,s,u,p,_,w)=>(0,ye.BM)(`${l.name}.auth`,"AngularFireAuth",l.name,()=>{const P=t.runOutsideAngular(()=>l.auth());if(i&&P.useEmulator(...i),s&&(P.tenantId=s),P.languageCode=u,p&&P.useDeviceLanguage(),_)for(const[G,re]of Object.entries(_))P.settings[G]=re;return w&&P.setPersistence(w),P},[i,s,u,p,_,w]);let qe=(()=>{var l;class t{constructor(s,u,p,_,w,P,G,re,Ce,Xe,Dt,an){(0,c.A)(this,"authState",void 0),(0,c.A)(this,"idToken",void 0),(0,c.A)(this,"user",void 0),(0,c.A)(this,"idTokenResult",void 0),(0,c.A)(this,"credential",void 0);const fn=new be.B,ln=(0,ke.of)(void 0).pipe((0,st.Q)(w.outsideAngular),(0,et.n)(()=>_.runOutsideAngular(()=>Promise.resolve().then($.bind($,7955)))),(0,Ye.T)(()=>(0,ye.iB)(s,_,u)),(0,Ye.T)(Vn=>De(Vn,_,P,re,Ce,Xe,G,Dt)),ut({bufferSize:1,refCount:!1}));if((0,f.Vy)(p))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ke.of)(null);else{ln.pipe((0,Ct.$)()).subscribe();const Vn=ln.pipe((0,et.n)(nr=>nr.getRedirectResult().then(Jr=>Jr,()=>null)),ae.U0,ut({bufferSize:1,refCount:!1})),or=ln.pipe((0,et.n)(nr=>new ze.c(Jr=>({unsubscribe:_.runOutsideAngular(()=>nr.onAuthStateChanged(_r=>Jr.next(_r),_r=>Jr.error(_r),()=>Jr.complete()))})))),cr=ln.pipe((0,et.n)(nr=>new ze.c(Jr=>({unsubscribe:_.runOutsideAngular(()=>nr.onIdTokenChanged(_r=>Jr.next(_r),_r=>Jr.error(_r),()=>Jr.complete()))}))));this.authState=Vn.pipe(Se(or),(0,Wt._)(w.outsideAngular),(0,st.Q)(w.insideAngular)),this.user=Vn.pipe(Se(cr),(0,Wt._)(w.outsideAngular),(0,st.Q)(w.insideAngular)),this.idToken=this.user.pipe((0,et.n)(nr=>nr?(0,Ie.H)(nr.getIdToken()):(0,ke.of)(null))),this.idTokenResult=this.user.pipe((0,et.n)(nr=>nr?(0,Ie.H)(nr.getIdTokenResult()):(0,ke.of)(null))),this.credential=function lt(...l){const t=(0,Oe.lI)(l),i=(0,Oe.R0)(l,1/0),s=l;return s.length?1===s.length?(0,Ue.Tg)(s[0]):(0,ue.U)(i)((0,Ie.H)(s,t)):xe.w}(Vn,fn,this.authState.pipe((0,Ht.p)(nr=>!nr))).pipe((0,Ye.T)(nr=>null!=nr&&nr.user?nr:null),(0,Wt._)(w.outsideAngular),(0,st.Q)(w.insideAngular))}return(0,ye.Gt)(this,ln,_,{spy:{apply:(Vn,or,cr)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&cr.then(nr=>fn.next(nr))}}})}}return l=t,(0,c.A)(t,"\u0275fac",function(s){return new(s||l)(he.KVO(ye.rx),he.KVO(ye.uP,8),he.KVO(he.Agw),he.KVO(he.SKi),he.KVO(ae.u0),he.KVO(kn,8),he.KVO(Pt,8),he.KVO(_e,8),he.KVO(Ee,8),he.KVO(X,8),he.KVO(Y,8),he.KVO(ae.Jv,8))}),(0,c.A)(t,"\u0275prov",he.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),t})();var ot=$(3236),$t=$(9172),Ln=$(4360);function dn(){return(0,ve.N)((l,t)=>{let i,s=!1;l.subscribe((0,Ln._)(t,u=>{const p=i;i=u,s&&t.next([p,u]),s=!0}))})}var Ot,En,_n=$(2816),zn=$(3294),Bt=$(3345),St=$(467),Qn=$(7852),sr=$(1362),Xn=$(8041),Tn=$(1076),Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nt={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(mt,He,at){at||(at=0);var Et=Array(16);if("string"==typeof He)for(var Tt=0;16>Tt;++Tt)Et[Tt]=He.charCodeAt(at++)|He.charCodeAt(at++)<<8|He.charCodeAt(at++)<<16|He.charCodeAt(at++)<<24;else for(Tt=0;16>Tt;++Tt)Et[Tt]=He[at++]|He[at++]<<8|He[at++]<<16|He[at++]<<24;var Lt=mt.g[3],nt=(He=mt.g[0])+(Lt^(at=mt.g[1])&((Tt=mt.g[2])^Lt))+Et[0]+3614090360&4294967295;nt=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=(at=(Tt=(Lt=(He=at+(nt<<7&4294967295|nt>>>25))+((nt=Lt+(Tt^He&(at^Tt))+Et[1]+3905402710&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(at^Lt&(He^at))+Et[2]+606105819&4294967295)<<17&4294967295|nt>>>15))+((nt=at+(He^Tt&(Lt^He))+Et[3]+3250441966&4294967295)<<22&4294967295|nt>>>10))+((nt=He+(Lt^at&(Tt^Lt))+Et[4]+4118548399&4294967295)<<7&4294967295|nt>>>25))+((nt=Lt+(Tt^He&(at^Tt))+Et[5]+1200080426&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(at^Lt&(He^at))+Et[6]+2821735955&4294967295)<<17&4294967295|nt>>>15))+((nt=at+(He^Tt&(Lt^He))+Et[7]+4249261313&4294967295)<<22&4294967295|nt>>>10))+((nt=He+(Lt^at&(Tt^Lt))+Et[8]+1770035416&4294967295)<<7&4294967295|nt>>>25))+((nt=Lt+(Tt^He&(at^Tt))+Et[9]+2336552879&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(at^Lt&(He^at))+Et[10]+4294925233&4294967295)<<17&4294967295|nt>>>15))+((nt=at+(He^Tt&(Lt^He))+Et[11]+2304563134&4294967295)<<22&4294967295|nt>>>10))+((nt=He+(Lt^at&(Tt^Lt))+Et[12]+1804603682&4294967295)<<7&4294967295|nt>>>25))+((nt=Lt+(Tt^He&(at^Tt))+Et[13]+4254626195&4294967295)<<12&4294967295|nt>>>20))+((nt=Tt+(at^Lt&(He^at))+Et[14]+2792965006&4294967295)<<17&4294967295|nt>>>15))+((nt=at+(He^Tt&(Lt^He))+Et[15]+1236535329&4294967295)<<22&4294967295|nt>>>10))+((nt=He+(Tt^Lt&(at^Tt))+Et[1]+4129170786&4294967295)<<5&4294967295|nt>>>27))+((nt=Lt+(at^Tt&(He^at))+Et[6]+3225465664&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+(He^at&(Lt^He))+Et[11]+643717713&4294967295)<<14&4294967295|nt>>>18))+((nt=at+(Lt^He&(Tt^Lt))+Et[0]+3921069994&4294967295)<<20&4294967295|nt>>>12))+((nt=He+(Tt^Lt&(at^Tt))+Et[5]+3593408605&4294967295)<<5&4294967295|nt>>>27))+((nt=Lt+(at^Tt&(He^at))+Et[10]+38016083&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+(He^at&(Lt^He))+Et[15]+3634488961&4294967295)<<14&4294967295|nt>>>18))+((nt=at+(Lt^He&(Tt^Lt))+Et[4]+3889429448&4294967295)<<20&4294967295|nt>>>12))+((nt=He+(Tt^Lt&(at^Tt))+Et[9]+568446438&4294967295)<<5&4294967295|nt>>>27))+((nt=Lt+(at^Tt&(He^at))+Et[14]+3275163606&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+(He^at&(Lt^He))+Et[3]+4107603335&4294967295)<<14&4294967295|nt>>>18))+((nt=at+(Lt^He&(Tt^Lt))+Et[8]+1163531501&4294967295)<<20&4294967295|nt>>>12))+((nt=He+(Tt^Lt&(at^Tt))+Et[13]+2850285829&4294967295)<<5&4294967295|nt>>>27))+((nt=Lt+(at^Tt&(He^at))+Et[2]+4243563512&4294967295)<<9&4294967295|nt>>>23))+((nt=Tt+(He^at&(Lt^He))+Et[7]+1735328473&4294967295)<<14&4294967295|nt>>>18))+((nt=at+(Lt^He&(Tt^Lt))+Et[12]+2368359562&4294967295)<<20&4294967295|nt>>>12))+((nt=He+(at^Tt^Lt)+Et[5]+4294588738&4294967295)<<4&4294967295|nt>>>28))+((nt=Lt+(He^at^Tt)+Et[8]+2272392833&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Lt^He^at)+Et[11]+1839030562&4294967295)<<16&4294967295|nt>>>16))+((nt=at+(Tt^Lt^He)+Et[14]+4259657740&4294967295)<<23&4294967295|nt>>>9))+((nt=He+(at^Tt^Lt)+Et[1]+2763975236&4294967295)<<4&4294967295|nt>>>28))+((nt=Lt+(He^at^Tt)+Et[4]+1272893353&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Lt^He^at)+Et[7]+4139469664&4294967295)<<16&4294967295|nt>>>16))+((nt=at+(Tt^Lt^He)+Et[10]+3200236656&4294967295)<<23&4294967295|nt>>>9))+((nt=He+(at^Tt^Lt)+Et[13]+681279174&4294967295)<<4&4294967295|nt>>>28))+((nt=Lt+(He^at^Tt)+Et[0]+3936430074&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Lt^He^at)+Et[3]+3572445317&4294967295)<<16&4294967295|nt>>>16))+((nt=at+(Tt^Lt^He)+Et[6]+76029189&4294967295)<<23&4294967295|nt>>>9))+((nt=He+(at^Tt^Lt)+Et[9]+3654602809&4294967295)<<4&4294967295|nt>>>28))+((nt=Lt+(He^at^Tt)+Et[12]+3873151461&4294967295)<<11&4294967295|nt>>>21))+((nt=Tt+(Lt^He^at)+Et[15]+530742520&4294967295)<<16&4294967295|nt>>>16))+((nt=at+(Tt^Lt^He)+Et[2]+3299628645&4294967295)<<23&4294967295|nt>>>9))+((nt=He+(Tt^(at|~Lt))+Et[0]+4096336452&4294967295)<<6&4294967295|nt>>>26))+((nt=Lt+(at^(He|~Tt))+Et[7]+1126891415&4294967295)<<10&4294967295|nt>>>22))+((nt=Tt+(He^(Lt|~at))+Et[14]+2878612391&4294967295)<<15&4294967295|nt>>>17))+((nt=at+(Lt^(Tt|~He))+Et[5]+4237533241&4294967295)<<21&4294967295|nt>>>11))+((nt=He+(Tt^(at|~Lt))+Et[12]+1700485571&4294967295)<<6&4294967295|nt>>>26))+((nt=Lt+(at^(He|~Tt))+Et[3]+2399980690&4294967295)<<10&4294967295|nt>>>22))+((nt=Tt+(He^(Lt|~at))+Et[10]+4293915773&4294967295)<<15&4294967295|nt>>>17))+((nt=at+(Lt^(Tt|~He))+Et[1]+2240044497&4294967295)<<21&4294967295|nt>>>11))+((nt=He+(Tt^(at|~Lt))+Et[8]+1873313359&4294967295)<<6&4294967295|nt>>>26))+((nt=Lt+(at^(He|~Tt))+Et[15]+4264355552&4294967295)<<10&4294967295|nt>>>22))+((nt=Tt+(He^(Lt|~at))+Et[6]+2734768916&4294967295)<<15&4294967295|nt>>>17))+((nt=at+(Lt^(Tt|~He))+Et[13]+1309151649&4294967295)<<21&4294967295|nt>>>11))+((Lt=(He=at+((nt=He+(Tt^(at|~Lt))+Et[4]+4149444226&4294967295)<<6&4294967295|nt>>>26))+((nt=Lt+(at^(He|~Tt))+Et[11]+3174756917&4294967295)<<10&4294967295|nt>>>22))^((Tt=Lt+((nt=Tt+(He^(Lt|~at))+Et[2]+718787259&4294967295)<<15&4294967295|nt>>>17))|~He))+Et[9]+3951481745&4294967295,mt.g[0]=mt.g[0]+He&4294967295,mt.g[1]=mt.g[1]+(Tt+(nt<<21&4294967295|nt>>>11))&4294967295,mt.g[2]=mt.g[2]+Tt&4294967295,mt.g[3]=mt.g[3]+Lt&4294967295}function _(mt,He){this.h=He;for(var at=[],Et=!0,Tt=mt.length-1;0<=Tt;Tt--){var Lt=0|mt[Tt];Et&&Lt==He||(at[Tt]=Lt,Et=!1)}this.g=at}(function t(mt,He){function at(){}at.prototype=He.prototype,mt.D=He.prototype,mt.prototype=new at,mt.prototype.constructor=mt,mt.C=function(Et,Tt,Lt){for(var nt=Array(arguments.length-2),wu=2;wu<arguments.length;wu++)nt[wu-2]=arguments[wu];return He.prototype[Tt].apply(Et,nt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(mt,He){void 0===He&&(He=mt.length);for(var at=He-this.blockSize,Et=this.B,Tt=this.h,Lt=0;Lt<He;){if(0==Tt)for(;Lt<=at;)u(this,mt,Lt),Lt+=this.blockSize;if("string"==typeof mt){for(;Lt<He;)if(Et[Tt++]=mt.charCodeAt(Lt++),Tt==this.blockSize){u(this,Et),Tt=0;break}}else for(;Lt<He;)if(Et[Tt++]=mt[Lt++],Tt==this.blockSize){u(this,Et),Tt=0;break}}this.h=Tt,this.o+=He},s.prototype.v=function(){var mt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);mt[0]=128;for(var He=1;He<mt.length-8;++He)mt[He]=0;var at=8*this.o;for(He=mt.length-8;He<mt.length;++He)mt[He]=255&at,at/=256;for(this.u(mt),mt=Array(16),He=at=0;4>He;++He)for(var Et=0;32>Et;Et+=8)mt[at++]=this.g[He]>>>Et&255;return mt};var w={};function P(mt){return-128<=mt&&128>mt?function p(mt,He){var at=w;return Object.prototype.hasOwnProperty.call(at,mt)?at[mt]:at[mt]=He(mt)}(mt,function(He){return new _([0|He],0>He?-1:0)}):new _([0|mt],0>mt?-1:0)}function G(mt){if(isNaN(mt)||!isFinite(mt))return Ce;if(0>mt)return ln(G(-mt));for(var He=[],at=1,Et=0;mt>=at;Et++)He[Et]=mt/at|0,at*=4294967296;return new _(He,0)}var Ce=P(0),Xe=P(1),Dt=P(16777216);function an(mt){if(0!=mt.h)return!1;for(var He=0;He<mt.g.length;He++)if(0!=mt.g[He])return!1;return!0}function fn(mt){return-1==mt.h}function ln(mt){for(var He=mt.g.length,at=[],Et=0;Et<He;Et++)at[Et]=~mt.g[Et];return new _(at,~mt.h).add(Xe)}function Vn(mt,He){return mt.add(ln(He))}function or(mt,He){for(;(65535&mt[He])!=mt[He];)mt[He+1]+=mt[He]>>>16,mt[He]&=65535,He++}function cr(mt,He){this.g=mt,this.h=He}function nr(mt,He){if(an(He))throw Error("division by zero");if(an(mt))return new cr(Ce,Ce);if(fn(mt))return He=nr(ln(mt),He),new cr(ln(He.g),ln(He.h));if(fn(He))return He=nr(mt,ln(He)),new cr(ln(He.g),He.h);if(30<mt.g.length){if(fn(mt)||fn(He))throw Error("slowDivide_ only works with positive integers.");for(var at=Xe,Et=He;0>=Et.l(mt);)at=Jr(at),Et=Jr(Et);var Tt=_r(at,1),Lt=_r(Et,1);for(Et=_r(Et,2),at=_r(at,2);!an(Et);){var nt=Lt.add(Et);0>=nt.l(mt)&&(Tt=Tt.add(at),Lt=nt),Et=_r(Et,1),at=_r(at,1)}return He=Vn(mt,Tt.j(He)),new cr(Tt,He)}for(Tt=Ce;0<=mt.l(He);){for(at=Math.max(1,Math.floor(mt.m()/He.m())),Et=48>=(Et=Math.ceil(Math.log(at)/Math.LN2))?1:Math.pow(2,Et-48),nt=(Lt=G(at)).j(He);fn(nt)||0<nt.l(mt);)nt=(Lt=G(at-=Et)).j(He);an(Lt)&&(Lt=Xe),Tt=Tt.add(Lt),mt=Vn(mt,nt)}return new cr(Tt,mt)}function Jr(mt){for(var He=mt.g.length+1,at=[],Et=0;Et<He;Et++)at[Et]=mt.i(Et)<<1|mt.i(Et-1)>>>31;return new _(at,mt.h)}function _r(mt,He){var at=He>>5;He%=32;for(var Et=mt.g.length-at,Tt=[],Lt=0;Lt<Et;Lt++)Tt[Lt]=0<He?mt.i(Lt+at)>>>He|mt.i(Lt+at+1)<<32-He:mt.i(Lt+at);return new _(Tt,mt.h)}(l=_.prototype).m=function(){if(fn(this))return-ln(this).m();for(var mt=0,He=1,at=0;at<this.g.length;at++){var Et=this.i(at);mt+=(0<=Et?Et:4294967296+Et)*He,He*=4294967296}return mt},l.toString=function(mt){if(2>(mt=mt||10)||36<mt)throw Error("radix out of range: "+mt);if(an(this))return"0";if(fn(this))return"-"+ln(this).toString(mt);for(var He=G(Math.pow(mt,6)),at=this,Et="";;){var Tt=nr(at,He).g,Lt=((0<(at=Vn(at,Tt.j(He))).g.length?at.g[0]:at.h)>>>0).toString(mt);if(an(at=Tt))return Lt+Et;for(;6>Lt.length;)Lt="0"+Lt;Et=Lt+Et}},l.i=function(mt){return 0>mt?0:mt<this.g.length?this.g[mt]:this.h},l.l=function(mt){return fn(mt=Vn(this,mt))?-1:an(mt)?0:1},l.abs=function(){return fn(this)?ln(this):this},l.add=function(mt){for(var He=Math.max(this.g.length,mt.g.length),at=[],Et=0,Tt=0;Tt<=He;Tt++){var Lt=Et+(65535&this.i(Tt))+(65535&mt.i(Tt)),nt=(Lt>>>16)+(this.i(Tt)>>>16)+(mt.i(Tt)>>>16);Et=nt>>>16,at[Tt]=(nt&=65535)<<16|(Lt&=65535)}return new _(at,-2147483648&at[at.length-1]?-1:0)},l.j=function(mt){if(an(this)||an(mt))return Ce;if(fn(this))return fn(mt)?ln(this).j(ln(mt)):ln(ln(this).j(mt));if(fn(mt))return ln(this.j(ln(mt)));if(0>this.l(Dt)&&0>mt.l(Dt))return G(this.m()*mt.m());for(var He=this.g.length+mt.g.length,at=[],Et=0;Et<2*He;Et++)at[Et]=0;for(Et=0;Et<this.g.length;Et++)for(var Tt=0;Tt<mt.g.length;Tt++){var Lt=this.i(Et)>>>16,nt=65535&this.i(Et),wu=mt.i(Tt)>>>16,Ig=65535&mt.i(Tt);at[2*Et+2*Tt]+=nt*Ig,or(at,2*Et+2*Tt),at[2*Et+2*Tt+1]+=Lt*Ig,or(at,2*Et+2*Tt+1),at[2*Et+2*Tt+1]+=nt*wu,or(at,2*Et+2*Tt+1),at[2*Et+2*Tt+2]+=Lt*wu,or(at,2*Et+2*Tt+2)}for(Et=0;Et<He;Et++)at[Et]=at[2*Et+1]<<16|at[2*Et];for(Et=He;Et<2*He;Et++)at[Et]=0;return new _(at,0)},l.A=function(mt){return nr(this,mt).h},l.and=function(mt){for(var He=Math.max(this.g.length,mt.g.length),at=[],Et=0;Et<He;Et++)at[Et]=this.i(Et)&mt.i(Et);return new _(at,this.h&mt.h)},l.or=function(mt){for(var He=Math.max(this.g.length,mt.g.length),at=[],Et=0;Et<He;Et++)at[Et]=this.i(Et)|mt.i(Et);return new _(at,this.h|mt.h)},l.xor=function(mt){for(var He=Math.max(this.g.length,mt.g.length),at=[],Et=0;Et<He;Et++)at[Et]=this.i(Et)^mt.i(Et);return new _(at,this.h^mt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,En=Nt.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=G,_.fromString=function re(mt,He){if(0==mt.length)throw Error("number format error: empty string");if(2>(He=He||10)||36<He)throw Error("radix out of range: "+He);if("-"==mt.charAt(0))return ln(re(mt.substring(1),He));if(0<=mt.indexOf("-"))throw Error('number format error: interior "-" character');for(var at=G(Math.pow(He,8)),Et=Ce,Tt=0;Tt<mt.length;Tt+=8){var Lt=Math.min(8,mt.length-Tt),nt=parseInt(mt.substring(Tt,Tt+Lt),He);8>Lt?(Lt=G(Math.pow(He,Lt)),Et=Et.j(Lt).add(G(nt))):Et=(Et=Et.j(at)).add(G(nt))}return Et},Ot=Nt.Integer=_}).apply(typeof Zt<"u"?Zt:typeof self<"u"?self:typeof window<"u"?window:{});var mr,$n,$r,Or,dr,hr,jr,di,Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr={};(function(){var l,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,k,q){return v==Array.prototype||v==Object.prototype||(v[k]=q.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vt&&Vt];for(var k=0;k<v.length;++k){var q=v[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function u(v,k){if(k)e:{var q=s;v=v.split(".");for(var ge=0;ge<v.length-1;ge++){var wt=v[ge];if(!(wt in q))break e;q=q[wt]}(k=k(ge=q[v=v[v.length-1]]))!=ge&&null!=k&&t(q,v,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(v){return v||function(){return function p(v,k){v instanceof String&&(v+="");var q=0,ge=!1,wt={next:function(){if(!ge&&q<v.length){var Jt=q++;return{value:k(Jt,v[Jt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return wt[Symbol.iterator]=function(){return wt},wt}(this,function(k,q){return q})}});var _=_||{},w=this||self;function P(v){var k=typeof v;return"array"==(k="object"!=k?k:v?Array.isArray(v)?"array":k:"null")||"object"==k&&"number"==typeof v.length}function G(v){var k=typeof v;return"object"==k&&null!=v||"function"==k}function re(v,k,q){return v.call.apply(v.bind,arguments)}function Ce(v,k,q){if(!v)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wt,ge),v.apply(k,wt)}}return function(){return v.apply(k,arguments)}}function Xe(v,k,q){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:Ce).apply(null,arguments)}function Dt(v,k){var q=Array.prototype.slice.call(arguments,1);return function(){var ge=q.slice();return ge.push.apply(ge,arguments),v.apply(this,ge)}}function an(v,k){function q(){}q.prototype=k.prototype,v.aa=k.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(ge,wt,Jt){for(var Bn=Array(arguments.length-2),io=2;io<arguments.length;io++)Bn[io-2]=arguments[io];return k.prototype[wt].apply(ge,Bn)}}function fn(v){const k=v.length;if(0<k){const q=Array(k);for(let ge=0;ge<k;ge++)q[ge]=v[ge];return q}return[]}function ln(v,k){for(let q=1;q<arguments.length;q++){const ge=arguments[q];if(P(ge)){const wt=v.length||0,Jt=ge.length||0;v.length=wt+Jt;for(let Bn=0;Bn<Jt;Bn++)v[wt+Bn]=ge[Bn]}else v.push(ge)}}function or(v){return/^[\s\xa0]*$/.test(v)}function cr(){var v=w.navigator;return v&&(v=v.userAgent)?v:""}function nr(v){return nr[" "](v),v}nr[" "]=function(){};var Jr=!(-1==cr().indexOf("Gecko")||-1!=cr().toLowerCase().indexOf("webkit")&&-1==cr().indexOf("Edge")||-1!=cr().indexOf("Trident")||-1!=cr().indexOf("MSIE")||-1!=cr().indexOf("Edge"));function _r(v,k,q){for(const ge in v)k.call(q,v[ge],ge,v)}function He(v){const k={};for(const q in v)k[q]=v[q];return k}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(v,k){let q,ge;for(let wt=1;wt<arguments.length;wt++){for(q in ge=arguments[wt],ge)v[q]=ge[q];for(let Jt=0;Jt<at.length;Jt++)q=at[Jt],Object.prototype.hasOwnProperty.call(ge,q)&&(v[q]=ge[q])}}function Tt(v){var k=1;v=v.split(":");const q=[];for(;0<k&&v.length;)q.push(v.shift()),k--;return v.length&&q.push(v.join(":")),q}function Lt(v){w.setTimeout(()=>{throw v},0)}function nt(){var v=Mf;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}var Ig=new class Vn{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new GI,v=>v.reset());class GI{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Sf,Rf=!1,Mf=new class wu{constructor(){this.h=this.g=null}add(k,q){const ge=Ig.get();ge.set(k,q),this.h?this.h.next=ge:this.g=ge,this.h=ge}},dh=()=>{const v=w.Promise.resolve(void 0);Sf=()=>{v.then(Ev)}};var Ev=()=>{for(var v;v=nt();){try{v.h.call(v.g)}catch(q){Lt(q)}var k=Ig;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}Rf=!1};function El(){this.s=this.s,this.C=this.C}function Cs(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}El.prototype.s=!1,El.prototype.ma=function(){this.s||(this.s=!0,this.N())},El.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Cs.prototype.h=function(){this.defaultPrevented=!0};var Pf=function(){if(!w.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};w.addEventListener("test",q,k),w.removeEventListener("test",q,k)}catch{}return v}();function hh(v,k){if(Cs.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,ge=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(Jr){e:{try{nr(k.nodeName);var wt=!0;break e}catch{}wt=!1}wt||(k=null)}}else"mouseover"==q?k=v.fromElement:"mouseout"==q&&(k=v.toElement);this.relatedTarget=k,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:WI[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&hh.aa.h.call(this)}}an(hh,Cs);var WI={2:"touch",3:"pen",4:"mouse"};hh.prototype.h=function(){hh.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),Ly=0;function Vy(v,k,q,ge,wt){this.listener=v,this.proxy=null,this.src=k,this.type=q,this.capture=!!ge,this.ha=wt,this.key=++Ly,this.da=this.fa=!1}function Nf(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function xf(v){this.src=v,this.g={},this.h=0}function Av(v,k){var q=k.type;if(q in v.g){var Jt,ge=v.g[q],wt=Array.prototype.indexOf.call(ge,k,void 0);(Jt=0<=wt)&&Array.prototype.splice.call(ge,wt,1),Jt&&(Nf(k),0==v.g[q].length&&(delete v.g[q],v.h--))}}function Cv(v,k,q,ge){for(var wt=0;wt<v.length;++wt){var Jt=v[wt];if(!Jt.da&&Jt.listener==k&&Jt.capture==!!q&&Jt.ha==ge)return wt}return-1}xf.prototype.add=function(v,k,q,ge,wt){var Jt=v.toString();(v=this.g[Jt])||(v=this.g[Jt]=[],this.h++);var Bn=Cv(v,k,ge,wt);return-1<Bn?(k=v[Bn],q||(k.fa=!1)):((k=new Vy(k,this.src,Jt,!!ge,wt)).fa=q,v.push(k)),k};var Tv="closure_lm_"+(1e6*Math.random()|0),vd={};function Uy(v,k,q,ge,wt){if(ge&&ge.once)return Of(v,k,q,ge,wt);if(Array.isArray(k)){for(var Jt=0;Jt<k.length;Jt++)Uy(v,k[Jt],q,ge,wt);return null}return q=fh(q),v&&v[Su]?v.K(k,q,G(ge)?!!ge.capture:!!ge,wt):By(v,k,q,!1,ge,wt)}function By(v,k,q,ge,wt,Jt){if(!k)throw Error("Invalid event type");var Bn=G(wt)?!!wt.capture:!!wt,io=Ag(v);if(io||(v[Tv]=io=new xf(v)),(q=io.add(k,q,ge,Bn,Jt)).proxy)return q;if(ge=function KI(){const k=qI;return function v(q){return k.call(v.src,v.listener,q)}}(),q.proxy=ge,ge.src=v,ge.listener=q,v.addEventListener)Pf||(wt=Bn),void 0===wt&&(wt=!1),v.addEventListener(k.toString(),ge,wt);else if(v.attachEvent)v.attachEvent(bv(k.toString()),ge);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(ge)}return q}function Of(v,k,q,ge,wt){if(Array.isArray(k)){for(var Jt=0;Jt<k.length;Jt++)Of(v,k[Jt],q,ge,wt);return null}return q=fh(q),v&&v[Su]?v.L(k,q,G(ge)?!!ge.capture:!!ge,wt):By(v,k,q,!0,ge,wt)}function Dv(v,k,q,ge,wt){if(Array.isArray(k))for(var Jt=0;Jt<k.length;Jt++)Dv(v,k[Jt],q,ge,wt);else ge=G(ge)?!!ge.capture:!!ge,q=fh(q),v&&v[Su]?(v=v.i,(k=String(k).toString())in v.g&&-1<(q=Cv(Jt=v.g[k],q,ge,wt))&&(Nf(Jt[q]),Array.prototype.splice.call(Jt,q,1),0==Jt.length&&(delete v.g[k],v.h--))):v&&(v=Ag(v))&&(k=v.g[k.toString()],v=-1,k&&(v=Cv(k,q,ge,wt)),(q=-1<v?k[v]:null)&&Eg(q))}function Eg(v){if("number"!=typeof v&&v&&!v.da){var k=v.src;if(k&&k[Su])Av(k.i,v);else{var q=v.type,ge=v.proxy;k.removeEventListener?k.removeEventListener(q,ge,v.capture):k.detachEvent?k.detachEvent(bv(q),ge):k.addListener&&k.removeListener&&k.removeListener(ge),(q=Ag(k))?(Av(q,v),0==q.h&&(q.src=null,k[Tv]=null)):Nf(v)}}}function bv(v){return v in vd?vd[v]:vd[v]="on"+v}function qI(v,k){if(v.da)v=!0;else{k=new hh(k,this);var q=v.listener,ge=v.ha||v.src;v.fa&&Eg(v),v=q.call(ge,k)}return v}function Ag(v){return(v=v[Tv])instanceof xf?v:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function fh(v){return"function"==typeof v?v:(v[kf]||(v[kf]=function(k){return v.handleEvent(k)}),v[kf])}function $s(){El.call(this),this.i=new xf(this),this.M=this,this.F=null}function sa(v,k){var q,ge=v.F;if(ge)for(q=[];ge;ge=ge.F)q.push(ge);if(v=v.M,ge=k.type||k,"string"==typeof k)k=new Cs(k,v);else if(k instanceof Cs)k.target=k.target||v;else{var wt=k;Et(k=new Cs(ge,v),wt)}if(wt=!0,q)for(var Jt=q.length-1;0<=Jt;Jt--){var Bn=k.g=q[Jt];wt=Cg(Bn,ge,!0,k)&&wt}if(wt=Cg(Bn=k.g=v,ge,!0,k)&&wt,wt=Cg(Bn,ge,!1,k)&&wt,q)for(Jt=0;Jt<q.length;Jt++)wt=Cg(Bn=k.g=q[Jt],ge,!1,k)&&wt}function Cg(v,k,q,ge){if(!(k=v.i.g[String(k)]))return!0;k=k.concat();for(var wt=!0,Jt=0;Jt<k.length;++Jt){var Bn=k[Jt];if(Bn&&!Bn.da&&Bn.capture==q){var io=Bn.listener,hs=Bn.ha||Bn.src;Bn.fa&&Av(v.i,Bn),wt=!1!==io.call(hs,ge)&&wt}}return wt&&!ge.defaultPrevented}function $y(v,k,q){if("function"==typeof v)q&&(v=Xe(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Xe(v.handleEvent,v)}return 2147483647<Number(k)?-1:w.setTimeout(v,k||0)}function jy(v){v.g=$y(()=>{v.g=null,v.i&&(v.i=!1,jy(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}an($s,El),$s.prototype[Su]=!0,$s.prototype.removeEventListener=function(v,k,q,ge){Dv(this,v,k,q,ge)},$s.prototype.N=function(){if($s.aa.N.call(this),this.i){var k,v=this.i;for(k in v.g){for(var q=v.g[k],ge=0;ge<q.length;ge++)Nf(q[ge]);delete v.g[k],v.h--}}this.F=null},$s.prototype.K=function(v,k,q,ge){return this.i.add(String(v),k,!1,q,ge)},$s.prototype.L=function(v,k,q,ge){return this.i.add(String(v),k,!0,q,ge)};class XI extends El{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:jy(this)}N(){super.N(),this.g&&(w.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _d(v){El.call(this),this.h=v,this.g={}}an(_d,El);var ph=[];function wv(v){_r(v.g,function(k,q){this.g.hasOwnProperty(q)&&Eg(k)},v),v.g={}}_d.prototype.N=function(){_d.aa.N.call(this),wv(this)},_d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tg=w.JSON.stringify,QI=w.JSON.parse,Ff=class{stringify(v){return w.JSON.stringify(v,void 0)}parse(v){return w.JSON.parse(v,void 0)}};function gh(){}function Hy(){}gh.prototype.h=null;var mh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lf(){Cs.call(this,"d")}function Sv(){Cs.call(this,"c")}an(Lf,Cs),an(Sv,Cs);var dc={},zy=null;function Vf(){return zy=zy||new $s}function Rv(v){Cs.call(this,dc.La,v)}function vh(v){const k=Vf();sa(k,new Rv(k))}function Dg(v,k){Cs.call(this,dc.STAT_EVENT,v),this.stat=k}function aa(v){const k=Vf();sa(k,new Dg(k,v))}function Gy(v,k){Cs.call(this,dc.Ma,v),this.size=k}function Uf(v,k){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return w.setTimeout(function(){v()},k)}function Bf(){this.g=!0}function hc(v,k,q,ge){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+function tE(v,k){if(!v.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var ge=q[v];if(!(2>ge.length)){var wt=ge[1];if(Array.isArray(wt)&&!(1>wt.length)){var Jt=wt[0];if("noop"!=Jt&&"stop"!=Jt&&"close"!=Jt)for(var Bn=1;Bn<wt.length;Bn++)wt[Bn]=""}}}return Tg(q)}catch{return k}}(v,q)+(ge?" "+ge:"")})}dc.La="serverreachability",an(Rv,Cs),dc.STAT_EVENT="statevent",an(Dg,Cs),dc.Ma="timingevent",an(Gy,Cs),Bf.prototype.xa=function(){this.g=!1},Bf.prototype.info=function(){};var yd,bg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function _h(){}function Xl(v,k,q,ge){this.j=v,this.i=k,this.l=q,this.R=ge||1,this.U=new _d(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wy}function Wy(){this.i=null,this.g="",this.h=!1}an(_h,gh),_h.prototype.g=function(){return new XMLHttpRequest},_h.prototype.i=function(){return{}},yd=new _h;var Id={},wg={};function Mv(v,k,q){v.L=1,v.v=Pg(mc(k)),v.m=q,v.P=!0,Ky(v,null)}function Ky(v,k){v.F=Date.now(),Sg(v),v.A=mc(v.v);var q=v.A,ge=v.R;Array.isArray(ge)||(ge=[String(ge)]),lE(q.i,"t",ge),v.C=0,q=v.j.J,v.h=new Wy,v.g=d0(v.j,q?k:null,!v.m),0<v.O&&(v.M=new XI(Xe(v.Y,v,v.g),v.O)),k=v.U,q=v.g,ge=v.ca;var wt="readystatechange";Array.isArray(wt)||(wt&&(ph[0]=wt.toString()),wt=ph);for(var Jt=0;Jt<wt.length;Jt++){var Bn=Uy(q,wt[Jt],ge||k.handleEvent,!1,k.h||k);if(!Bn)break;k.g[Bn.key]=Bn}k=v.H?He(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),vh(),function JI(v,k,q,ge,wt,Jt){v.info(function(){if(v.g)if(Jt)for(var Bn="",io=Jt.split("&"),hs=0;hs<io.length;hs++){var Ui=io[hs].split("=");if(1<Ui.length){var la=Ui[0];Ui=Ui[1];var ua=la.split("_");Bn=2<=ua.length&&"type"==ua[1]?Bn+(la+"=")+Ui+"&":Bn+(la+"=redacted&")}}else Bn=null;else Bn=Jt;return"XMLHTTP REQ ("+ge+") [attempt "+wt+"]: "+k+"\n"+q+"\n"+Bn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function qy(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function nE(v,k){var q=v.C,ge=k.indexOf("\n",q);return-1==ge?wg:(q=Number(k.substring(q,ge)),isNaN(q)?Id:(ge+=1)+q>k.length?wg:(k=k.slice(ge,ge+q),v.C=ge+q,k))}function Sg(v){v.S=Date.now()+v.I,Pv(v,v.I)}function Pv(v,k){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Uf(Xe(v.ba,v),k)}function Nv(v){v.B&&(w.clearTimeout(v.B),v.B=null)}function yh(v){0==v.j.G||v.J||zv(v.j,v)}function Ql(v){Nv(v);var k=v.M;k&&"function"==typeof k.ma&&k.ma(),v.M=null,wv(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function xv(v,k){try{var q=v.j;if(0!=q.G&&(q.g==v||Ru(q.h,v)))if(!v.K&&Ru(q.h,v)&&3==q.G){try{var ge=q.Da.g.parse(k)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var wt=ge;if(0==wt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;Th(q),Ch(q)}Hv(q),aa(18)}}else q.za=wt[1],0<q.za-q.T&&37500>wt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Uf(Xe(q.Za,q),6e3));if(1>=Qy(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else yc(q,11)}else if((v.K||q.g==v)&&Th(q),!or(k))for(wt=q.Da.g.parse(k),k=0;k<wt.length;k++){let Ui=wt[k];if(q.T=Ui[0],Ui=Ui[1],2==q.G)if("c"==Ui[0]){q.K=Ui[1],q.ia=Ui[2];const la=Ui[3];null!=la&&(q.la=la,q.j.info("VER="+q.la));const ua=Ui[4];null!=ua&&(q.Aa=ua,q.j.info("SVER="+q.Aa));const Jf=Ui[5];null!=Jf&&"number"==typeof Jf&&0<Jf&&(q.L=ge=1.5*Jf,q.j.info("backChannelRequestTimeoutMs_="+ge)),ge=q;const Yl=v.g;if(Yl){const qv=Yl.g?Yl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qv){var Jt=ge.h;Jt.g||-1==qv.indexOf("spdy")&&-1==qv.indexOf("quic")&&-1==qv.indexOf("h2")||(Jt.j=Jt.l,Jt.g=new Set,Jt.h&&(pc(Jt,Jt.h),Jt.h=null))}if(ge.D){const h0=Yl.g?Yl.g.getResponseHeader("X-HTTP-Session-Id"):null;h0&&(ge.ya=h0,Eo(ge.I,ge.D,h0))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Bn=v;if((ge=q).qa=Wv(ge,ge.J?ge.ia:null,ge.W),Bn.K){Ih(ge.h,Bn);var io=Bn,hs=ge.L;hs&&(io.I=hs),io.B&&(Nv(io),Sg(io)),ge.g=Bn}else u0(ge);0<q.i.length&&qf(q)}else"stop"!=Ui[0]&&"close"!=Ui[0]||yc(q,7);else 3==q.G&&("stop"==Ui[0]||"close"==Ui[0]?"stop"==Ui[0]?yc(q,7):$v(q):"noop"!=Ui[0]&&q.l&&q.l.ta(Ui),q.v=0)}vh()}catch{}}Xl.prototype.ca=function(v){v=v.target;const k=this.M;k&&3==Al(v)?k.j():this.Y(v)},Xl.prototype.Y=function(v){try{if(v==this.g)e:{const ua=Al(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>ua)&&(3!=ua||this.g&&(this.h.h||this.g.oa()||Bv(this.g)))){this.J||4!=ua||7==k||vh(),Nv(this);var q=this.g.Z();this.X=q;t:if(qy(this)){var ge=Bv(this.g);v="";var wt=ge.length,Jt=4==Al(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),yh(this);var Bn="";break t}this.h.i=new w.TextDecoder}for(k=0;k<wt;k++)this.h.h=!0,v+=this.h.i.decode(ge[k],{stream:!(Jt&&k==wt-1)});ge.length=0,this.h.g+=v,this.C=0,Bn=this.h.g}else Bn=this.g.oa();if(this.o=200==q,function ZI(v,k,q,ge,wt,Jt,Bn){v.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+wt+"]: "+k+"\n"+q+"\n"+Jt+" "+Bn})}(this.i,this.u,this.A,this.l,this.R,ua,q),this.o){if(this.T&&!this.K){t:{if(this.g){var io,hs=this.g;if((io=hs.g?hs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(io)){var Ui=io;break t}}Ui=null}if(!(q=Ui)){this.o=!1,this.s=3,aa(12),Ql(this),yh(this);break e}hc(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xv(this,q)}if(this.P){let Yl;for(q=!0;!this.J&&this.C<Bn.length;){if(Yl=nE(this,Bn),Yl==wg){4==ua&&(this.s=4,aa(14),q=!1),hc(this.i,this.l,null,"[Incomplete Response]");break}if(Yl==Id){this.s=4,aa(15),hc(this.i,this.l,Bn,"[Invalid Chunk]"),q=!1;break}hc(this.i,this.l,Yl,null),xv(this,Yl)}if(qy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ua||0!=Bn.length||this.h.h||(this.s=1,aa(16),q=!1),this.o=this.o&&q,q){if(0<Bn.length&&!this.W){this.W=!0;var la=this.j;la.g==this&&la.ba&&!la.M&&(la.j.info("Great, no buffering proxy detected. Bytes received: "+Bn.length),Lg(la),la.M=!0,aa(11))}}else hc(this.i,this.l,Bn,"[Invalid Chunked Response]"),Ql(this),yh(this)}else hc(this.i,this.l,Bn,null),xv(this,Bn);4==ua&&Ql(this),this.o&&!this.J&&(4==ua?zv(this.j,this):(this.o=!1,Sg(this)))}else(function s0(v){const k={};v=(v.g&&2<=Al(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<v.length;ge++){if(or(v[ge]))continue;var q=Tt(v[ge]);const wt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Jt=k[wt]||[];k[wt]=Jt,Jt.push(q)}!function mt(v,k){for(const q in v)k.call(void 0,v[q],q,v)}(k,function(ge){return ge.join(", ")})})(this.g),400==q&&0<Bn.indexOf("Unknown SID")?(this.s=3,aa(12)):(this.s=0,aa(13)),Ql(this),yh(this)}}}catch{}},Xl.prototype.cancel=function(){this.J=!0,Ql(this)},Xl.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function eE(v,k){v.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(vh(),aa(17)),Ql(this),this.s=2,yh(this)):Pv(this,this.S-v)};var rE=class{constructor(v,k){this.g=v,this.map=k}};function Ov(v){this.l=v||10,v=w.PerformanceNavigationTiming?0<(v=w.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(w.chrome&&w.chrome.loadTimes&&w.chrome.loadTimes()&&w.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xy(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Qy(v){return v.h?1:v.g?v.g.size:0}function Ru(v,k){return v.h?v.h==k:!!v.g&&v.g.has(k)}function pc(v,k){v.g?v.g.add(k):v.h=k}function Ih(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}function iE(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let k=v.i;for(const q of v.g.values())k=k.concat(q.D);return k}return fn(v.i)}function Jy(v,k){if(v.forEach&&"function"==typeof v.forEach)v.forEach(k,void 0);else if(P(v)||"string"==typeof v)Array.prototype.forEach.call(v,k,void 0);else for(var q=function kv(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(P(v)||"string"==typeof v){var k=[];v=v.length;for(var q=0;q<v;q++)k.push(q);return k}k=[],q=0;for(const ge in v)k[q++]=ge;return k}}}(v),ge=function Yy(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(P(v)){for(var k=[],q=v.length,ge=0;ge<q;ge++)k.push(v[ge]);return k}for(ge in k=[],q=0,v)k[q++]=v[ge];return k}(v),wt=ge.length,Jt=0;Jt<wt;Jt++)k.call(void 0,ge[Jt],q&&q[Jt],v)}Ov.prototype.cancel=function(){if(this.i=iE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Fv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof gc){this.h=v.h,Rg(this,v.j),this.o=v.o,this.g=v.g,vc(this,v.s),this.l=v.l;var k=v.i,q=new Ad;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),Mg(this,q),this.m=v.m}else v&&(k=String(v).match(Fv))?(this.h=!1,Rg(this,k[1]||"",!0),this.o=$f(k[2]||""),this.g=$f(k[3]||"",!0),vc(this,k[4]),this.l=$f(k[5]||"",!0),Mg(this,k[6]||"",!0),this.m=$f(k[7]||"")):(this.h=!1,this.i=new Ad(null,this.h))}function mc(v){return new gc(v)}function Rg(v,k,q){v.j=q?$f(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function vc(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function Mg(v,k,q){k instanceof Ad?(v.i=k,function e0(v,k){k&&!v.j&&(Mu(v),v.i=null,v.g.forEach(function(q,ge){var wt=ge.toLowerCase();ge!=wt&&(Pu(this,ge),lE(this,wt,q))},v)),v.j=k}(v.i,v.h)):(q||(k=Ed(k,sE)),v.i=new Ad(k,v.h))}function Eo(v,k,q){v.i.set(k,q)}function Pg(v){return Eo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function $f(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ed(v,k,q){return"string"==typeof v?(v=encodeURI(v).replace(k,_c),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function _c(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}gc.prototype.toString=function(){var v=[],k=this.j;k&&v.push(Ed(k,jf,!0),":");var q=this.g;return(q||"file"==k)&&(v.push("//"),(k=this.o)&&v.push(Ed(k,jf,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(Ed(q,"/"==q.charAt(0)?Hf:Zy,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Ed(q,aE)),v.join("")};var jf=/[#\/\?@]/g,Zy=/[#\?:]/g,Hf=/[#\?]/g,sE=/[#\?@]/g,aE=/#/g;function Ad(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function Mu(v){v.g||(v.g=new Map,v.h=0,v.i&&function oE(v,k){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var ge=v[q].indexOf("="),wt=null;if(0<=ge){var Jt=v[q].substring(0,ge);wt=v[q].substring(ge+1)}else Jt=v[q];k(Jt,wt?decodeURIComponent(wt.replace(/\+/g," ")):"")}}}(v.i,function(k,q){v.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}function Pu(v,k){Mu(v),k=Nu(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function Eh(v,k){return Mu(v),k=Nu(v,k),v.g.has(k)}function lE(v,k,q){Pu(v,k),0<q.length&&(v.i=null,v.g.set(Nu(v,k),fn(q)),v.h+=q.length)}function Nu(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Ja(v,k,q,ge,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),ge(q)}catch{}}function cE(){this.g=new Ff}function dE(v,k,q){const ge=q||"";try{Jy(v,function(wt,Jt){let Bn=wt;G(wt)&&(Bn=Tg(wt)),k.push(ge+Jt+"="+encodeURIComponent(Bn))})}catch(wt){throw k.push(ge+"type="+encodeURIComponent("_badmap")),wt}}function zf(v){this.l=v.Ub||null,this.j=v.eb||!1}function Ng(v,k){$s.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function n0(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Gf(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Wf(v)}function Wf(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function r0(v){let k="";return _r(v,function(q,ge){k+=ge,k+=":",k+=q,k+="\r\n"}),k}function Ah(v,k,q){e:{for(ge in q){var ge=!1;break e}ge=!0}ge||(q=r0(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):Eo(v,k,q))}function Oo(v){$s.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Ad.prototype).add=function(v,k){Mu(this),this.i=null,v=Nu(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(k),this.h+=1,this},l.forEach=function(v,k){Mu(this),this.g.forEach(function(q,ge){q.forEach(function(wt){v.call(k,wt,ge,this)},this)},this)},l.na=function(){Mu(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let ge=0;ge<k.length;ge++){const wt=v[ge];for(let Jt=0;Jt<wt.length;Jt++)q.push(k[ge])}return q},l.V=function(v){Mu(this);let k=[];if("string"==typeof v)Eh(this,v)&&(k=k.concat(this.g.get(Nu(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)k=k.concat(v[q])}return k},l.set=function(v,k){return Mu(this),this.i=null,Eh(this,v=Nu(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},l.get=function(v,k){return v&&0<(v=this.V(v)).length?String(v[0]):k},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var ge=k[q];const Jt=encodeURIComponent(String(ge)),Bn=this.V(ge);for(ge=0;ge<Bn.length;ge++){var wt=Jt;""!==Bn[ge]&&(wt+="="+encodeURIComponent(String(Bn[ge]))),v.push(wt)}}return this.i=v.join("&")},an(zf,gh),zf.prototype.g=function(){return new Ng(this.l,this.j)},zf.prototype.i=function(v){return function(){return v}}({}),an(Ng,$s),(l=Ng.prototype).open=function(v,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,Wf(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||w).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gf(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Wf(this)),this.g&&(this.readyState=3,Wf(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof w.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n0(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Gf(this):Wf(this),3==this.readyState&&n0(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,Gf(this))},l.Qa=function(v){this.g&&(this.response=v,Gf(this))},l.ga=function(){this.g&&Gf(this)},l.setRequestHeader=function(v,k){this.u.append(v,k)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var q=k.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=k.next();return v.join("\r\n")},Object.defineProperty(Ng.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),an(Oo,$s);var hE=/^https?$/i,o0=["POST","PUT"];function Lv(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,xg(v),Og(v)}function xg(v){v.A||(v.A=!0,sa(v,"complete"),sa(v,"error"))}function Vv(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=Al(v)||2!=v.Z()))if(v.u&&4==Al(v))$y(v.Ea,0,v);else if(sa(v,"readystatechange"),4==Al(v)){v.h=!1;try{const Bn=v.Z();e:switch(Bn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var ge;if(ge=0===Bn){var wt=String(v.D).match(Fv)[1]||null;!wt&&w.self&&w.self.location&&(wt=w.self.location.protocol.slice(0,-1)),ge=!hE.test(wt?wt.toLowerCase():"")}q=ge}if(q)sa(v,"complete"),sa(v,"success");else{v.m=6;try{var Jt=2<Al(v)?v.g.statusText:""}catch{Jt=""}v.l=Jt+" ["+v.Z()+"]",xg(v)}}finally{Og(v)}}}function Og(v,k){if(v.g){Uv(v);const q=v.g,ge=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||sa(v,"ready");try{q.onreadystatechange=ge}catch{}}}function Uv(v){v.I&&(w.clearTimeout(v.I),v.I=null)}function Al(v){return v.g?v.g.readyState:0}function Bv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Kf(v,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||k}function a0(v){this.Aa=0,this.i=[],this.j=new Bf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kf("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kf("baseRetryDelayMs",5e3,v),this.cb=Kf("retryDelaySeedMs",1e4,v),this.Wa=Kf("forwardChannelMaxRetries",2,v),this.wa=Kf("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Ov(v&&v.concurrentRequestLimit),this.Da=new cE,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $v(v){if(kg(v),3==v.G){var k=v.U++,q=mc(v.I);if(Eo(q,"SID",v.K),Eo(q,"RID",k),Eo(q,"TYPE","terminate"),Xf(v,q),(k=new Xl(v,v.j,k)).L=2,k.v=Pg(mc(q)),q=!1,w.navigator&&w.navigator.sendBeacon)try{q=w.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&w.Image&&((new Image).src=k.v,q=!0),q||(k.g=d0(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Sg(k)}c0(v)}function Ch(v){v.g&&(Lg(v),v.g.cancel(),v.g=null)}function kg(v){Ch(v),v.u&&(w.clearTimeout(v.u),v.u=null),Th(v),v.h.cancel(),v.s&&("number"==typeof v.s&&w.clearTimeout(v.s),v.s=null)}function qf(v){if(!Xy(v.h)&&!v.s){v.s=!0;var k=v.Ga;Sf||dh(),Rf||(Sf(),Rf=!0),Mf.add(k,v),v.B=0}}function Fg(v,k){var q;q=k?k.l:v.U++;const ge=mc(v.I);Eo(ge,"SID",v.K),Eo(ge,"RID",q),Eo(ge,"AID",v.T),Xf(v,ge),v.m&&v.o&&Ah(ge,v.m,v.o),q=new Xl(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),k&&(v.i=k.D.concat(v.i)),k=l0(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),pc(v.h,q),Mv(q,ge,k)}function Xf(v,k){v.H&&_r(v.H,function(q,ge){Eo(k,ge,q)}),v.l&&Jy({},function(q,ge){Eo(k,ge,q)})}function l0(v,k,q){q=Math.min(v.i.length,q);var ge=v.l?Xe(v.l.Na,v.l,v):null;e:{var wt=v.i;let Jt=-1;for(;;){const Bn=["count="+q];-1==Jt?0<q?(Jt=wt[0].g,Bn.push("ofs="+Jt)):Jt=0:Bn.push("ofs="+Jt);let io=!0;for(let hs=0;hs<q;hs++){let Ui=wt[hs].g;const la=wt[hs].map;if(Ui-=Jt,0>Ui)Jt=Math.max(0,wt[hs].g-100),io=!1;else try{dE(la,Bn,"req"+Ui+"_")}catch{ge&&ge(la)}}if(io){ge=Bn.join("&");break e}}}return v=v.i.splice(0,q),k.D=v,ge}function u0(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;Sf||dh(),Rf||(Sf(),Rf=!0),Mf.add(k,v),v.v=0}}function Hv(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Uf(Xe(v.Fa,v),Gv(v,v.v)),v.v++,0))}function Lg(v){null!=v.A&&(w.clearTimeout(v.A),v.A=null)}function Vg(v){v.g=new Xl(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var k=mc(v.qa);Eo(k,"RID","rpc"),Eo(k,"SID",v.K),Eo(k,"AID",v.T),Eo(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&Eo(k,"TO",v.ja),Eo(k,"TYPE","xmlhttp"),Xf(v,k),v.m&&v.o&&Ah(k,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=Pg(mc(k)),q.m=null,q.P=!0,Ky(q,v)}function Th(v){null!=v.C&&(w.clearTimeout(v.C),v.C=null)}function zv(v,k){var q=null;if(v.g==k){Th(v),Lg(v),v.g=null;var ge=2}else{if(!Ru(v.h,k))return;q=k.D,Ih(v.h,k),ge=1}if(0!=v.G)if(k.o)if(1==ge){q=k.m?k.m.length:0,k=Date.now()-k.F;var wt=v.B;sa(ge=Vf(),new Gy(ge,q)),qf(v)}else u0(v);else if(3==(wt=k.s)||0==wt&&0<k.X||!(1==ge&&function jv(v,k){return!(Qy(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=k.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Uf(Xe(v.Ga,v,k),Gv(v,v.B)),v.B++,0)))}(v,k)||2==ge&&Hv(v)))switch(q&&0<q.length&&(k=v.h,k.i=k.i.concat(q)),wt){case 1:yc(v,5);break;case 4:yc(v,10);break;case 3:yc(v,6);break;default:yc(v,2)}}function Gv(v,k){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*k}function yc(v,k){if(v.j.info("Error code "+k),2==k){var q=Xe(v.fb,v),ge=v.Xa;const wt=!ge;ge=new gc(ge||"//www.google.com/images/cleardot.gif"),w.location&&"http"==w.location.protocol||Rg(ge,"https"),Pg(ge),wt?function t0(v,k){const q=new Bf;if(w.Image){const ge=new Image;ge.onload=Dt(Ja,q,"TestLoadImage: loaded",!0,k,ge),ge.onerror=Dt(Ja,q,"TestLoadImage: error",!1,k,ge),ge.onabort=Dt(Ja,q,"TestLoadImage: abort",!1,k,ge),ge.ontimeout=Dt(Ja,q,"TestLoadImage: timeout",!1,k,ge),w.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=v}else k(!1)}(ge.toString(),q):function uE(v,k){new Bf;const ge=new AbortController,wt=setTimeout(()=>{ge.abort(),Ja(0,0,!1,k)},1e4);fetch(v,{signal:ge.signal}).then(Jt=>{clearTimeout(wt),Ja(0,0,!!Jt.ok,k)}).catch(()=>{clearTimeout(wt),Ja(0,0,!1,k)})}(ge.toString(),q)}else aa(2);v.G=0,v.l&&v.l.sa(k),c0(v),kg(v)}function c0(v){if(v.G=0,v.ka=[],v.l){const k=iE(v.h);(0!=k.length||0!=v.i.length)&&(ln(v.ka,k),ln(v.ka,v.i),v.h.i.length=0,fn(v.i),v.i.length=0),v.l.ra()}}function Wv(v,k,q){var ge=q instanceof gc?mc(q):new gc(q);if(""!=ge.g)k&&(ge.g=k+"."+ge.g),vc(ge,ge.s);else{var wt=w.location;ge=wt.protocol,k=k?k+"."+wt.hostname:wt.hostname,wt=+wt.port;var Jt=new gc(null);ge&&Rg(Jt,ge),k&&(Jt.g=k),wt&&vc(Jt,wt),q&&(Jt.l=q),ge=Jt}return k=v.ya,(q=v.D)&&k&&Eo(ge,q,k),Eo(ge,"VER",v.la),Xf(v,ge),ge}function d0(v,k,q){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new Oo(v.Ca&&!v.pa?new zf({eb:q}):v.pa)).Ha(v.J),k}function Ug(){}function Qf(){}function Ca(v,k){$s.call(this),this.g=new a0(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!or(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!or(k)&&(this.g.D=k,null!==(v=this.h)&&k in v&&k in(v=this.h)&&delete v[k]),this.j=new Yf(this)}function js(v){Lf.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const q in k){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,k=null!==k&&v in k?k[v]:void 0),this.data=k}else this.data=v}function Kv(){Sv.call(this),this.status=1}function Yf(v){this.g=v}(l=Oo.prototype).Ha=function(v){this.J=v},l.ea=function(v,k,q,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yd.g(),this.v=function YI(v){return v.h||(v.h=v.i())}(this.o?this.o:yd),this.g.onreadystatechange=Xe(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(Jt){return void Lv(this,Jt)}if(v=q||"",q=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var wt in ge)q.set(wt,ge[wt]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const Jt of ge.keys())q.set(Jt,ge.get(Jt))}ge=Array.from(q.keys()).find(Jt=>"content-type"==Jt.toLowerCase()),wt=w.FormData&&v instanceof w.FormData,!(0<=Array.prototype.indexOf.call(o0,k,void 0))||ge||wt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Jt,Bn]of q)this.g.setRequestHeader(Jt,Bn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uv(this),this.u=!0,this.g.send(v),this.u=!1}catch(Jt){Lv(this,Jt)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,sa(this,"complete"),sa(this,"abort"),Og(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Og(this,!0)),Oo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Vv(this):this.bb())},l.bb=function(){Vv(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Al(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&0==k.indexOf(v)&&(k=k.substring(v.length)),QI(k)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=a0.prototype).la=8,l.G=1,l.connect=function(v,k,q,ge){aa(0),this.W=v,this.H=k||{},q&&void 0!==ge&&(this.H.OSID=q,this.H.OAID=ge),this.F=this.X,this.I=Wv(this,null,this.W),qf(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const wt=new Xl(this,this.j,v);let Jt=this.o;if(this.S&&(Jt?(Jt=He(Jt),Et(Jt,this.S)):Jt=this.S),null!==this.m||this.O||(wt.H=Jt,Jt=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){var ge=this.i[q];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(k+=ge)){k=q;break e}if(4096===k||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=l0(this,wt,k),Eo(q=mc(this.I),"RID",v),Eo(q,"CVER",22),this.D&&Eo(q,"X-HTTP-Session-Id",this.D),Xf(this,q),Jt&&(this.O?k="headers="+encodeURIComponent(String(r0(Jt)))+"&"+k:this.m&&Ah(q,this.m,Jt)),pc(this.h,wt),this.Ua&&Eo(q,"TYPE","init"),this.P?(Eo(q,"$req",k),Eo(q,"SID","null"),wt.T=!0,Mv(wt,q,null)):Mv(wt,q,k),this.G=2}}else 3==this.G&&(v?Fg(this,v):0==this.i.length||Xy(this.h)||Fg(this))},l.Fa=function(){if(this.u=null,Vg(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Uf(Xe(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,aa(10),Ch(this),Vg(this))},l.Za=function(){null!=this.C&&(this.C=null,Ch(this),Hv(this),aa(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),aa(2)):(this.j.info("Failed to ping google.com"),aa(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=Ug.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Qf.prototype.g=function(v,k){return new Ca(v,k)},an(Ca,$s),Ca.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ca.prototype.close=function(){$v(this.g)},Ca.prototype.o=function(v){var k=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=Tg(v),v=q);k.i.push(new rE(k.Ya++,v)),3==k.G&&qf(k)},Ca.prototype.N=function(){this.g.l=null,delete this.j,$v(this.g),delete this.g,Ca.aa.N.call(this)},an(js,Lf),an(Kv,Sv),an(Yf,Ug),Yf.prototype.ua=function(){sa(this.g,"a")},Yf.prototype.ta=function(v){sa(this.g,new js(v))},Yf.prototype.sa=function(v){sa(this.g,new Kv)},Yf.prototype.ra=function(){sa(this.g,"b")},Qf.prototype.createWebChannel=Qf.prototype.g,Ca.prototype.send=Ca.prototype.o,Ca.prototype.open=Ca.prototype.m,Ca.prototype.close=Ca.prototype.close,di=gr.createWebChannelTransport=function(){return new Qf},jr=gr.getStatEventTarget=function(){return Vf()},hr=gr.Event=dc,dr=gr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bg.NO_ERROR=0,bg.TIMEOUT=8,bg.HTTP_ERROR=6,Or=gr.ErrorCode=bg,fc.COMPLETE="complete",$r=gr.EventType=fc,Hy.EventType=mh,mh.OPEN="a",mh.CLOSE="b",mh.ERROR="c",mh.MESSAGE="d",$s.prototype.listen=$s.prototype.K,$n=gr.WebChannel=Hy,gr.FetchXmlHttpFactory=zf,Oo.prototype.listenOnce=Oo.prototype.L,Oo.prototype.getLastError=Oo.prototype.Ka,Oo.prototype.getLastErrorCode=Oo.prototype.Ba,Oo.prototype.getStatus=Oo.prototype.Z,Oo.prototype.getResponseJson=Oo.prototype.Oa,Oo.prototype.getResponseText=Oo.prototype.oa,Oo.prototype.send=Oo.prototype.ea,Oo.prototype.setWithCredentials=Oo.prototype.Ha,mr=gr.XhrIo=Oo}).apply(typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{});const Cr="@firebase/firestore";class wr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let rr="10.14.0";const ii=new Xn.Vy("@firebase/firestore");function Sr(){return ii.logLevel}function Kt(l,...t){if(ii.logLevel<=Xn.$b.DEBUG){const i=t.map(Vr);ii.debug(`Firestore (${rr}): ${l}`,...i)}}function qn(l,...t){if(ii.logLevel<=Xn.$b.ERROR){const i=t.map(Vr);ii.error(`Firestore (${rr}): ${l}`,...i)}}function zr(l,...t){if(ii.logLevel<=Xn.$b.WARN){const i=t.map(Vr);ii.warn(`Firestore (${rr}): ${l}`,...i)}}function Vr(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function je(l="Unexpected state"){const t=`FIRESTORE (${rr}) INTERNAL ASSERTION FAILED: `+l;throw qn(t),new Error(t)}function Ne(l,t){l||je()}function me(l,t){return l}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Tn.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pe{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class Te{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ke{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(wr.UNAUTHENTICATED))}shutdown(){}}class xt{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ht{constructor(t){this.t=t,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;Ne(void 0===this.o);let u=this.i;const p=G=>this.i!==u?(u=this.i,i(G)):Promise.resolve();let _=new pe;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new pe,t.enqueueRetryable(()=>p(this.currentUser))};const w=()=>{const G=_;t.enqueueRetryable((0,St.A)(function*(){yield G.promise,yield p(s.currentUser)}))},P=G=>{Kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.o&&(this.auth.addAuthTokenListener(this.o),w())};this.t.onInit(G=>P(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?P(G):(Kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new pe)}},0),w()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(Kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ne("string"==typeof s.accessToken),new Te(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ne(null===t||"string"==typeof t),new wr(t)}}class Dn{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class On{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new Dn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pi{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Ne(void 0===this.o);const s=p=>{null!=p.error&&Kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,Kt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>s(p))};const u=p=>{Kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ne("string"==typeof i.token),this.R=i.token,new Zr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gr(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class ir{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Gr(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function Pn(l,t){return l<t?-1:l>t?1:0}function Wr(l,t,i){return l.length===t.length&&l.every((s,u)=>i(s,t[u]))}function Hn(l){return l+"\0"}class Hr{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new We(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new We(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new We(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new We(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Hr.fromMillis(Date.now())}static fromDate(t){return Hr.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new Hr(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pn(this.nanoseconds,t.nanoseconds):Pn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Fn(t)}static min(){return new Fn(new Hr(0,0))}static max(){return new Fn(new Hr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ji{constructor(t,i,s){void 0===i?i=0:i>t.length&&je(),void 0===s?s=t.length-i:s>t.length-i&&je(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===ji.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const p=t.get(u),_=i.get(u);if(p<_)return-1;if(p>_)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class pr extends ji{construct(t,i,s){return new pr(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new We(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new pr(i)}static emptyPath(){return new pr([])}}const vo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends ji{construct(t,i,s){return new Kn(t,i,s)}static isValidIdentifier(t){return vo.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new We(oe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<t.length;){const w=t[u];if("\\"===w){if(u+1===t.length)throw new We(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const P=t[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new We(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=P,u+=2}else"`"===w?(_=!_,u++):"."!==w||_?(s+=w,u++):(p(),u++)}if(p(),_)throw new We(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Kn(i)}static emptyPath(){return new Kn([])}}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(pr.fromString(t))}static fromName(t){return new $e(pr.fromString(t).popFirst(5))}static empty(){return new $e(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===pr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return pr.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new pr(t.slice()))}}class it{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function zt(l){return l.fields.find(t=>2===t.kind)}function yn(l){return l.fields.filter(t=>2!==t.kind)}it.UNKNOWN_ID=-1;class Gt{constructor(t,i){this.fieldPath=t,this.kind=i}}class Gn{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new Gn(0,Ae.min())}}function fr(l,t){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=Fn.fromTimestamp(1e9===s?new Hr(i+1,0):new Hr(i,s));return new Ae(u,$e.empty(),t)}function se(l){return new Ae(l.readTime,l.key,-1)}class Ae{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Ae(Fn.min(),$e.empty(),-1)}static max(){return new Ae(Fn.max(),$e.empty(),-1)}}function Ze(l,t){let i=l.readTime.compareTo(t.readTime);return 0!==i?i:(i=$e.comparator(l.documentKey,t.documentKey),0!==i?i:Pn(l.largestBatchId,t.largestBatchId))}const ct="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function sn(l){return wn.apply(this,arguments)}function wn(){return(wn=(0,St.A)(function*(l){if(l.code!==oe.FAILED_PRECONDITION||l.message!==ct)throw l;Kt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Le{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Le((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(t,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Le?i:Le.resolve(i)}catch(i){return Le.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Le.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Le.reject(i)}static resolve(t){return new Le((i,s)=>{i(t)})}static reject(t){return new Le((i,s)=>{s(t)})}static waitFor(t){return new Le((i,s)=>{let u=0,p=0,_=!1;t.forEach(w=>{++u,w.next(()=>{++p,_&&p===u&&i()},P=>s(P))}),_=!0,p===u&&i()})}static or(t){let i=Le.resolve(!1);for(const s of t)i=i.next(u=>u?Le.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(t,i){return new Le((s,u)=>{const p=t.length,_=new Array(p);let w=0;for(let P=0;P<p;P++){const G=P;i(t[G]).next(re=>{_[G]=re,++w,w===p&&s(_)},re=>u(re))}})}static doWhile(t,i){return new Le((s,u)=>{const p=()=>{!0===t()?i().next(()=>{p()},u):s()};p()})}}class ur{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new pe,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Ti(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Ur(s.target.error);this.V.reject(new Ti(t,u))}}static open(t,i,s,u){try{return new ur(i,t.transaction(u,s))}catch(p){throw new Ti(i,p)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Kt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new gi(i)}}class jn{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===jn.S((0,Tn.ZQ)())&&qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Kt("SimpleDb","Removing database:",t),ti(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Tn.zW)())return!1;if(jn.v())return!0;const t=(0,Tn.ZQ)(),i=jn.S(t),s=0<i&&i<10,u=Kr(t),p=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||p)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,St.A)(function*(){return i.db||(Kt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{u(new Ti(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const w=_.target.error;u("VersionError"===w.name?new We(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new We(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Ti(t,w))},p.onupgradeneeded=_=>{Kt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{Kt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var p=this;return(0,St.A)(function*(){const _="readonly"===i;let w=0;for(;;){++w;try{p.db=yield p.M(t);const P=ur.open(p.db,t,_?"readonly":"readwrite",s),G=u(P).next(re=>(P.g(),re)).catch(re=>(P.abort(re),Le.reject(re))).toPromise();return G.catch(()=>{}),yield P.m,G}catch(P){const G=P,re="FirebaseError"!==G.name&&w<3;if(Kt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",re),p.close(),!re)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Kr(l){const t=l.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Li{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return ti(this.B.delete())}}class Ti extends We{constructor(t,i){super(oe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function hi(l){return"IndexedDbTransactionError"===l.name}class gi{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(Kt("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(Kt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),ti(s)}add(t){return Kt("SimpleDb","ADD",this.store.name,t,t),ti(this.store.add(t))}get(t){return ti(this.store.get(t)).next(i=>(void 0===i&&(i=null),Kt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return Kt("SimpleDb","DELETE",this.store.name,t),ti(this.store.delete(t))}count(){return Kt("SimpleDb","COUNT",this.store.name),ti(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new Le((_,w)=>{p.onerror=P=>{w(P.target.error)},p.onsuccess=P=>{_(P.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(w,P)=>{_.push(P)}).next(()=>_)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new Le((u,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(t,i){Kt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(p,_,w)=>w.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new Le((s,u)=>{i.onerror=p=>{const _=Ur(p.target.error);u(_)},i.onsuccess=p=>{const _=p.target.result;_?t(_.primaryKey,_.value).next(w=>{w?_.continue():s()}):s()}})}W(t,i){const s=[];return new Le((u,p)=>{t.onerror=_=>{p(_.target.error)},t.onsuccess=_=>{const w=_.target.result;if(!w)return void u();const P=new Li(w),G=i(w.primaryKey,w.value,P);if(G instanceof Le){const re=G.catch(Ce=>(P.done(),Le.reject(Ce)));s.push(re)}P.isDone?u():null===P.K?w.continue():w.continue(P.K)}}).next(()=>Le.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function ti(l){return new Le((t,i)=>{l.onsuccess=s=>{t(s.target.result)},l.onerror=s=>{const u=Ur(s.target.error);i(u)}})}let Rr=!1;function Ur(l){const t=jn.S((0,Tn.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rr||(Rr=!0,setTimeout(()=>{throw s},0)),s}}return l}class Di{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;Kt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,St.A)(function*(){i.task=null;try{Kt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){hi(s)?Kt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield sn(s)}yield i.X(6e4)}))}}class Xr{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,St.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,p=!0;return Le.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(_=>{if(null!==_&&!s.has(_))return Kt("IndexBackfiller",`Processing collection: ${_}`),this.ne(t,_,u).next(w=>{u-=w,s.add(_)});p=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(t,_).next(()=>this.re(u,p)).next(w=>(Kt("IndexBackfiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(t,i,w))).next(()=>_.size)}))}re(t,i){let s=t;return i.changes.forEach((u,p)=>{const _=se(p);Ze(_,s)>0&&(s=_)}),new Ae(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let qr=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Ft(l){return null==l}function vr(l){return 0===l&&1/l==-1/0}function fs(l){return"number"==typeof l&&Number.isInteger(l)&&!vr(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Mi(l){let t="";for(let i=0;i<l.length;i++)t.length>0&&(t=So(t)),t=Go(l.get(i),t);return So(t)}function Go(l,t){let i=t;const s=l.length;for(let u=0;u<s;u++){const p=l.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function So(l){return l+"\x01\x01"}function Gi(l){const t=l.length;if(Ne(t>=2),2===t)return Ne("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),pr.emptyPath();const i=t-2,s=[];let u="";for(let p=0;p<t;){const _=l.indexOf("\x01",p);switch((_<0||_>i)&&je(),l.charAt(_+1)){case"\x01":const w=l.substring(p,_);let P;0===u.length?P=w:(u+=w,P=u,u=""),s.push(P);break;case"\x10":u+=l.substring(p,_),u+="\0";break;case"\x11":u+=l.substring(p,_+1);break;default:je()}p=_+2}return new pr(s)}const ko=["userId","batchId"];function Mr(l,t){return[l,Mi(t)]}function Fo(l,t,i){return[l,Mi(t),i]}const rs={},Wi=["prefixPath","collectionGroup","readTime","documentId"],ps=["prefixPath","collectionGroup","documentId"],is=["collectionGroup","readTime","prefixPath","documentId"],ca=["canonicalId","targetId"],kr=["targetId","path"],Ki=["path","targetId"],Cn=["collectionId","parent"],gs=["indexId","uid"],Hs=["uid","sequenceNumber"],os=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],W=["indexId","uid","orderedDocumentKey"],ne=["userId","collectionPath","documentId"],Me=["userId","collectionPath","largestBatchId"],Fe=["userId","collectionGroup","largestBatchId"],tt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qe=[...tt,"documentOverlays"],Qt=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yt=Qt,qt=[...yt,"indexConfiguration","indexState","indexEntries"],tn=qt,gn=[...qt,"globals"];class bn extends Mt{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function Sn(l,t){const i=me(l);return jn.F(i._e,t)}function Wn(l){let t=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t++;return t}function Pr(l,t){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t(i,l[i])}function wi(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class ar{constructor(t,i){this.comparator=t,this.root=i||fi.EMPTY}insert(t,i){return new ar(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(t){return new ar(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fi.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mi(this.root,t,this.comparator,!1)}getReverseIterator(){return new mi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mi(this.root,t,this.comparator,!0)}}class mi{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!t.isEmpty();)if(p=i?s(t.key,i):1,i&&u&&(p*=-1),p<0)t=this.isReverse?t.left:t.right;else{if(0===p){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fi{constructor(t,i,s,u,p){this.key=t,this.value=i,this.color=null!=s?s:fi.RED,this.left=null!=u?u:fi.EMPTY,this.right=null!=p?p:fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,p){return new fi(null!=t?t:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const p=s(t,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return fi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const t=this.left.check();if(t!==this.right.check())throw je();return t+(this.isRed()?0:1)}}fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1,fi.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(t,i,s,u,p){return this}insert(t,i,s){return new fi(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(t){this.comparator=t,this.data=new ar(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _o(this.data.getIterator())}getIteratorFrom(t){return new _o(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof xr)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new xr(this.comparator);return i.data=t,i}}class _o{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ao(l){return l.hasNext()?l.getNext():void 0}class Ci{constructor(t){this.fields=t,t.sort(Kn.comparator)}static empty(){return new Ci([])}unionWith(t){let i=new xr(Kn.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Ci(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wr(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class ws extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ui{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new ws("Invalid base64 string: "+p):p}}(t);return new ui(i)}static fromUint8Array(t){const i=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(t);return new ui(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const ss=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(l){if(Ne(!!l),"string"==typeof l){let t=0;const i=ss.exec(l);if(Ne(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:si(l.seconds),nanos:si(l.nanos)}}function si(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function vi(l){return"string"==typeof l?ui.fromBase64String(l):ui.fromUint8Array(l)}function Mo(l){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Lo(l){const t=l.mapValue.fields.__previous_value__;return Mo(t)?Lo(t):t}function da(l){const t=Ro(l.mapValue.fields.__local_write_time__.timestampValue);return new Hr(t.seconds,t.nanos)}class zs{constructor(t,i,s,u,p,_,w,P,G){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=w,this.longPollingOptions=P,this.useFetchStreams=G}}class Bi{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Bi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Bi&&t.projectId===this.projectId&&t.database===this.database}}const yr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ao={nullValue:"NULL_VALUE"};function oo(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Mo(l)?4:Uo(l)?9007199254740991:Ws(l)?10:11:je()}function to(l,t){if(l===t)return!0;const i=oo(l);if(i!==oo(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return da(l).isEqual(da(t));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=Ro(u.timestampValue),w=Ro(p.timestampValue);return _.seconds===w.seconds&&_.nanos===w.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return p=t,vi(l.bytesValue).isEqual(vi(p.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(u,p){return si(u.geoPointValue.latitude)===si(p.geoPointValue.latitude)&&si(u.geoPointValue.longitude)===si(p.geoPointValue.longitude)}(l,t);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return si(u.integerValue)===si(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=si(u.doubleValue),w=si(p.doubleValue);return _===w?vr(_)===vr(w):isNaN(_)&&isNaN(w)}return!1}(l,t);case 9:return Wr(l.arrayValue.values||[],t.arrayValue.values||[],to);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},w=p.mapValue.fields||{};if(Wn(_)!==Wn(w))return!1;for(const P in _)if(_.hasOwnProperty(P)&&(void 0===w[P]||!to(_[P],w[P])))return!1;return!0}(l,t);default:return je()}var p}function Wo(l,t){return void 0!==(l.values||[]).find(i=>to(i,t))}function Co(l,t){if(l===t)return 0;const i=oo(l),s=oo(t);if(i!==s)return Pn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pn(l.booleanValue,t.booleanValue);case 2:return function(p,_){const w=si(p.integerValue||p.doubleValue),P=si(_.integerValue||_.doubleValue);return w<P?-1:w>P?1:w===P?0:isNaN(w)?isNaN(P)?0:-1:1}(l,t);case 3:return Pi(l.timestampValue,t.timestampValue);case 4:return Pi(da(l),da(t));case 5:return Pn(l.stringValue,t.stringValue);case 6:return function(p,_){const w=vi(p),P=vi(_);return w.compareTo(P)}(l.bytesValue,t.bytesValue);case 7:return function(p,_){const w=p.split("/"),P=_.split("/");for(let G=0;G<w.length&&G<P.length;G++){const re=Pn(w[G],P[G]);if(0!==re)return re}return Pn(w.length,P.length)}(l.referenceValue,t.referenceValue);case 8:return function(p,_){const w=Pn(si(p.latitude),si(_.latitude));return 0!==w?w:Pn(si(p.longitude),si(_.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return To(l.arrayValue,t.arrayValue);case 10:return function(p,_){var w,P,G,re;const Dt=null===(w=(p.fields||{}).value)||void 0===w?void 0:w.arrayValue,an=null===(P=(_.fields||{}).value)||void 0===P?void 0:P.arrayValue,fn=Pn((null===(G=null==Dt?void 0:Dt.values)||void 0===G?void 0:G.length)||0,(null===(re=null==an?void 0:an.values)||void 0===re?void 0:re.length)||0);return 0!==fn?fn:To(Dt,an)}(l.mapValue,t.mapValue);case 11:return function(p,_){if(p===yr.mapValue&&_===yr.mapValue)return 0;if(p===yr.mapValue)return 1;if(_===yr.mapValue)return-1;const w=p.fields||{},P=Object.keys(w),G=_.fields||{},re=Object.keys(G);P.sort(),re.sort();for(let Ce=0;Ce<P.length&&Ce<re.length;++Ce){const Xe=Pn(P[Ce],re[Ce]);if(0!==Xe)return Xe;const Dt=Co(w[P[Ce]],G[re[Ce]]);if(0!==Dt)return Dt}return Pn(P.length,re.length)}(l.mapValue,t.mapValue);default:throw je()}}function Pi(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return Pn(l,t);const i=Ro(l),s=Ro(t),u=Pn(i.seconds,s.seconds);return 0!==u?u:Pn(i.nanos,s.nanos)}function To(l,t){const i=l.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=Co(i[u],s[u]);if(p)return p}return Pn(i.length,s.length)}function ha(l){return Ss(l)}function Ss(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=Ro(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?vi(l.bytesValue).toBase64():"referenceValue"in l?$e.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=Ss(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const _ of s)p?p=!1:u+=",",u+=`${_}:${Ss(i.fields[_])}`;return u+"}"}(l.mapValue):je()}function Ko(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function vs(l){return!!l&&"integerValue"in l}function Rs(l){return!!l&&"arrayValue"in l}function Gs(l){return!!l&&"nullValue"in l}function ai(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Vo(l){return!!l&&"mapValue"in l}function Ws(l){var t,i;return"__vector__"===(null===(i=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Ks(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return Pr(l.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Ks(s)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ks(l.arrayValue.values[i]);return t}return Object.assign({},l)}function Uo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const Da={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function el(l){return"nullValue"in l?Ao:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Ko(Bi.empty(),$e.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Ws(l)?Da:{mapValue:{}}:je()}function z(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Ko(Bi.empty(),$e.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?Da:"mapValue"in l?Ws(l)?{mapValue:{}}:yr:je()}function N(l,t){const i=Co(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function Q(l,t){const i=Co(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class B{constructor(t){this.value=t}static empty(){return new B({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Vo(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ks(i)}setAll(t){let i=Kn.emptyPath(),s={},u=[];t.forEach((_,w)=>{if(!i.isImmediateParentOf(w)){const P=this.getFieldsMap(i);this.applyChanges(P,s,u),s={},u=[],i=w.popLast()}_?s[w.lastSegment()]=Ks(_):u.push(w.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(t){const i=this.field(t.popLast());Vo(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return to(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];Vo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){Pr(i,(u,p)=>t[u]=p);for(const u of s)delete t[u]}clone(){return new B(Ks(this.value))}}function de(l){const t=[];return Pr(l.fields,(i,s)=>{const u=new Kn([i]);if(Vo(s)){const p=de(s.mapValue).fields;if(0===p.length)t.push(u);else for(const _ of p)t.push(u.child(_))}else t.push(u)}),new Ci(t)}class Xt{constructor(t,i,s,u,p,_,w){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=_,this.documentState=w}static newInvalidDocument(t){return new Xt(t,0,Fn.min(),Fn.min(),Fn.min(),B.empty(),0)}static newFoundDocument(t,i,s,u){return new Xt(t,1,i,Fn.min(),s,u,0)}static newNoDocument(t,i){return new Xt(t,2,i,Fn.min(),Fn.min(),B.empty(),0)}static newUnknownDocument(t,i){return new Xt(t,3,i,Fn.min(),Fn.min(),B.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=B.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=B.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jn{constructor(t,i){this.position=t,this.inclusive=i}}function Si(l,t,i){let s=0;for(let u=0;u<l.position.length;u++){const p=t[u],_=l.position[u];if(s=p.field.isKeyField()?$e.comparator($e.fromName(_.referenceValue),i.key):Co(_,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function $i(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!to(l.position[i],t.position[i]))return!1;return!0}class Hi{constructor(t,i="asc"){this.field=t,this.dir=i}}function ls(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class Bo{}class Tr extends Bo{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new $o(t,i,s):"array-contains"===i?new bl(t,s):"in"===i?new La(t,s):"not-in"===i?new tl(t,s):"array-contains-any"===i?new nl(t,s):new Tr(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new Fa(t,s):new Dl(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Co(i,this.value)):null!==i&&oo(this.value)===oo(i)&&this.matchesComparison(Co(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Bo{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new li(t,i)}matches(t){return qo(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qo(l){return"and"===l.op}function Fr(l){return"or"===l.op}function Vi(l){return qi(l)&&qo(l)}function qi(l){for(const t of l.filters)if(t instanceof li)return!1;return!0}function Po(l){if(l instanceof Tr)return l.field.canonicalString()+l.op.toString()+ha(l.value);if(Vi(l))return l.filters.map(t=>Po(t)).join(",");{const t=l.filters.map(i=>Po(i)).join(",");return`${l.op}(${t})`}}function lo(l,t){return l instanceof Tr?(s=l,(u=t)instanceof Tr&&s.op===u.op&&s.field.isEqual(u.field)&&to(s.value,u.value)):l instanceof li?function(s,u){return u instanceof li&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,_,w)=>p&&lo(_,u.filters[w]),!0)}(l,t):void je();var s,u}function fa(l,t){const i=l.filters.concat(t);return li.create(i,l.op)}function Ms(l){return l instanceof Tr?`${(i=l).field.canonicalString()} ${i.op} ${ha(i.value)}`:l instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(Ms).join(" ,")+"}"}(l):"Filter";var i}class $o extends Tr{constructor(t,i,s){super(t,i,s),this.key=$e.fromName(s.referenceValue)}matches(t){const i=$e.comparator(t.key,this.key);return this.matchesComparison(i)}}class Fa extends Tr{constructor(t,i){super(t,"in",i),this.keys=pa(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Dl extends Tr{constructor(t,i){super(t,"not-in",i),this.keys=pa(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function pa(l,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>$e.fromName(s.referenceValue))}class bl extends Tr{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Rs(i)&&Wo(i.arrayValue,this.value)}}class La extends Tr{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&Wo(this.value.arrayValue,i)}}class tl extends Tr{constructor(t,i){super(t,"not-in",i)}matches(t){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!Wo(this.value.arrayValue,i)}}class nl extends Tr{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Rs(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wo(this.value.arrayValue,s))}}class ku{constructor(t,i=null,s=[],u=[],p=null,_=null,w=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=_,this.endAt=w,this.ue=null}}function Ps(l,t=null,i=[],s=[],u=null,p=null,_=null){return new ku(l,t,i,s,u,p,_)}function qs(l){const t=me(l);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Po(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),Ft(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ha(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ha(s)).join(",")),t.ue=i}return t.ue}function Xs(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!ls(l.orderBy[i],t.orderBy[i]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!lo(l.filters[i],t.filters[i]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!$i(l.startAt,t.startAt)&&$i(l.endAt,t.endAt)}function ga(l){return $e.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Va(l,t){return l.filters.filter(i=>i instanceof Tr&&i.field.isEqual(t))}function Ns(l,t,i){let s=Ao,u=!0;for(const p of Va(l,t)){let _=Ao,w=!0;switch(p.op){case"<":case"<=":_=el(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,w=!1;break;case"!=":case"not-in":_=Ao}N({value:s,inclusive:u},{value:_,inclusive:w})<0&&(s=_,u=w)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(t)){const _=i.position[p];N({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function wl(l,t,i){let s=yr,u=!0;for(const p of Va(l,t)){let _=yr,w=!0;switch(p.op){case">=":case">":_=z(p.value),w=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,w=!1;break;case"!=":case"not-in":_=yr}Q({value:s,inclusive:u},{value:_,inclusive:w})>0&&(s=_,u=w)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(t)){const _=i.position[p];Q({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class jo{constructor(t,i=null,s=[],u=[],p=null,_="F",w=null,P=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=_,this.startAt=w,this.endAt=P,this.ce=null,this.le=null,this.he=null}}function Ua(l,t,i,s,u,p,_,w){return new jo(l,t,i,s,u,p,_,w)}function ma(l){return new jo(l)}function ba(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Qs(l){return null!==l.collectionGroup}function Do(l){const t=me(l);if(null===t.ce){t.ce=[];const i=new Set;for(const p of t.explicitOrderBy)t.ce.push(p),i.add(p.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(_){let w=new xr(Kn.comparator);return _.filters.forEach(P=>{P.getFlattenedFilters().forEach(G=>{G.isInequality()&&(w=w.add(G.field))})}),w})(t).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||t.ce.push(new Hi(p,s))}),i.has(Kn.keyField().canonicalString())||t.ce.push(new Hi(Kn.keyField(),s))}return t.ce}function Ni(l){const t=me(l);return t.le||(t.le=function wa(l,t){if("F"===l.limitType)return Ps(l.path,l.collectionGroup,t,l.filters,l.limit,l.startAt,l.endAt);{t=t.map(u=>new Hi(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new Jn(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Jn(l.startAt.position,l.startAt.inclusive):null;return Ps(l.path,l.collectionGroup,t,l.filters,l.limit,i,s)}}(t,Do(l))),t.le}function A(l,t){const i=l.filters.concat([t]);return new jo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function M(l,t,i){return new jo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,i,l.startAt,l.endAt)}function j(l,t){return Xs(Ni(l),Ni(t))&&l.limitType===t.limitType}function I(l){return`${qs(Ni(l))}|lt:${l.limitType}`}function V(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Ms(u)).join(", ")}]`),Ft(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ha(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ha(u)).join(",")),`Target(${s})`}(Ni(l))}; limitType=${l.limitType})`}function te(l,t){return t.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):$e.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,t)&&function(s,u){for(const p of Do(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(l,t)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(l,t)&&(u=t,!((s=l).startAt&&!function(_,w,P){const G=Si(_,w,P);return _.inclusive?G<=0:G<0}(s.startAt,Do(s),u)||s.endAt&&!function(_,w,P){const G=Si(_,w,P);return _.inclusive?G>=0:G>0}(s.endAt,Do(s),u)));var s,u}function Ut(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function mn(l){return(t,i)=>{let s=!1;for(const u of Do(l)){const p=Un(u,t,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function Un(l,t,i){const s=l.field.isKeyField()?$e.comparator(t.key,i.key):function(p,_,w){const P=_.data.field(p),G=w.data.field(p);return null!==P&&null!==G?Co(P,G):je()}(l.field,t,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return je()}}class D{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,t))return p}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],t))return void(u[p]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,(i,s)=>{for(const[u,p]of s)t(u,p)})}isEmpty(){return wi(this.inner)}size(){return this.innerSize}}const U=new ar($e.comparator);function fe(){return U}const L=new ar($e.comparator);function Z(...l){let t=L;for(const i of l)t=t.insert(i.key,i);return t}function Pe(l){let t=L;return l.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function bt(){return lr()}function cn(){return lr()}function lr(){return new D(l=>l.toString(),(l,t)=>l.isEqual(t))}const ni=new ar($e.comparator),ri=new xr($e.comparator);function Rn(...l){let t=ri;for(const i of l)t=t.add(i);return t}const Fi=new xr(Pn);function _i(){return Fi}function Xi(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vr(t)?"-0":t}}function zi(l){return{integerValue:""+l}}function Qr(l,t){return fs(t)?zi(t):Xi(l,t)}class hn{constructor(){this._=void 0}}function Zn(l,t,i){return l instanceof xi?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Mo(p)&&(p=Lo(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,t):l instanceof Yi?Ys(l,t):l instanceof yi?Ji(l,t):function(u,p){const _=yo(u,p),w=Ir(_)+Ir(u.Pe);return vs(_)&&vs(u.Pe)?zi(w):Xi(u.serializer,w)}(l,t)}function Qi(l,t,i){return l instanceof Yi?Ys(l,t):l instanceof yi?Ji(l,t):i}function yo(l,t){return l instanceof Ho?vs(s=t)||(p=s)&&"doubleValue"in p?t:{integerValue:0}:null;var s,p}class xi extends hn{}class Yi extends hn{constructor(t){super(),this.elements=t}}function Ys(l,t){const i=Ba(t);for(const s of l.elements)i.some(u=>to(u,s))||i.push(s);return{arrayValue:{values:i}}}class yi extends hn{constructor(t){super(),this.elements=t}}function Ji(l,t){let i=Ba(t);for(const s of l.elements)i=i.filter(u=>!to(u,s));return{arrayValue:{values:i}}}class Ho extends hn{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Ir(l){return si(l.integerValue||l.doubleValue)}function Ba(l){return Rs(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Xo{constructor(t,i){this.field=t,this.transform=i}}class uo{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function il(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class Io{}function $a(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new Js(l.key,bi.none()):new er(l.key,l.data,bi.none());{const i=l.data,s=B.empty();let u=new xr(Kn.comparator);for(let p of t.fields)if(!u.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?s.delete(p):s.set(p,_),u=u.add(p)}return new _s(l.key,s,new Ci(u.toArray()),bi.none())}}function Fu(l,t,i){l instanceof er?function(u,p,_){const w=u.value.clone(),P=xs(u.fieldTransforms,p,_.transformResults);w.setAll(P),p.convertToFoundDocument(_.version,w).setHasCommittedMutations()}(l,t,i):l instanceof _s?function(u,p,_){if(!il(u.precondition,p))return void p.convertToUnknownDocument(_.version);const w=xs(u.fieldTransforms,p,_.transformResults),P=p.data;P.setAll(eu(u)),P.setAll(w),p.convertToFoundDocument(_.version,P).setHasCommittedMutations()}(l,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function zo(l,t,i,s){return l instanceof er?function(p,_,w,P){if(!il(p.precondition,_))return w;const G=p.value.clone(),re=Lu(p.fieldTransforms,P,_);return G.setAll(re),_.convertToFoundDocument(_.version,G).setHasLocalMutations(),null}(l,t,i,s):l instanceof _s?function(p,_,w,P){if(!il(p.precondition,_))return w;const G=Lu(p.fieldTransforms,P,_),re=_.data;return re.setAll(eu(p)),re.setAll(G),_.convertToFoundDocument(_.version,re).setHasLocalMutations(),null===w?null:w.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Ce=>Ce.field))}(l,t,i,s):(w=i,il(l.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):w);var _,w}function Zl(l,t){let i=null;for(const s of l.fieldTransforms){const u=t.data.field(s.field),p=yo(s.transform,u||null);null!=p&&(null===i&&(i=B.empty()),i.set(s.field,p))}return i||null}function Ri(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Wr(s,u,(p,_)=>function Sl(l,t){return l.field.isEqual(t.field)&&(u=t.transform,(s=l.transform)instanceof Yi&&u instanceof Yi||s instanceof yi&&u instanceof yi?Wr(s.elements,u.elements,to):s instanceof Ho&&u instanceof Ho?to(s.Pe,u.Pe):s instanceof xi&&u instanceof xi);var s,u}(p,_))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var s,u}class er extends Io{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class _s extends Io{constructor(t,i,s,u,p=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function eu(l){const t=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);t.set(i,s)}}),t}function xs(l,t,i){const s=new Map;Ne(l.length===i.length);for(let u=0;u<i.length;u++){const p=l[u],_=p.transform,w=t.data.field(p.field);s.set(p.field,Qi(_,w,i[u]))}return s}function Lu(l,t,i){const s=new Map;for(const u of l){const p=u.transform,_=i.data.field(u.field);s.set(u.field,Zn(p,_,t))}return s}class Js extends Io{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class no extends Io{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tu{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(t.key)&&Fu(p,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=zo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=zo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=cn();return this.mutations.forEach(u=>{const p=t.get(u.key),_=p.overlayedDocument;let w=this.applyToLocalView(_,p.mutatedFields);w=i.has(u.key)?null:w;const P=$a(_,w);null!==P&&s.set(u.key,P),_.isValidDocument()||_.convertToNoDocument(Fn.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Rn())}isEqual(t){return this.batchId===t.batchId&&Wr(this.mutations,t.mutations,(i,s)=>Ri(i,s))&&Wr(this.baseMutations,t.baseMutations,(i,s)=>Ri(i,s))}}class Zi{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){Ne(t.mutations.length===s.length);let u=function(){return ni}();const p=t.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,s[_].version);return new Zi(t,i,s,u)}}class wo{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class va{constructor(t,i){this.count=t,this.unchangedNames=i}}var so,Lr;function ol(l){switch(l){default:return je();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function nu(l){if(void 0===l)return qn("GRPC error has no .code"),oe.UNKNOWN;switch(l){case so.OK:return oe.OK;case so.CANCELLED:return oe.CANCELLED;case so.UNKNOWN:return oe.UNKNOWN;case so.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case so.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case so.INTERNAL:return oe.INTERNAL;case so.UNAVAILABLE:return oe.UNAVAILABLE;case so.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case so.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case so.NOT_FOUND:return oe.NOT_FOUND;case so.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case so.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case so.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case so.ABORTED:return oe.ABORTED;case so.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case so.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case so.DATA_LOSS:return oe.DATA_LOSS;default:return je()}}(Lr=so||(so={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";function Rl(){return new TextEncoder}const Cd=new Ot([4294967295,4294967295],0);function Sh(l){const t=Rl().encode(l),i=new En;return i.update(t),new Uint8Array(i.digest())}function Tc(l){const t=new DataView(l.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),p=t.getUint32(12,!0);return[new Ot([i,s],0),new Ot([u,p],0)]}class sp{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ha(`Invalid padding: ${i}`);if(s<0)throw new Ha(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Ha(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new Ha(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Ot.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(Ot.fromNumber(s)));return 1===u.compare(Cd)&&(u=new Ot([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=Sh(t),[s,u]=Tc(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);if(!this.de(_))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,p=new Uint8Array(Math.ceil(t/8)),_=new sp(p,u,i);return s.forEach(w=>_.insert(w)),_}insert(t){if(0===this.Ie)return;const i=Sh(t),[s,u]=Tc(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);this.Ae(_)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(t,i,s,u,p){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,T.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Dc(Fn.min(),u,new ar(Pn),fe(),Rn())}}class T{constructor(t,i,s,u,p){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new T(s,i,Rn(),Rn(),Rn())}}class R{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class x{constructor(t,i){this.targetId=t,this.me=i}}class S{constructor(t,i,s=ui.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class O{constructor(){this.fe=0,this.ge=_t(),this.pe=ui.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Rn(),i=Rn(),s=Rn();return this.ge.forEach((u,p)=>{switch(p){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:je()}}),new T(this.pe,this.ye,t,i,s)}Ce(){this.we=!1,this.ge=_t()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ie{constructor(t){this.Le=t,this.Be=new Map,this.ke=fe(),this.qe=le(),this.Qe=new ar(Pn)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:je()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const p=u.target;if(ga(p))if(0===s){const _=new $e(p.path);this.Ue(i,_,Xt.newNoDocument(_,Fn.min()))}else Ne(1===s);else{const _=this.Ye(i);if(_!==s){const w=this.Ze(t),P=w?this.Xe(w,t,_):1;0!==P&&(this.je(i),this.Qe=this.Qe.insert(i,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let _,w;try{_=vi(s).toUint8Array()}catch(P){if(P instanceof ws)return zr("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{w=new sp(_,u,p)}catch(P){return zr(P instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===w.Ie?null:w}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const _=this.Le.tt(),w=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.mightContain(w)||(this.Ue(i,p,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((p,_)=>{const w=this.Je(_);if(w){if(p.current&&ga(w.target)){const P=new $e(w.target.path);null!==this.ke.get(P)||this.it(_,P)||this.Ue(_,P,Xt.newNoDocument(P,t))}p.be&&(i.set(_,p.ve()),p.Ce())}});let s=Rn();this.qe.forEach((p,_)=>{let w=!0;_.forEachWhile(P=>{const G=this.Je(P);return!G||"TargetPurposeLimboResolution"===G.purpose||(w=!1,!1)}),w&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(t));const u=new Dc(t,i,this.Qe,this.ke,s);return this.ke=fe(),this.qe=le(),this.Qe=new ar(Pn),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new O,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new xr(Pn),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||Kt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new O),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function le(){return new ar($e.comparator)}function _t(){return new ar($e.comparator)}const nn={asc:"ASCENDING",desc:"DESCENDING"},At={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nn={and:"AND",or:"OR"};class Dr{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ii(l,t){return l.useProto3Json||Ft(t)?t:{value:t}}function Er(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function co(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function us(l,t){return Er(l,t.toTimestamp())}function Ei(l){return Ne(!!l),Fn.fromTimestamp(function(i){const s=Ro(i);return new Hr(s.seconds,s.nanos)}(l))}function Zs(l,t){return Qo(l,t).canonicalString()}function Qo(l,t){const i=(u=l,new pr(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function sl(l){const t=pr.fromString(l);return Ne(Rc(t)),t}function al(l,t){return Zs(l.databaseId,t.path)}function Yo(l,t){const i=sl(t);if(i.get(1)!==l.databaseId.projectId)throw new We(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new We(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new $e(Td(i))}function bc(l,t){return Zs(l.databaseId,t)}function ll(l){const t=sl(l);return 4===t.length?pr.emptyPath():Td(t)}function Ml(l){return new pr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Td(l){return Ne(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Sa(l,t,i){return{name:al(l,t),fields:i.value.mapValue.fields}}function wc(l,t,i){const s=Yo(l,t.name),u=Ei(t.updateTime),p=t.createTime?Ei(t.createTime):Fn.min(),_=new B({mapValue:{fields:t.fields}}),w=Xt.newFoundDocument(s,u,p,_);return i&&w.setHasCommittedMutations(),i?w.setHasCommittedMutations():w}function ul(l,t){let i;if(t instanceof er)i={update:Sa(l,t.key,t.value)};else if(t instanceof Js)i={delete:al(l,t.key)};else if(t instanceof _s)i={update:Sa(l,t.key,t.data),updateMask:ou(t.fieldMask)};else{if(!(t instanceof no))return je();i={verify:al(l,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(p,_){const w=_.transform;if(w instanceof xi)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Yi)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof yi)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof Ho)return{fieldPath:_.field.canonicalString(),increment:w.Pe};throw je()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:us(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:je()),i;var p}function iu(l,t){const i=t.currentDocument?void 0!==(p=t.currentDocument).updateTime?bi.updateTime(Ei(p.updateTime)):void 0!==p.exists?bi.exists(p.exists):bi.none():bi.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(_,w){let P=null;"setToServerValue"in w?(Ne("REQUEST_TIME"===w.setToServerValue),P=new xi):"appendMissingElements"in w?P=new Yi(w.appendMissingElements.values||[]):"removeAllFromArray"in w?P=new yi(w.removeAllFromArray.values||[]):"increment"in w?P=new Ho(_,w.increment):je();const G=Kn.fromServerFormat(w.fieldPath);return new Xo(G,P)}(l,u)):[];var p;if(t.update){const u=Yo(l,t.update.name),p=new B({mapValue:{fields:t.update.fields}});if(t.updateMask){const _=new Ci((t.updateMask.fieldPaths||[]).map(re=>Kn.fromServerFormat(re)));return new _s(u,p,_,i,s)}return new er(u,p,i,s)}if(t.delete){const u=Yo(l,t.delete);return new Js(u,i)}if(t.verify){const u=Yo(l,t.verify);return new no(u,i)}return je()}function ap(l,t){return{documents:[bc(l,t.path)]}}function za(l,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=bc(l,u);const p=function(G){if(0!==G.length)return Sc(li.create(G,"and"))}(t.filters);p&&(i.structuredQuery.where=p);const _=function(G){if(0!==G.length)return G.map(re=>{return{field:Ra((Xe=re).field),direction:cm(Xe.dir)};var Xe})}(t.orderBy);_&&(i.structuredQuery.orderBy=_);const w=Ii(l,t.limit);return null!==w&&(i.structuredQuery.limit=w),t.startAt&&(i.structuredQuery.startAt={before:(G=t.startAt).inclusive,values:G.position}),t.endAt&&(i.structuredQuery.endAt=function(G){return{before:!G.inclusive,values:G.position}}(t.endAt)),{_t:i,parent:u};var G}function Os(l){let t=ll(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ne(1===s);const re=i.from[0];re.allDescendants?u=re.collectionId:t=t.child(re.collectionId)}let p=[];i.where&&(p=function(Ce){const Xe=Uu(Ce);return Xe instanceof li&&Vi(Xe)?Xe.getFilters():[Xe]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(Xe=>{return new Hi(dl((an=Xe).field),function(ln){switch(ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(an.direction));var an}));let w=null;i.limit&&(w=function(Ce){let Xe;return Xe="object"==typeof Ce?Ce.value:Ce,Ft(Xe)?null:Xe}(i.limit));let P=null;var Ce;i.startAt&&(P=new Jn((Ce=i.startAt).values||[],!!Ce.before));let G=null;return i.endAt&&(G=function(Ce){return new Jn(Ce.values||[],!Ce.before)}(i.endAt)),Ua(t,u,_,p,w,"F",P,G)}function Uu(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=dl(i.unaryFilter.field);return Tr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=dl(i.unaryFilter.field);return Tr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=dl(i.unaryFilter.field);return Tr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=dl(i.unaryFilter.field);return Tr.create(_,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(l):void 0!==l.fieldFilter?Tr.create(dl((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return li.create(i.compositeFilter.filters.map(s=>Uu(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return je()}}(i.compositeFilter.op))}(l):je();var i}function cm(l){return nn[l]}function ks(l){return At[l]}function lp(l){return Nn[l]}function Ra(l){return{fieldPath:l.canonicalString()}}function dl(l){return Kn.fromServerFormat(l.fieldPath)}function Sc(l){return l instanceof Tr?function(i){if("=="===i.op){if(ai(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NAN"}};if(Gs(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(ai(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NOT_NAN"}};if(Gs(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(i.field),op:ks(i.op),value:i.value}}}(l):l instanceof li?function(i){const s=i.getFilters().map(u=>Sc(u));return 1===s.length?s[0]:{compositeFilter:{op:lp(i.op),filters:s}}}(l):je()}function ou(l){const t=[];return l.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Rc(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class _a{constructor(t,i,s,u,p=Fn.min(),_=Fn.min(),w=ui.EMPTY_BYTE_STRING,P=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=w,this.expectedCount=P}withSequenceNumber(t){return new _a(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Bu{constructor(t){this.ct=t}}function br(l,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:su(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:al(p=l.ct,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:Er(p,_.version.toTimestamp()),createTime:Er(p,_.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:Pa(t.version)};else{if(!t.isUnknownDocument())return je();s.unknownDocument={path:i.path.toArray(),version:Pa(t.version)}}var p,_;return s}function su(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function Pa(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hl(l){const t=new Hr(l.seconds,l.nanoseconds);return Fn.fromTimestamp(t)}function au(l,t){const i=(t.baseMutations||[]).map(p=>iu(l.ct,p));for(let p=0;p<t.mutations.length-1;++p)p+1<t.mutations.length&&void 0!==t.mutations[p+1].transform&&(t.mutations[p].updateTransforms=t.mutations[p+1].transform.fieldTransforms,t.mutations.splice(p+1,1),++p);const s=t.mutations.map(p=>iu(l.ct,p)),u=Hr.fromMillis(t.localWriteTimeMs);return new tu(t.batchId,u,i,s)}function Mc(l){const t=hl(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?hl(l.lastLimboFreeSnapshotVersion):Fn.min();let s;return s=void 0!==l.query.documents?(Ne(1===(p=l.query).documents.length),Ni(ma(ll(p.documents[0])))):function(p){return Ni(Os(p))}(l.query),new _a(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,i,ui.fromBase64String(l.resumeToken));var p}function up(l,t){const i=Pa(t.snapshotVersion),s=Pa(t.lastLimboFreeSnapshotVersion);let u;u=ga(t.target)?ap(l.ct,t.target):za(l.ct,t.target)._t;const p=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qs(t.target),readTime:i,resumeToken:p,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Pc(l){const t=Os({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?M(t,t.limit,"L"):t}function Dd(l,t){return new wo(t.largestBatchId,iu(l.ct,t.overlayMutation))}function Pl(l,t){const i=t.path.lastSegment();return[l,Mi(t.path.popLast()),i]}function bd(l,t,i,s){return{indexId:l,uid:t,sequenceNumber:i,readTime:Pa(s.readTime),documentKey:Mi(s.documentKey.path),largestBatchId:s.largestBatchId}}class dm{getBundleMetadata(t,i){return cp(t).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:hl(p.createTime),version:p.version};var p})}saveBundleMetadata(t,i){return cp(t).put({bundleId:(u=i).id,createTime:Pa(Ei(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return wd(t).get(i).next(s=>{if(s)return{name:(p=s).name,query:Pc(p.bundledQuery),readTime:hl(p.readTime)};var p})}saveNamedQuery(t,i){return wd(t).put({name:(u=i).name,readTime:Pa(Ei(u.readTime)),bundledQuery:u.bundledQuery});var u}}function cp(l){return Sn(l,"bundles")}function wd(l){return Sn(l,"namedQueries")}class Sd{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new Sd(t,i.uid||"")}getOverlay(t,i){return Yt(t).get(Pl(this.userId,i)).next(s=>s?Dd(this.serializer,s):null)}getOverlays(t,i){const s=bt();return Le.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((p,_)=>{const w=new wo(i,_);u.push(this.ht(t,w))}),Le.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(_=>u.add(Mi(_.getCollectionPath())));const p=[];return u.forEach(_=>{const w=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(Yt(t).j("collectionPathOverlayIndex",w))}),Le.waitFor(p)}getOverlaysForCollection(t,i,s){const u=bt(),p=Mi(i),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Yt(t).U("collectionPathOverlayIndex",_).next(w=>{for(const P of w){const G=Dd(this.serializer,P);u.set(G.getKey(),G)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const p=bt();let _;const w=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Yt(t).J({index:"collectionGroupOverlayIndex",range:w},(P,G,re)=>{const Ce=Dd(this.serializer,G);p.size()<u||Ce.largestBatchId===_?(p.set(Ce.getKey(),Ce),_=Ce.largestBatchId):re.done()}).next(()=>p)}ht(t,i){return Yt(t).put(function(u,p,_){const[w,P,G]=Pl(p,_.mutation.key);return{userId:p,collectionPath:P,documentId:G,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:ul(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function Yt(l){return Sn(l,"documentOverlays")}class ei{Pt(t){return Sn(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?ui.fromUint8Array(s):ui.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class Ga{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(si(t.integerValue));else if("doubleValue"in t){const s=si(t.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),vr(s)?i.At(0):i.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(i,20),"string"==typeof s&&(s=Ro(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(vi(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in t?Uo(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Ws(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):je()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const s=t.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(t,i){var s,u;const p=t.fields||{};this.dt(i,53);const _="value",w=(null===(u=null===(s=p[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(si(w)),this.Vt(_,i),this.Tt(p[_],i)}bt(t,i){const s=t.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(t,i){this.dt(i,37),$e.fromName(t).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function Rh(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function Oi(l){const t=64-function(s){let u=0;for(let p=0;p<8;++p){const _=Rh(255&s[p]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(t/8)}Ga.vt=new Ga;class dp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const i=this.qt(t),s=Oi(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(t){const i=this.qt(t),s=Oi(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class $u{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class ya{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Nl{constructor(){this.jt=new dp,this.Ht=new $u(this.jt),this.Jt=new ya(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class fl{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new fl(this.indexId,this.documentKey,this.arrayValue,s)}}function Wa(l,t){let i=l.indexId-t.indexId;return 0!==i?i:(i=Mh(l.arrayValue,t.arrayValue),0!==i?i:(i=Mh(l.directionalValue,t.directionalValue),0!==i?i:$e.comparator(l.documentKey,t.documentKey)))}function Mh(l,t){for(let i=0;i<l.length&&i<t.length;++i){const s=l[i]-t[i];if(0!==s)return s}return l.length-t.length}class hm{constructor(t){this.Xt=new xr((i,s)=>Kn.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(Ne(t.collectionGroup===this.collectionId),this.nn)return!1;const i=zt(t);if(void 0!==i&&!this.sn(i))return!1;const s=yn(t);let u=new Set,p=0,_=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const w=this.Xt.getIterator().getNext();if(!u.has(w.field.canonicalString())){const P=s[p];if(!this.on(w,P)||!this._n(this.en[_++],P))return!1}++p}for(;p<s.length;++p)if(_>=this.en.length||!this._n(this.en[_++],s[p]))return!1;return!0}an(){if(this.nn)return null;let t=new xr(Kn.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Gt(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new Gt(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new Gt(s.field,"asc"===s.dir?0:1)));return new it(it.UNKNOWN_ID,this.collectionId,i,Gn.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Ph(l){var t,i;if(Ne(l instanceof Tr||l instanceof li),l instanceof Tr){if(l instanceof La){const u=(null===(i=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(p=>Tr.create(l.field,"==",p)))||[];return li.create(u,"or")}return l}const s=l.filters.map(u=>Ph(u));return li.create(s,l.op)}function hp(l){if(0===l.getFilters().length)return[];const t=Nc(Ph(l));return Ne(Ka(t)),ju(t)||Jo(t)?[t]:t.getFilters()}function ju(l){return l instanceof Tr}function Jo(l){return l instanceof li&&Vi(l)}function Ka(l){return ju(l)||Jo(l)||function(i){if(i instanceof li&&Fr(i)){for(const s of i.getFilters())if(!ju(s)&&!Jo(s))return!1;return!0}return!1}(l)}function Nc(l){if(Ne(l instanceof Tr||l instanceof li),l instanceof Tr)return l;if(1===l.filters.length)return Nc(l.filters[0]);const t=l.filters.map(s=>Nc(s));let i=li.create(t,l.op);return i=Rd(i),Ka(i)?i:(Ne(i instanceof li),Ne(qo(i)),Ne(i.filters.length>1),i.filters.reduce((s,u)=>ea(s,u)))}function ea(l,t){let i;return Ne(l instanceof Tr||l instanceof li),Ne(t instanceof Tr||t instanceof li),i=l instanceof Tr?t instanceof Tr?li.create([l,t],"and"):ta(l,t):t instanceof Tr?ta(t,l):function(u,p){if(Ne(u.filters.length>0&&p.filters.length>0),qo(u)&&qo(p))return fa(u,p.getFilters());const _=Fr(u)?u:p,w=Fr(u)?p:u,P=_.filters.map(G=>ea(G,w));return li.create(P,"or")}(l,t),Rd(i)}function ta(l,t){if(qo(t))return fa(t,l.getFilters());{const i=t.filters.map(s=>ea(l,s));return li.create(i,"or")}}function Rd(l){if(Ne(l instanceof Tr||l instanceof li),l instanceof Tr)return l;const t=l.getFilters();if(1===t.length)return Rd(t[0]);if(qi(l))return l;const i=t.map(u=>Rd(u)),s=[];return i.forEach(u=>{u instanceof Tr?s.push(u):u instanceof li&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:li.create(s,l.op)}class fp{constructor(){this.un=new Nh}addToCollectionParentIndex(t,i){return this.un.add(i),Le.resolve()}getCollectionParents(t,i){return Le.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return Le.resolve()}deleteFieldIndex(t,i){return Le.resolve()}deleteAllFieldIndexes(t){return Le.resolve()}createTargetIndexes(t,i){return Le.resolve()}getDocumentsMatchingTarget(t,i){return Le.resolve(null)}getIndexType(t,i){return Le.resolve(0)}getFieldIndexes(t,i){return Le.resolve([])}getNextCollectionGroupToUpdate(t){return Le.resolve(null)}getMinOffset(t,i){return Le.resolve(Ae.min())}getMinOffsetFromCollectionGroup(t,i){return Le.resolve(Ae.min())}updateCollectionGroup(t,i,s){return Le.resolve()}updateIndexEntries(t,i){return Le.resolve()}}class Nh{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new xr(pr.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new xr(pr.comparator)).toArray()}}const Md=new Uint8Array(0);class xh{constructor(t,i){this.databaseId=i,this.cn=new Nh,this.ln=new D(s=>qs(s),(s,u)=>Xs(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const p={collectionId:s,parent:Mi(u)};return Pd(t).put(p)}return Le.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[Hn(i),""],!1,!0);return Pd(t).U(u).next(p=>{for(const _ of p){if(_.collectionId!==i)break;s.push(Gi(_.parent))}return s})}addFieldIndex(t,i){const s=Ol(t),u={indexId:(w=i).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var w;delete u.indexId;const p=s.add(u);if(i.indexState){const _=kl(t);return p.next(w=>{_.put(bd(w,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(t,i){const s=Ol(t),u=kl(t),p=xl(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Ol(t),s=xl(t),u=kl(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return Le.forEach(this.hn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const p=new hm(s).an();if(null!=p)return this.addFieldIndex(t,p)}}))}getDocumentsMatchingTarget(t,i){const s=xl(t);let u=!0;const p=new Map;return Le.forEach(this.hn(i),_=>this.Pn(t,_).next(w=>{u&&(u=!!w),p.set(_,w)})).next(()=>{if(u){let _=Rn();const w=[];return Le.forEach(p,(P,G)=>{var cr;Kt("IndexedDbIndexManager",`Using index ${cr=P,`id=${cr.indexId}|cg=${cr.collectionGroup}|f=${cr.fields.map(nr=>`${nr.fieldPath}:${nr.kind}`).join(",")}`} to execute ${qs(i)}`);const re=function(cr,nr){const Jr=zt(nr);if(void 0===Jr)return null;for(const _r of Va(cr,Jr.fieldPath))switch(_r.op){case"array-contains-any":return _r.value.arrayValue.values||[];case"array-contains":return[_r.value]}return null}(G,P),Ce=function(cr,nr){const Jr=new Map;for(const _r of yn(nr))for(const mt of Va(cr,_r.fieldPath))switch(mt.op){case"==":case"in":Jr.set(_r.fieldPath.canonicalString(),mt.value);break;case"not-in":case"!=":return Jr.set(_r.fieldPath.canonicalString(),mt.value),Array.from(Jr.values())}return null}(G,P),Xe=function(cr,nr){const Jr=[];let _r=!0;for(const mt of yn(nr)){const He=0===mt.kind?Ns(cr,mt.fieldPath,cr.startAt):wl(cr,mt.fieldPath,cr.startAt);Jr.push(He.value),_r&&(_r=He.inclusive)}return new Jn(Jr,_r)}(G,P),Dt=function(cr,nr){const Jr=[];let _r=!0;for(const mt of yn(nr)){const He=0===mt.kind?wl(cr,mt.fieldPath,cr.endAt):Ns(cr,mt.fieldPath,cr.endAt);Jr.push(He.value),_r&&(_r=He.inclusive)}return new Jn(Jr,_r)}(G,P),an=this.In(P,G,Xe),fn=this.In(P,G,Dt),ln=this.Tn(P,G,Ce),Vn=this.En(P.indexId,re,an,Xe.inclusive,fn,Dt.inclusive,ln);return Le.forEach(Vn,or=>s.G(or,i.limit).next(cr=>{cr.forEach(nr=>{const Jr=$e.fromSegments(nr.documentKey);_.has(Jr)||(_=_.add(Jr),w.push(Jr))})}))}).next(()=>w)}return Le.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:hp(li.create(t.filters,"and")).map(s=>Ps(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,s,u,p,_,w){const P=(null!=i?i.length:1)*Math.max(s.length,p.length),G=P/(null!=i?i.length:1),re=[];for(let Ce=0;Ce<P;++Ce){const Xe=i?this.dn(i[Ce/G]):Md,Dt=this.An(t,Xe,s[Ce%G],u),an=this.Rn(t,Xe,p[Ce%G],_),fn=w.map(ln=>this.An(t,Xe,ln,!0));re.push(...this.createRange(Dt,an,fn))}return re}An(t,i,s,u){const p=new fl(t,$e.empty(),i,s);return u?p:p.Zt()}Rn(t,i,s,u){const p=new fl(t,$e.empty(),i,s);return u?p.Zt():p}Pn(t,i){const s=new hm(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(p=>{let _=null;for(const w of p)s.rn(w)&&(!_||w.fields.length>_.fields.length)&&(_=w);return _})}getIndexType(t,i){let s=2;const u=this.hn(i);return Le.forEach(u,p=>this.Pn(t,p).next(_=>{_?0!==s&&_.fields.length<function(P){let G=new xr(Kn.comparator),re=!1;for(const Ce of P.filters)for(const Xe of Ce.getFlattenedFilters())Xe.field.isKeyField()||("array-contains"===Xe.op||"array-contains-any"===Xe.op?re=!0:G=G.add(Xe.field));for(const Ce of P.orderBy)Ce.field.isKeyField()||(G=G.add(Ce.field));return G.size+(re?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(t,i){const s=new Nl;for(const u of yn(t)){const p=i.data.field(u.fieldPath);if(null==p)return null;const _=s.Yt(u.kind);Ga.vt.It(p,_)}return s.zt()}dn(t){const i=new Nl;return Ga.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const s=new Nl;return Ga.vt.It(Ko(this.databaseId,i),s.Yt(function(p){const _=yn(p);return 0===_.length?0:_[_.length-1].kind}(t))),s.zt()}Tn(t,i,s){if(null===s)return[];let u=[];u.push(new Nl);let p=0;for(const _ of yn(t)){const w=s[p++];for(const P of u)if(this.fn(i,_.fieldPath)&&Rs(w))u=this.gn(u,_,w);else{const G=P.Yt(_.kind);Ga.vt.It(w,G)}}return this.pn(u)}In(t,i,s){return this.Tn(t,i,s.position)}pn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].zt();return i}gn(t,i,s){const u=[...t],p=[];for(const _ of s.arrayValue.values||[])for(const w of u){const P=new Nl;P.seed(w.zt()),Ga.vt.It(_,P.Yt(i.kind)),p.push(P)}return p}fn(t,i){return!!t.filters.find(s=>s instanceof Tr&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=Ol(t),u=kl(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const _=[];return Le.forEach(p,w=>u.get([w.indexId,this.uid]).next(P=>{_.push(function(re,Ce){const Xe=Ce?new Gn(Ce.sequenceNumber,new Ae(hl(Ce.readTime),new $e(Gi(Ce.documentKey)),Ce.largestBatchId)):Gn.empty(),Dt=re.fields.map(([an,fn])=>new Gt(Kn.fromServerFormat(an),fn));return new it(re.indexId,re.collectionGroup,Dt,Xe)}(w,P))})).next(()=>_)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:Pn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=Ol(t),p=kl(t);return this.yn(t).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(w=>Le.forEach(w,P=>p.put(bd(P.indexId,this.uid,_,s)))))}updateIndexEntries(t,i){const s=new Map;return Le.forEach(i,(u,p)=>{const _=s.get(u.collectionGroup);return(_?Le.resolve(_):this.getFieldIndexes(t,u.collectionGroup)).next(w=>(s.set(u.collectionGroup,w),Le.forEach(w,P=>this.wn(t,u,P).next(G=>{const re=this.Sn(p,P);return G.isEqual(re)?Le.resolve():this.bn(t,p,P,G,re)}))))})}Dn(t,i,s,u){return xl(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(t,i,s,u){return xl(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(t,i,s){const u=xl(t);let p=new xr(Wa);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,w)=>{p=p.add(new fl(s.indexId,i,w.arrayValue,w.directionalValue))}).next(()=>p)}Sn(t,i){let s=new xr(Wa);const u=this.Vn(i,t);if(null==u)return s;const p=zt(i);if(null!=p){const _=t.data.field(p.fieldPath);if(Rs(_))for(const w of _.arrayValue.values||[])s=s.add(new fl(i.indexId,t.key,this.dn(w),u))}else s=s.add(new fl(i.indexId,t.key,Md,u));return s}bn(t,i,s,u,p){Kt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(P,G,re,Ce,Xe){const Dt=P.getIterator(),an=G.getIterator();let fn=ao(Dt),ln=ao(an);for(;fn||ln;){let Vn=!1,or=!1;if(fn&&ln){const cr=re(fn,ln);cr<0?or=!0:cr>0&&(Vn=!0)}else null!=fn?or=!0:Vn=!0;Vn?(Ce(ln),ln=ao(an)):or?(Xe(fn),fn=ao(Dt)):(fn=ao(Dt),ln=ao(an))}}(u,p,Wa,w=>{_.push(this.Dn(t,i,s,w))},w=>{_.push(this.vn(t,i,s,w))}),Le.waitFor(_)}yn(t){let i=1;return kl(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((_,w)=>Wa(_,w)).filter((_,w,P)=>!w||0!==Wa(_,P[w-1]));const u=[];u.push(t);for(const _ of s){const w=Wa(_,t),P=Wa(_,i);if(0===w)u[0]=t.Zt();else if(w>0&&P<0)u.push(_),u.push(_.Zt());else if(P>0)break}u.push(i);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Md,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Md,[]]))}return p}Cn(t,i){return Wa(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Oh)}getMinOffset(t,i){return Le.mapArray(this.hn(i),s=>this.Pn(t,s).next(u=>u||je())).next(Oh)}}function Pd(l){return Sn(l,"collectionParents")}function xl(l){return Sn(l,"indexEntries")}function Ol(l){return Sn(l,"indexConfiguration")}function kl(l){return Sn(l,"indexState")}function Oh(l){Ne(0!==l.length);let t=l[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;Ze(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Ae(t.readTime,t.documentKey,i)}const Nd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new Zo(t,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function kh(l,t,i){const s=l.store("mutations"),u=l.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let w=0;const P=s.J({range:_},(re,Ce,Xe)=>(w++,Xe.delete()));p.push(P.next(()=>{Ne(1===w)}));const G=[];for(const re of i.mutations){const Ce=Fo(t,re.key.path,i.batchId);p.push(u.delete(Ce)),G.push(re.key)}return Le.waitFor(p).next(()=>G)}function xc(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw je();t=l.noDocument}return JSON.stringify(t).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Hu{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,i,s,u){Ne(""!==t.uid);const p=t.isAuthenticated()?t.uid:"";return new Hu(p,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).J({index:"userMutationsIndex",range:s},(u,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const p=bo(t),_=Fl(t);return _.add({}).next(w=>{Ne("number"==typeof w);const P=new tu(w,i,s,u),G=function(Dt,an,fn){const ln=fn.baseMutations.map(or=>ul(Dt.ct,or)),Vn=fn.mutations.map(or=>ul(Dt.ct,or));return{userId:an,batchId:fn.batchId,localWriteTimeMs:fn.localWriteTime.toMillis(),baseMutations:ln,mutations:Vn}}(this.serializer,this.userId,P),re=[];let Ce=new xr((Xe,Dt)=>Pn(Xe.canonicalString(),Dt.canonicalString()));for(const Xe of u){const Dt=Fo(this.userId,Xe.key.path,w);Ce=Ce.add(Xe.key.path.popLast()),re.push(_.put(G)),re.push(p.put(Dt,rs))}return Ce.forEach(Xe=>{re.push(this.indexManager.addToCollectionParentIndex(t,Xe))}),t.addOnCommittedListener(()=>{this.Fn[w]=P.keys()}),Le.waitFor(re).next(()=>P)})}lookupMutationBatch(t,i){return Fl(t).get(i).next(s=>s?(Ne(s.userId===this.userId),au(this.serializer,s)):null)}Mn(t,i){return this.Fn[i]?Le.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Fl(t).J({index:"userMutationsIndex",range:u},(_,w,P)=>{w.userId===this.userId&&(Ne(w.batchId>=s),p=au(this.serializer,w)),P.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Fl(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fl(t).U("userMutationsIndex",i).next(s=>s.map(u=>au(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=Mr(this.userId,i.path),u=IDBKeyRange.lowerBound(s),p=[];return bo(t).J({range:u},(_,w,P)=>{const[G,re,Ce]=_,Xe=Gi(re);if(G===this.userId&&i.path.isEqual(Xe))return Fl(t).get(Ce).next(Dt=>{if(!Dt)throw je();Ne(Dt.userId===this.userId),p.push(au(this.serializer,Dt))});P.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xr(Pn);const u=[];return i.forEach(p=>{const _=Mr(this.userId,p.path),w=IDBKeyRange.lowerBound(_),P=bo(t).J({range:w},(G,re,Ce)=>{const[Xe,Dt,an]=G,fn=Gi(Dt);Xe===this.userId&&p.path.isEqual(fn)?s=s.add(an):Ce.done()});u.push(P)}),Le.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,p=Mr(this.userId,s),_=IDBKeyRange.lowerBound(p);let w=new xr(Pn);return bo(t).J({range:_},(P,G,re)=>{const[Ce,Xe,Dt]=P,an=Gi(Xe);Ce===this.userId&&s.isPrefixOf(an)?an.length===u&&(w=w.add(Dt)):re.done()}).next(()=>this.xn(t,w))}xn(t,i){const s=[],u=[];return i.forEach(p=>{u.push(Fl(t).get(p).next(_=>{if(null===_)throw je();Ne(_.userId===this.userId),s.push(au(this.serializer,_))}))}),Le.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return kh(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),Le.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return Le.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return bo(t).J({range:s},(p,_,w)=>{if(p[0]===this.userId){const P=Gi(p[1]);u.push(P)}else w.done()}).next(()=>{Ne(0===u.length)})})}containsKey(t,i){return xd(t,this.userId,i)}Nn(t){return Ll(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xd(l,t,i){const s=Mr(t,i.path),u=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return bo(l).J({range:p,H:!0},(w,P,G)=>{const[re,Ce,Xe]=w;re===t&&Ce===u&&(_=!0),G.done()}).next(()=>_)}function Fl(l){return Sn(l,"mutations")}function bo(l){return Sn(l,"documentMutations")}function Ll(l){return Sn(l,"mutationQueues")}class ki{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ki(0)}static kn(){return new ki(-1)}}class Fh{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const s=new ki(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>Fn.fromTimestamp(new Hr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(t,u)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(t,s))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Vl(t).delete(i.targetId)).next(()=>this.qn(t)).next(s=>(Ne(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,i,s){let u=0;const p=[];return Vl(t).J((_,w)=>{const P=Mc(w);P.sequenceNumber<=i&&null===s.get(P.targetId)&&(u++,p.push(this.removeTargetData(t,P)))}).next(()=>Le.waitFor(p)).next(()=>u)}forEachTarget(t,i){return Vl(t).J((s,u)=>{const p=Mc(u);i(p)})}qn(t){return pp(t).get("targetGlobalKey").next(i=>(Ne(null!==i),i))}Qn(t,i){return pp(t).put("targetGlobalKey",i)}Kn(t,i){return Vl(t).put(up(this.serializer,i))}$n(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=qs(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return Vl(t).J({range:u,index:"queryTargetsIndex"},(_,w,P)=>{const G=Mc(w);Xs(i,G.target)&&(p=G,P.done())}).next(()=>p)}addMatchingKeys(t,i,s){const u=[],p=qa(t);return i.forEach(_=>{const w=Mi(_.path);u.push(p.put({targetId:s,path:w})),u.push(this.referenceDelegate.addReference(t,s,_))}),Le.waitFor(u)}removeMatchingKeys(t,i,s){const u=qa(t);return Le.forEach(i,p=>{const _=Mi(p.path);return Le.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(t,s,p)])})}removeMatchingKeysForTargetId(t,i){const s=qa(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=qa(t);let p=Rn();return u.J({range:s,H:!0},(_,w,P)=>{const G=Gi(_[1]),re=new $e(G);p=p.add(re)}).next(()=>p)}containsKey(t,i){const s=Mi(i.path),u=IDBKeyRange.bound([s],[Hn(s)],!1,!0);let p=0;return qa(t).J({index:"documentTargetsIndex",H:!0,range:u},([_,w],P,G)=>{0!==_&&(p++,G.done())}).next(()=>p>0)}ot(t,i){return Vl(t).get(i).next(s=>s?Mc(s):null)}}function Vl(l){return Sn(l,"targets")}function pp(l){return Sn(l,"targetGlobal")}function qa(l){return Sn(l,"targetDocuments")}function Lh([l,t],[i,s]){const u=Pn(l,i);return 0===u?Pn(t,s):u}class Vh{constructor(t){this.Un=t,this.buffer=new xr(Lh),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Lh(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lu{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;Kt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,St.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){hi(s)?Kt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield sn(s)}yield i.Hn(3e5)}))}}class Ia{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return Le.resolve(qr.oe);const s=new Vh(i);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(Nd)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nd):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let s,u,p,_,w,P,G;const re=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(Kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),u=this.params.maximumSequenceNumbersToCollect):u=Ce,_=Date.now(),this.nthSequenceNumber(t,u))).next(Ce=>(s=Ce,w=Date.now(),this.removeTargets(t,s,i))).next(Ce=>(p=Ce,P=Date.now(),this.removeOrphanedDocuments(t,s))).next(Ce=>(G=Date.now(),Sr()<=Xn.$b.DEBUG&&Kt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-re}ms\n\tDetermined least recently used ${u} in `+(w-_)+`ms\n\tRemoved ${p} targets in `+(P-w)+`ms\n\tRemoved ${Ce} documents in `+(G-P)+`ms\nTotal Duration: ${G-re}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Ce})))}}class Uh{constructor(t,i){this.db=t,this.garbageCollector=function gp(l,t){return new Ia(l,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}er(t){let i=0;return this.Zn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(s,u)=>i(u))}addReference(t,i,s){return pl(t,s)}removeReference(t,i,s){return pl(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return pl(t,i)}nr(t,i){return function(u,p){let _=!1;return Ll(u).Y(w=>xd(u,w,p).next(P=>(P&&(_=!0),Le.resolve(!P)))).next(()=>_)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(t,(_,w)=>{if(w<=i){const P=this.nr(t,_).next(G=>{if(!G)return p++,s.getEntry(t,_).next(()=>(s.removeEntry(_,Fn.min()),qa(t).delete([0,Mi(_.path)])))});u.push(P)}}).next(()=>Le.waitFor(u)).next(()=>s.apply(t)).next(()=>p)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return pl(t,i)}tr(t,i){const s=qa(t);let u,p=qr.oe;return s.J({index:"documentTargetsIndex"},([_,w],{path:P,sequenceNumber:G})=>{0===_?(p!==qr.oe&&i(new $e(Gi(u)),p),p=G,u=P):p=qr.oe}).next(()=>{p!==qr.oe&&i(new $e(Gi(u)),p)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function pl(l,t){return qa(l).put((u=l.currentSequenceNumber,{targetId:0,path:Mi(t.path),sequenceNumber:u}));var u}class zu{constructor(){this.changes=new D(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xt.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Le.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Gu{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Ea(t).put(s)}removeEntry(t,i,s){return Ea(t).delete(function(p,_){const w=p.path.toArray();return[w.slice(0,w.length-2),w[w.length-2],su(_),w[w.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.rr(t,s)))}getEntry(t,i){let s=Xt.newInvalidDocument(i);return Ea(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(gl(i))},(u,p)=>{s=this.ir(i,p)}).next(()=>s)}sr(t,i){let s={size:0,document:Xt.newInvalidDocument(i)};return Ea(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(gl(i))},(u,p)=>{s={document:this.ir(i,p),size:xc(p)}}).next(()=>s)}getEntries(t,i){let s=fe();return this._r(t,i,(u,p)=>{const _=this.ir(u,p);s=s.insert(u,_)}).next(()=>s)}ar(t,i){let s=fe(),u=new ar($e.comparator);return this._r(t,i,(p,_)=>{const w=this.ir(p,_);s=s.insert(p,w),u=u.insert(p,xc(_))}).next(()=>({documents:s,ur:u}))}_r(t,i,s){if(i.isEmpty())return Le.resolve();let u=new xr(kd);i.forEach(P=>u=u.add(P));const p=IDBKeyRange.bound(gl(u.first()),gl(u.last())),_=u.getIterator();let w=_.getNext();return Ea(t).J({index:"documentKeyIndex",range:p},(P,G,re)=>{const Ce=$e.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;w&&kd(w,Ce)<0;)s(w,null),w=_.getNext();w&&w.isEqual(Ce)&&(s(w,G),w=_.hasNext()?_.getNext():null),w?re.$(gl(w)):re.done()}).next(()=>{for(;w;)s(w,null),w=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,p){const _=i.path,w=[_.popLast().toArray(),_.lastSegment(),su(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],P=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ea(t).U(IDBKeyRange.bound(w,P,!0)).next(G=>{null==p||p.incrementDocumentReadCount(G.length);let re=fe();for(const Ce of G){const Xe=this.ir($e.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);Xe.isFoundDocument()&&(te(i,Xe)||u.has(Xe.key))&&(re=re.insert(Xe.key,Xe))}return re})}getAllFromCollectionGroup(t,i,s,u){let p=fe();const _=vp(i,s),w=vp(i,Ae.max());return Ea(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,w,!0)},(P,G,re)=>{const Ce=this.ir($e.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);p=p.insert(Ce.key,Ce),p.size===u&&re.done()}).next(()=>p)}newChangeBuffer(t){return new Bh(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return mp(t).get("remoteDocumentGlobalKey").next(i=>(Ne(!!i),i))}rr(t,i){return mp(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const s=function Ma(l,t){let i;if(t.document)i=wc(l.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=$e.fromSegments(t.noDocument.path),u=hl(t.noDocument.readTime);i=Xt.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return je();{const s=$e.fromSegments(t.unknownDocument.path),u=hl(t.unknownDocument.version);i=Xt.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const p=new Hr(u[0],u[1]);return Fn.fromTimestamp(p)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(Fn.min()))return s}return Xt.newInvalidDocument(t)}}function Od(l){return new Gu(l)}class Bh extends zu{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new D(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new xr((p,_)=>Pn(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const w=this.lr.get(p);if(i.push(this.cr.removeEntry(t,p,w.readTime)),_.isValidDocument()){const P=br(this.cr.serializer,_);u=u.add(p.path.popLast());const G=xc(P);s+=G-w.size,i.push(this.cr.addEntry(t,p,P))}else if(s-=w.size,this.trackRemovals){const P=br(this.cr.serializer,_.convertToNoDocument(Fn.min()));i.push(this.cr.addEntry(t,p,P))}}),u.forEach(p=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,p))}),i.push(this.cr.updateMetadata(t,s)),Le.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:s,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function mp(l){return Sn(l,"remoteDocumentGlobal")}function Ea(l){return Sn(l,"remoteDocumentsV14")}function gl(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vp(l,t){const i=t.documentKey.path.toArray();return[l,su(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function kd(l,t){const i=l.path.toArray(),s=t.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(u=Pn(i[p],s[p]),u)return u;return u=Pn(i.length,s.length),u||(u=Pn(i[i.length-2],s[s.length-2]),u||Pn(i[i.length-1],s[s.length-1]))}class $h{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class _p{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&zo(s.mutation,u,Ci.empty(),Hr.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Rn()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Rn()){const u=bt();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(p=>{let _=Z();return p.forEach((w,P)=>{_=_.insert(w,P.overlayedDocument)}),_}))}getOverlayedDocuments(t,i){const s=bt();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Rn()))}populateOverlays(t,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(t,u).next(p=>{p.forEach((_,w)=>{i.set(_,w)})})}computeViews(t,i,s,u){let p=fe();const _=lr(),w=lr();return i.forEach((P,G)=>{const re=s.get(G.key);u.has(G.key)&&(void 0===re||re.mutation instanceof _s)?p=p.insert(G.key,G):void 0!==re?(_.set(G.key,re.mutation.getFieldMask()),zo(re.mutation,G,re.mutation.getFieldMask(),Hr.now())):_.set(G.key,Ci.empty())}),this.recalculateAndSaveOverlays(t,p).next(P=>(P.forEach((G,re)=>_.set(G,re)),i.forEach((G,re)=>{var Ce;return w.set(G,new $h(re,null!==(Ce=_.get(G))&&void 0!==Ce?Ce:null))}),w))}recalculateAndSaveOverlays(t,i){const s=lr();let u=new ar((_,w)=>_-w),p=Rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(_=>{for(const w of _)w.keys().forEach(P=>{const G=i.get(P);if(null===G)return;let re=s.get(P)||Ci.empty();re=w.applyToLocalView(G,re),s.set(P,re);const Ce=(u.get(w.batchId)||Rn()).add(P);u=u.insert(w.batchId,Ce)})}).next(()=>{const _=[],w=u.getReverseIterator();for(;w.hasNext();){const P=w.getNext(),G=P.key,re=P.value,Ce=cn();re.forEach(Xe=>{if(!p.has(Xe)){const Dt=$a(i.get(Xe),s.get(Xe));null!==Dt&&Ce.set(Xe,Dt),p=p.add(Xe)}}),_.push(this.documentOverlayCache.saveOverlays(t,G,Ce))}return Le.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return $e.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):Qs(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var _}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-p.size):Le.resolve(bt());let w=-1,P=p;return _.next(G=>Le.forEach(G,(re,Ce)=>(w<Ce.largestBatchId&&(w=Ce.largestBatchId),p.get(re)?Le.resolve():this.remoteDocumentCache.getEntry(t,re).next(Xe=>{P=P.insert(re,Xe)}))).next(()=>this.populateOverlays(t,G,p)).next(()=>this.computeViews(t,P,G,Rn())).next(re=>({batchId:w,changes:Pe(re)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new $e(i)).next(s=>{let u=Z();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const p=i.collectionGroup;let _=Z();return this.indexManager.getCollectionParents(t,p).next(w=>Le.forEach(w,P=>{const G=(Ce=i,Xe=P.child(p),new jo(Xe,null,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt));var Ce,Xe;return this.getDocumentsMatchingCollectionQuery(t,G,s,u).next(re=>{re.forEach((Ce,Xe)=>{_=_.insert(Ce,Xe)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,p,u))).next(_=>{p.forEach((P,G)=>{const re=G.getKey();null===_.get(re)&&(_=_.insert(re,Xt.newInvalidDocument(re)))});let w=Z();return _.forEach((P,G)=>{const re=p.get(P);void 0!==re&&zo(re.mutation,G,Ci.empty(),Hr.now()),te(i,G)&&(w=w.insert(P,G))}),w})}}class m_{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return Le.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:Ei(u.createTime)}),Le.resolve();var u}getNamedQuery(t,i){return Le.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(u=i).name,query:Pc(u.bundledQuery),readTime:Ei(u.readTime)}),Le.resolve();var u}}class fm{constructor(){this.overlays=new ar($e.comparator),this.Ir=new Map}getOverlay(t,i){return Le.resolve(this.overlays.get(i))}getOverlays(t,i){const s=bt();return Le.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,p)=>{this.ht(t,i,p)}),Le.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),Le.resolve()}getOverlaysForCollection(t,i,s){const u=bt(),p=i.length+1,_=new $e(i.child("")),w=this.overlays.getIteratorFrom(_);for(;w.hasNext();){const P=w.getNext().value,G=P.getKey();if(!i.isPrefixOf(G.path))break;G.path.length===p&&P.largestBatchId>s&&u.set(P.getKey(),P)}return Le.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let p=new ar((G,re)=>G-re);const _=this.overlays.getIterator();for(;_.hasNext();){const G=_.getNext().value;if(G.getKey().getCollectionGroup()===i&&G.largestBatchId>s){let re=p.get(G.largestBatchId);null===re&&(re=bt(),p=p.insert(G.largestBatchId,re)),re.set(G.getKey(),G)}}const w=bt(),P=p.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((G,re)=>w.set(G,re)),!(w.size()>=u)););return Le.resolve(w)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new wo(i,s));let p=this.Ir.get(i);void 0===p&&(p=Rn(),this.Ir.set(i,p)),this.Ir.set(i,p.add(s.key))}}class Wu{constructor(){this.sessionToken=ui.EMPTY_BYTE_STRING}getSessionToken(t){return Le.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Le.resolve()}}class yp{constructor(){this.Tr=new xr(No.Er),this.dr=new xr(No.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const s=new No(t,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Vr(new No(t,i))}mr(t,i){t.forEach(s=>this.removeReference(s,i))}gr(t){const i=new $e(new pr([])),s=new No(i,t),u=new No(i,t+1),p=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new $e(new pr([])),s=new No(i,t),u=new No(i,t+1);let p=Rn();return this.dr.forEachInRange([s,u],_=>{p=p.add(_.key)}),p}containsKey(t){const i=new No(t,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class No{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return $e.comparator(t.key,i.key)||Pn(t.wr,i.wr)}static Ar(t,i){return Pn(t.wr,i.wr)||$e.comparator(t.key,i.key)}}class ml{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new xr(No.Er)}checkEmpty(t){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const p=this.Sr;this.Sr++;const _=new tu(p,i,s,u);this.mutationQueue.push(_);for(const w of u)this.br=this.br.add(new No(w.key,p)),this.indexManager.addToCollectionParentIndex(t,w.key.path.popLast());return Le.resolve(_)}lookupMutationBatch(t,i){return Le.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.vr(i+1),p=u<0?0:u;return Le.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new No(i,0),u=new No(i,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],_=>{const w=this.Dr(_.wr);p.push(w)}),Le.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xr(Pn);return i.forEach(u=>{const p=new No(u,0),_=new No(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],w=>{s=s.add(w.wr)})}),Le.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let p=s;$e.isDocumentKey(p)||(p=p.child(""));const _=new No(new $e(p),0);let w=new xr(Pn);return this.br.forEachWhile(P=>{const G=P.key.path;return!!s.isPrefixOf(G)&&(G.length===u&&(w=w.add(P.wr)),!0)},_),Le.resolve(this.Cr(w))}Cr(t){const i=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){Ne(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return Le.forEach(i.mutations,u=>{const p=new No(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,i){const s=new No(i,0),u=this.br.firstAfterOrEqual(s);return Le.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return Le.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class jh{constructor(t){this.Mr=t,this.docs=new ar($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Le.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(i))}getEntries(t,i){let s=fe();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():Xt.newInvalidDocument(u))}),Le.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let p=fe();const _=i.path,w=new $e(_.child("")),P=this.docs.getIteratorFrom(w);for(;P.hasNext();){const{key:G,value:{document:re}}=P.getNext();if(!_.isPrefixOf(G.path))break;G.path.length>_.length+1||Ze(se(re),s)<=0||(u.has(re.key)||te(i,re))&&(p=p.insert(re.key,re.mutableCopy()))}return Le.resolve(p)}getAllFromCollectionGroup(t,i,s,u){je()}Or(t,i){return Le.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new uu(this)}getSize(t){return Le.resolve(this.size)}}class uu extends zu{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),Le.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class pm{constructor(t){this.persistence=t,this.Nr=new D(i=>qs(i),Xs),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yp,this.targetCount=0,this.kr=ki.Bn()}forEachTarget(t,i){return this.Nr.forEach((s,u)=>i(u)),Le.resolve()}getLastRemoteSnapshotVersion(t){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Le.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),Le.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new ki(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,Le.resolve()}updateTargetData(t,i){return this.Kn(i),Le.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,Le.resolve()}removeTargets(t,i,s){let u=0;const p=[];return this.Nr.forEach((_,w)=>{w.sequenceNumber<=i&&null===s.get(w.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(t,w.targetId)),u++)}),Le.waitFor(p).next(()=>u)}getTargetCount(t){return Le.resolve(this.targetCount)}getTargetData(t,i){const s=this.Nr.get(i)||null;return Le.resolve(s)}addMatchingKeys(t,i,s){return this.Br.Rr(i,s),Le.resolve()}removeMatchingKeys(t,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(_=>{p.push(u.markPotentiallyOrphaned(t,_))}),Le.waitFor(p)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),Le.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Br.yr(i);return Le.resolve(s)}containsKey(t,i){return Le.resolve(this.Br.containsKey(i))}}class cu{constructor(t,i){this.qr={},this.overlays={},this.Qr=new qr(0),this.Kr=!1,this.Kr=!0,this.$r=new Wu,this.referenceDelegate=t(this),this.Ur=new pm(this),this.indexManager=new fp,this.remoteDocumentCache=new jh(s=>this.referenceDelegate.Wr(s)),this.serializer=new Bu(i),this.Gr=new m_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fm,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.qr[t.toKey()];return s||(s=new ml(i,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,s){Kt("MemoryPersistence","Starting transaction:",t);const u=new Hh(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(t,i){return Le.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,i)))}}class Hh extends Mt{constructor(t){super(),this.currentSequenceNumber=t}}class Ku{constructor(t){this.persistence=t,this.Jr=new yp,this.Yr=null}static Zr(t){return new Ku(t)}get Xr(){if(this.Yr)return this.Yr;throw je()}addReference(t,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),Le.resolve()}removeReference(t,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),Le.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),Le.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Xr,s=>{const u=$e.fromPath(s);return this.ei(t,u).next(p=>{p||i.removeEntry(u,Fn.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return Le.or([()=>Le.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class Ip{constructor(t){this.serializer=t}O(t,i,s,u){const p=new ur("createOrUpgrade",i);var P;s<1&&u>=1&&(t.createObjectStore("owner"),(P=t).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0}),P.createObjectStore("documentMutations"),zh(t),function(P){P.createObjectStore("remoteDocuments")}(t));let _=Le.resolve();return s<3&&u>=3&&(0!==s&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(t),zh(t)),_=_.next(()=>function(P){const G=P.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",re)}(p))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(P,G){return G.store("mutations").U().next(re=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ko,{unique:!0});const Ce=G.store("mutations"),Xe=re.map(Dt=>Ce.put(Dt));return Le.waitFor(Xe)})}(t,p))),_=_.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(_=_.next(()=>this.ni(p))),s<6&&u>=6&&(_=_.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(t),this.ri(p)))),s<7&&u>=7&&(_=_.next(()=>this.ii(p))),s<8&&u>=8&&(_=_.next(()=>this.si(t,p))),s<9&&u>=9&&(_=_.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(_=_.next(()=>this.oi(p))),s<11&&u>=11&&(_=_.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(_=_.next(()=>{!function(P){const G=P.createObjectStore("documentOverlays",{keyPath:ne});G.createIndex("collectionPathOverlayIndex",Me,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Fe,{unique:!1})}(t)})),s<13&&u>=13&&(_=_.next(()=>function(P){const G=P.createObjectStore("remoteDocumentsV14",{keyPath:Wi});G.createIndex("documentKeyIndex",ps),G.createIndex("collectionGroupIndex",is)}(t)).next(()=>this._i(t,p)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(t,p))),s<15&&u>=15&&(_=_.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:gs}).createIndex("sequenceNumberIndex",Hs,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:os}).createIndex("documentKeyIndex",W,{unique:!1})}(t))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(P){P.createObjectStore("globals",{keyPath:"name"})}(t)})),_}ri(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=xc(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>Le.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(w=>Le.forEach(w,P=>{Ne(P.userId===p.userId);const G=au(this.serializer,P);return kh(t,p.userId,G).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((_,w)=>{const P=new pr(_),G=[0,Mi(P)];p.push(i.get(G).next(re=>re?Le.resolve():i.put({targetId:0,path:Mi(P),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Le.waitFor(p))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:Cn});const s=i.store("collectionParents"),u=new Nh,p=_=>{if(u.add(_)){const w=_.lastSegment(),P=_.popLast();return s.put({collectionId:w,parent:Mi(P)})}};return i.store("remoteDocuments").J({H:!0},(_,w)=>{const P=new pr(_);return p(P.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,w,P],G)=>{const re=Gi(w);return p(re.popLast())}))}oi(t){const i=t.store("targets");return i.J((s,u)=>{const p=Mc(u),_=up(this.serializer,p);return i.put(_)})}_i(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((p,_)=>{const w=i.store("remoteDocumentsV14"),P=(Ce=_,Ce.document?new $e(pr.fromString(Ce.document.name).popFirst(5)):Ce.noDocument?$e.fromSegments(Ce.noDocument.path):Ce.unknownDocument?$e.fromSegments(Ce.unknownDocument.path):je()).path.toArray(),G={prefixPath:P.slice(0,P.length-2),collectionGroup:P[P.length-2],documentId:P[P.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Ce;u.push(w.put(G))}).next(()=>Le.waitFor(u))}ai(t,i){const s=i.store("mutations"),u=Od(this.serializer),p=new cu(Ku.Zr,this.serializer.ct);return s.U().next(_=>{const w=new Map;return _.forEach(P=>{var G;let re=null!==(G=w.get(P.userId))&&void 0!==G?G:Rn();au(this.serializer,P).keys().forEach(Ce=>re=re.add(Ce)),w.set(P.userId,re)}),Le.forEach(w,(P,G)=>{const re=new wr(G),Ce=Sd.lt(this.serializer,re),Xe=p.getIndexManager(re),Dt=Hu.lt(re,this.serializer,Xe,p.referenceDelegate);return new _p(u,Dt,Ce,Xe).recalculateAndSaveOverlaysForDocumentKeys(new bn(i,qr.oe),P).next()})})}}function zh(l){l.createObjectStore("targetDocuments",{keyPath:kr}).createIndex("documentTargetsIndex",Ki,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ca,{unique:!0}),l.createObjectStore("targetGlobal")}const Fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gh{constructor(t,i,s,u,p,_,w,P,G,re,Ce=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.ui=p,this.window=_,this.document=w,this.ci=G,this.li=re,this.hi=Ce,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Xe=>Promise.resolve(),!Gh.D())throw new We(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uh(this,u),this.Ai=i+"main",this.serializer=new Bu(P),this.Ri=new jn(this.Ai,this.hi,new Ip(this.serializer)),this.$r=new ei,this.Ur=new Fh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Od(this.serializer),this.Gr=new dm,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===re&&qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(oe.FAILED_PRECONDITION,Fd);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new qr(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var s=(0,St.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,St.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,St.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Ld(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(hi(t))return Kt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Kt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Fs(t).get("owner").next(i=>Le.resolve(this.vi(i)))}Ci(t){return Ld(t).delete(this.clientId)}Fi(){var t=this;return(0,St.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Sn(s,"clientMetadata");return u.U().next(p=>{const _=t.xi(p,18e5),w=p.filter(P=>-1===_.indexOf(P));return Le.forEach(w,P=>u.delete(P.clientId)).next(()=>w)})}).catch(()=>[]);if(t.Vi)for(const s of i)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?Le.resolve(!0):Fs(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new We(oe.FAILED_PRECONDITION,Fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ld(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Kt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,St.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new bn(i,qr.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Ld(t).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return Hu.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new xh(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Sd.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,s){Kt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",p=17===(P=this.hi)?gn:16===P?tn:15===P?qt:14===P?yt:13===P?Qt:12===P?Qe:11===P?tt:void je();var P;let _;return this.Ri.runTransaction(t,u,p,w=>(_=new bn(w,this.Qr?this.Qr.next():qr.oe),"readwrite-primary"===i?this.wi(_).next(P=>!!P||this.Si(_)).next(P=>{if(!P)throw qn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new We(oe.FAILED_PRECONDITION,ct);return s(_)}).next(P=>this.Di(_).next(()=>P)):this.Ki(_).next(()=>s(_)))).then(w=>(_.raiseOnCommittedEvent(),w))}Ki(t){return Fs(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new We(oe.FAILED_PRECONDITION,Fd)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fs(t).put("owner",i)}static D(){return jn.D()}bi(t){const i=Fs(t);return i.get("owner").next(s=>this.vi(s)?(Kt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):Le.resolve())}Mi(t,i){const s=Date.now();return!(t<s-i||t>s&&(qn(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Tn.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return Kt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return qn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){qn("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Fs(l){return Sn(l,"owner")}function Ld(l){return Sn(l,"clientMetadata")}function hu(l,t){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+t+"/"+i+"/"}class fu{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(t,i){let s=Rn(),u=Rn();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new fu(t,i.fromCache,s,u)}}class Ep{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Oc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Tn.nr)()?8:Kr((0,Tn.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,s,u){const p={result:null};return this.Yi(t,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(t,i,u,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new Ep;return this.Xi(t,i,_).next(w=>{if(p.result=w,this.zi)return this.es(t,i,_,w.size)})}).next(()=>p.result)}es(t,i,s,u){return s.documentReadCount<this.ji?(Sr()<=Xn.$b.DEBUG&&Kt("QueryEngine","SDK will not create cache indexes for query:",V(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Le.resolve()):(Sr()<=Xn.$b.DEBUG&&Kt("QueryEngine","Query:",V(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Sr()<=Xn.$b.DEBUG&&Kt("QueryEngine","The SDK decides to create cache indexes for query:",V(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Le.resolve())}Yi(t,i){if(ba(i))return Le.resolve(null);let s=Ni(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=M(i,null,"F"),s=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(p=>{const _=Rn(...p);return this.Ji.getDocuments(t,_).next(w=>this.indexManager.getMinOffset(t,s).next(P=>{const G=this.ts(i,w);return this.ns(i,G,_,P.readTime)?this.Yi(t,M(i,null,"F")):this.rs(t,G,i,P)}))})))}Zi(t,i,s,u){return ba(i)||u.isEqual(Fn.min())?Le.resolve(null):this.Ji.getDocuments(t,s).next(p=>{const _=this.ts(i,p);return this.ns(i,_,s,u)?Le.resolve(null):(Sr()<=Xn.$b.DEBUG&&Kt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),V(i)),this.rs(t,_,i,fr(u,-1)).next(w=>w))})}ts(t,i){let s=new xr(mn(t));return i.forEach((u,p)=>{te(t,p)&&(s=s.add(p))}),s}ns(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const p="F"===t.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(t,i,s){return Sr()<=Xn.$b.DEBUG&&Kt("QueryEngine","Using full collection scan to execute query:",V(i)),this.Ji.getDocumentsMatchingQuery(t,i,Ae.min(),s)}rs(t,i,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class kc{constructor(t,i,s,u){this.persistence=t,this.ss=i,this.serializer=u,this.os=new ar(Pn),this._s=new D(p=>qs(p),Xs),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _p(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function Vd(l,t,i,s){return new kc(l,t,i,s)}function Wh(l,t){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,St.A)(function*(l,t){const i=me(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.ls(t),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],w=[];let P=Rn();for(const G of u){_.push(G.batchId);for(const re of G.mutations)P=P.add(re.key)}for(const G of p){w.push(G.batchId);for(const re of G.mutations)P=P.add(re.key)}return i.localDocuments.getDocuments(s,P).next(G=>({hs:G,removedBatchIds:_,addedBatchIds:w}))})})})).apply(this,arguments)}function Kh(l){const t=me(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function Lc(l,t,i){let s=Rn(),u=Rn();return i.forEach(p=>s=s.add(p)),t.getEntries(l,s).next(p=>{let _=fe();return i.forEach((w,P)=>{const G=p.get(w);P.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(w)),P.isNoDocument()&&P.version.isEqual(Fn.min())?(t.removeEntry(w,P.readTime),_=_.insert(w,P)):!G.isValidDocument()||P.version.compareTo(G.version)>0||0===P.version.compareTo(G.version)&&G.hasPendingWrites?(t.addEntry(P),_=_.insert(w,P)):Kt("LocalStore","Ignoring outdated watch update for ",w,". Current version:",G.version," Watch version:",P.version)}),{Ps:_,Is:u}})}function Ul(l,t){const i=me(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function qu(l,t){const i=me(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,t).next(p=>p?(u=p,Le.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new _a(t,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(t,s.targetId)),s})}function pu(l,t,i){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,St.A)(function*(l,t,i){const s=me(l),u=s.os.get(t),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!hi(_))throw _;Kt("LocalStore",`Failed to update sequence numbers for target ${t}: ${_}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function vl(l,t,i){const s=me(l);let u=Fn.min(),p=Rn();return s.persistence.runTransaction("Execute query","readwrite",_=>function(P,G,re){const Ce=me(P),Xe=Ce._s.get(re);return void 0!==Xe?Le.resolve(Ce.os.get(Xe)):Ce.Ur.getTargetData(G,re)}(s,_,Ni(t)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,w.targetId).next(P=>{p=P})}).next(()=>s.ss.getDocumentsMatchingQuery(_,t,i?u:Fn.min(),i?p:Rn())).next(w=>(qh(s,Ut(t),w),{documents:w,Ts:p})))}function Na(l,t){const i=me(l),s=me(i.Ur),u=i.os.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,t).next(_=>_?_.target:null))}function xo(l,t){const i=me(l),s=i.us.get(t)||Fn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,t,fr(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(qh(i,t,u),u))}function qh(l,t,i){let s=l.us.get(t)||Fn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.us.set(t,s)}function Vc(){return(Vc=(0,St.A)(function*(l,t,i,s){const u=me(l);let p=Rn(),_=fe();for(const G of i){const re=t.Es(G.metadata.name);G.document&&(p=p.add(re));const Ce=t.ds(G);Ce.setReadTime(t.As(G.metadata.readTime)),_=_.insert(re,Ce)}const w=u.cs.newChangeBuffer({trackRemovals:!0}),P=yield qu(u,(re=s,Ni(ma(pr.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",G=>Lc(G,w,_).next(re=>(w.apply(G),re)).next(re=>u.Ur.removeMatchingKeysForTargetId(G,P.targetId).next(()=>u.Ur.addMatchingKeys(G,p,P.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(G,re.Ps,re.Is)).next(()=>re.Ps)))})).apply(this,arguments)}function mm(l,t){return $d.apply(this,arguments)}function $d(){return($d=(0,St.A)(function*(l,t,i=Rn()){const s=yield qu(l,Ni(Pc(t.bundledQuery))),u=me(l);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=Ei(t.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,t);const w=s.withResumeToken(ui.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(w.targetId,w),u.Ur.updateTargetData(p,w).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,t))})})).apply(this,arguments)}function Xu(l,t){return`firestore_clients_${l}_${t}`}function jd(l,t,i){let s=`firestore_mutations_${l}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Qu(l,t){return`firestore_targets_${l}_${t}`}class gu{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Rs(t,i,s){const u=JSON.parse(s);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new We(u.error.code,u.error.message))),_?new gu(t,i,u.state,p):(qn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Bl{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Rs(t,i){const s=JSON.parse(i);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new We(s.error.code,s.error.message))),p?new Bl(t,s.state,u):(qn("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mu{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=_i();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=fs(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return u?new mu(t,p):(qn("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class Xh{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Xh(i.clientId,i.onlineState):(qn("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Is{constructor(){this.activeTargetIds=_i()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vu{constructor(t,i,s,u,p){this.window=t,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ar(Pn),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=Xu(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Is),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,St.A)(function*(){const i=yield t.syncEngine.Qi();for(const u of i){if(u===t.ps)continue;const p=t.getItem(Xu(t.persistenceKey,u));if(p){const _=mu.Rs(u,p);_&&(t.Ss=t.Ss.insert(_.clientId,_))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,s){this.qs(t,i,s),this.Qs(t)}addLocalQueryTarget(t,i=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Qu(this.persistenceKey,t));if(u){const p=Bl.Rs(t,u);p&&(s=p.state)}}return i&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Qu(this.persistenceKey,t))}updateQueryState(t,i,s){this.$s(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return Kt("SharedClientState","READ",t,i),i}setItem(t,i){Kt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){Kt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const s=t;if(s.storageArea===this.storage){if(Kt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,St.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let w=qr.oe;if(null!=_)try{const P=JSON.parse(_);Ne("number"==typeof P),w=P}catch(P){qn("SharedClientState","Failed to read sequence number from WebStorage",P)}return w}(s.newValue);u!==qr.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(p=>i.syncEngine.eo(p)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,s){const u=new gu(this.currentUser,t,i,s),p=jd(this.persistenceKey,this.currentUser,t);this.setItem(p,u.Vs())}Qs(t){const i=jd(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,s){const u=Qu(this.persistenceKey,t),p=new Bl(t,i,s);this.setItem(u,p.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const s=this.Gs(t);return mu.Rs(s,i)}Hs(t,i){const s=this.Fs.exec(t),u=Number(s[1]);return gu.Rs(new wr(void 0!==s[2]?s[2]:null),u,i)}Ys(t,i){const s=this.Ms.exec(t),u=Number(s[1]);return Bl.Rs(u,i)}Ls(t){return Xh.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,St.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);Kt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const s=i?this.Ss.insert(t,i):this.Ss.remove(t),u=this.ks(this.Ss),p=this.ks(s),_=[],w=[];return p.forEach(P=>{u.has(P)||_.push(P)}),u.forEach(P=>{p.has(P)||w.push(P)}),this.syncEngine.io(_,w).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=_i();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Hd{constructor(){this.so=new Is,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,s){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Is,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vm{_o(t){}shutdown(){}}class Uc{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yu=null;function Qh(){return null===Yu?Yu=268435456+Math.round(2147483648*Math.random()):Yu++,"0x"+Yu.toString(16)}const _m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cp{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const ho="WebChannelConnection";class cs extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(i,s,u,p,_){const w=Qh(),P=this.xo(i,s.toUriEncodedString());Kt("RestConnection",`Sending RPC '${i}' ${w}:`,P,u);const G={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(G,p,_),this.No(i,P,G,u).then(re=>(Kt("RestConnection",`Received RPC '${i}' ${w}: `,re),re),re=>{throw zr("RestConnection",`RPC '${i}' ${w} failed with error: `,re,"url: ",P,"request:",u),re})}Lo(i,s,u,p,_,w){return this.Mo(i,s,u,p,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+rr,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>i[_]=p),u&&u.headers.forEach((p,_)=>i[_]=p)}xo(i,s){return`${this.Do}/v1/${s}:${_m[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,s,u){const p=Qh();return new Promise((_,w)=>{const P=new mr;P.setWithCredentials(!0),P.listenOnce($r.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Or.NO_ERROR:const re=P.getResponseJson();Kt(ho,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(re)),_(re);break;case Or.TIMEOUT:Kt(ho,`RPC '${t}' ${p} timed out`),w(new We(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Or.HTTP_ERROR:const Ce=P.getStatus();if(Kt(ho,`RPC '${t}' ${p} failed with status:`,Ce,"response text:",P.getResponseText()),Ce>0){let Xe=P.getResponseJson();Array.isArray(Xe)&&(Xe=Xe[0]);const Dt=null==Xe?void 0:Xe.error;if(Dt&&Dt.status&&Dt.message){const an=function(ln){const Vn=ln.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Vn)>=0?Vn:oe.UNKNOWN}(Dt.status);w(new We(an,Dt.message))}else w(new We(oe.UNKNOWN,"Server responded with status "+P.getStatus()))}else w(new We(oe.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{Kt(ho,`RPC '${t}' ${p} completed.`)}});const G=JSON.stringify(u);Kt(ho,`RPC '${t}' ${p} sending request:`,u),P.send(i,"POST",G,s,15)})}Bo(t,i,s){const u=Qh(),p=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],_=di(),w=jr(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(P.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(P.useFetchStreams=!0),this.Oo(P.initMessageHeaders,i,s),P.encodeInitMessageHeaders=!0;const re=p.join("");Kt(ho,`Creating RPC '${t}' stream ${u}: ${re}`,P);const Ce=_.createWebChannel(re,P);let Xe=!1,Dt=!1;const an=new Cp({Io:ln=>{Dt?Kt(ho,`Not sending because RPC '${t}' stream ${u} is closed:`,ln):(Xe||(Kt(ho,`Opening RPC '${t}' stream ${u} transport.`),Ce.open(),Xe=!0),Kt(ho,`RPC '${t}' stream ${u} sending:`,ln),Ce.send(ln))},To:()=>Ce.close()}),fn=(ln,Vn,or)=>{ln.listen(Vn,cr=>{try{or(cr)}catch(nr){setTimeout(()=>{throw nr},0)}})};return fn(Ce,$n.EventType.OPEN,()=>{Dt||(Kt(ho,`RPC '${t}' stream ${u} transport opened.`),an.yo())}),fn(Ce,$n.EventType.CLOSE,()=>{Dt||(Dt=!0,Kt(ho,`RPC '${t}' stream ${u} transport closed`),an.So())}),fn(Ce,$n.EventType.ERROR,ln=>{Dt||(Dt=!0,zr(ho,`RPC '${t}' stream ${u} transport errored:`,ln),an.So(new We(oe.UNAVAILABLE,"The operation could not be completed")))}),fn(Ce,$n.EventType.MESSAGE,ln=>{var Vn;if(!Dt){const or=ln.data[0];Ne(!!or);const nr=or.error||(null===(Vn=or[0])||void 0===Vn?void 0:Vn.error);if(nr){Kt(ho,`RPC '${t}' stream ${u} received error:`,nr);const Jr=nr.status;let _r=function(at){const Et=so[at];if(void 0!==Et)return nu(Et)}(Jr),mt=nr.message;void 0===_r&&(_r=oe.INTERNAL,mt="Unknown error status: "+Jr+" with message "+nr.message),Dt=!0,an.So(new We(_r,mt)),Ce.close()}else Kt(ho,`RPC '${t}' stream ${u} received:`,or),an.bo(or)}}),fn(w,hr.STAT_EVENT,ln=>{ln.stat===dr.PROXY?Kt(ho,`RPC '${t}' stream ${u} detected buffering proxy`):ln.stat===dr.NOPROXY&&Kt(ho,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{an.wo()},0),an}}function ym(){return typeof window<"u"?window:null}function zd(){return typeof document<"u"?document:null}function Gd(l){return new Dr(l,!0)}class Bc{constructor(t,i,s=1e3,u=1.5,p=6e4){this.ui=t,this.timerId=i,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&Kt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Ls{constructor(t,i,s,u,p,_,w,P){this.ui=t,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=w,this.listener=P,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bc(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,St.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,St.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var s=this;return(0,St.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():i&&i.code===oe.RESOURCE_EXHAUSTED?(qn(i.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===oe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{t(()=>{const u=new We(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,i){const s=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,St.A)(function*(){t.state=0,t.start()}))}I_(t){return Kt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(Kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $c extends Ls{constructor(t,i,s,u,p,_){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function ci(l,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(G=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:je(),u=t.targetChange.targetIds||[],p=function(G,re){return G.useProto3Json?(Ne(void 0===re||"string"==typeof re),ui.fromBase64String(re||"")):(Ne(void 0===re||re instanceof Buffer||re instanceof Uint8Array),ui.fromUint8Array(re||new Uint8Array))}(l,t.targetChange.resumeToken),_=t.targetChange.cause,w=_&&function(G){const re=void 0===G.code?oe.UNKNOWN:nu(G.code);return new We(re,G.message||"")}(_);i=new S(s,u,p,w||null)}else if("documentChange"in t){const s=t.documentChange,u=Yo(l,s.document.name),p=Ei(s.document.updateTime),_=s.document.createTime?Ei(s.document.createTime):Fn.min(),w=new B({mapValue:{fields:s.document.fields}}),P=Xt.newFoundDocument(u,p,_,w);i=new R(s.targetIds||[],s.removedTargetIds||[],P.key,P)}else if("documentDelete"in t){const s=t.documentDelete,u=Yo(l,s.document),p=s.readTime?Ei(s.readTime):Fn.min(),_=Xt.newNoDocument(u,p);i=new R([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in t){const s=t.documentRemove,u=Yo(l,s.document);i=new R([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return je();{const s=t.filter,{count:u=0,unchangedNames:p}=s,_=new va(u,p);i=new x(s.targetId,_)}}var G;return i}(this.serializer,t),s=function(p){if(!("targetChange"in p))return Fn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?Fn.min():_.readTime?Ei(_.readTime):Fn.min()}(t);return this.listener.d_(i,s)}A_(t){const i={};i.database=Ml(this.serializer),i.addTarget=function(p,_){let w;const P=_.target;if(w=ga(P)?{documents:ap(p,P)}:{query:za(p,P)._t},w.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){w.resumeToken=co(p,_.resumeToken);const G=Ii(p,_.expectedCount);null!==G&&(w.expectedCount=G)}else if(_.snapshotVersion.compareTo(Fn.min())>0){w.readTime=Er(p,_.snapshotVersion.toTimestamp());const G=Ii(p,_.expectedCount);null!==G&&(w.expectedCount=G)}return w}(this.serializer,t);const s=function um(l,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.a_(i)}R_(t){const i={};i.database=Ml(this.serializer),i.removeTarget=t,this.a_(i)}}class Wd extends Ls{constructor(t,i,s,u,p,_){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Ne(!!t.streamToken),this.lastStreamToken=t.streamToken,Ne(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Ne(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function ys(l,t){return l&&l.length>0?(Ne(void 0!==t),l.map(i=>function(u,p){let _=Ei(u.updateTime?u.updateTime:p);return _.isEqual(Fn.min())&&(_=Ei(p)),new uo(_,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=Ei(t.commitTime);return this.listener.g_(s,i)}p_(){const t={};t.database=Ml(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>ul(this.serializer,s))};this.a_(i)}}class jc extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new We(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(t,Qo(i,s),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new We(oe.UNKNOWN,p.toString())})}Lo(t,i,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,w])=>this.connection.Lo(t,Qo(i,s),u,_,w,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new We(oe.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _l{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qn(i),this.D_=!1):Kt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hc{constructor(t,i,s,u,p){var _=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(w=>{s.enqueueAndForget((0,St.A)(function*(){var P;g(_)&&(Kt("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,St.A)(function*(re){const Ce=me(re);Ce.L_.add(4),yield Ju(Ce),Ce.q_.set("Unknown"),Ce.L_.delete(4),yield Aa(Ce)}),function G(re){return P.apply(this,arguments)})(_))}))}),this.q_=new _l(s,u)}}function Aa(l){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,St.A)(function*(l){if(g(l))for(const t of l.B_)yield t(!0)})).apply(this,arguments)}function Ju(l){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,St.A)(function*(l){for(const t of l.B_)yield t(!1)})).apply(this,arguments)}function _u(l,t){const i=me(l);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),h(i)?y(i):Gc(i).r_()&&Kd(i,t))}function yu(l,t){const i=me(l),s=Gc(i);i.N_.delete(t),s.r_()&&Im(i,t),0===i.N_.size&&(s.r_()?s.o_():g(i)&&i.q_.set("Unknown"))}function Kd(l,t){if(l.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Fn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Gc(l).A_(t)}function Im(l,t){l.Q_.xe(t),Gc(l).R_(t)}function y(l){l.Q_=new ie({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>l.N_.get(t)||null,tt:()=>l.datastore.serializer.databaseId}),Gc(l).start(),l.q_.v_()}function h(l){return g(l)&&!Gc(l).n_()&&l.N_.size>0}function g(l){return 0===me(l).L_.size}function C(l){l.Q_=void 0}function H(l){return ee.apply(this,arguments)}function ee(){return(ee=(0,St.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function Ge(l){return It.apply(this,arguments)}function It(){return(It=(0,St.A)(function*(l){l.N_.forEach((t,i)=>{Kd(l,t)})})).apply(this,arguments)}function rn(l,t){return xn.apply(this,arguments)}function xn(){return(xn=(0,St.A)(function*(l,t){C(l),h(l)?(l.q_.M_(t),y(l)):l.q_.set("Unknown")})).apply(this,arguments)}function tr(l,t,i){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,St.A)(function*(l,t,i){if(l.q_.set("Online"),t instanceof S&&2===t.state&&t.cause)try{yield(s=(0,St.A)(function*(p,_){const w=_.cause;for(const P of _.targetIds)p.N_.has(P)&&(yield p.remoteSyncer.rejectListen(P,w),p.N_.delete(P),p.Q_.removeTarget(P))}),function u(p,_){return s.apply(this,arguments)})(l,t)}catch(s){Kt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield ro(l,s)}else if(t instanceof R?l.Q_.Ke(t):t instanceof x?l.Q_.He(t):l.Q_.We(t),!i.isEqual(Fn.min()))try{const s=yield Kh(l.localStore);i.compareTo(s)>=0&&(yield function(p,_){const w=p.Q_.rt(_);return w.targetChanges.forEach((P,G)=>{if(P.resumeToken.approximateByteSize()>0){const re=p.N_.get(G);re&&p.N_.set(G,re.withResumeToken(P.resumeToken,_))}}),w.targetMismatches.forEach((P,G)=>{const re=p.N_.get(P);if(!re)return;p.N_.set(P,re.withResumeToken(ui.EMPTY_BYTE_STRING,re.snapshotVersion)),Im(p,P);const Ce=new _a(re.target,P,G,re.sequenceNumber);Kd(p,Ce)}),p.remoteSyncer.applyRemoteEvent(w)}(l,i))}catch(s){Kt("RemoteStore","Failed to raise snapshot:",s),yield ro(l,s)}var s}),Yn.apply(this,arguments)}function ro(l,t,i){return na.apply(this,arguments)}function na(){return(na=(0,St.A)(function*(l,t,i){if(!hi(t))throw t;l.L_.add(1),yield Ju(l),l.q_.set("Offline"),i||(i=()=>Kh(l.localStore)),l.asyncQueue.enqueueRetryable((0,St.A)(function*(){Kt("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield Aa(l)}))})).apply(this,arguments)}function Zu(l,t){return t().catch(i=>ro(l,i,t))}function Iu(l){return ra.apply(this,arguments)}function ra(){return(ra=(0,St.A)(function*(l){const t=me(l),i=Xa(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Tp(t);)try{const u=yield Ul(t.localStore,s);if(null===u){0===t.O_.length&&i.o_();break}s=u.batchId,Jh(t,u)}catch(u){yield ro(t,u)}Zh(t)&&Dp(t)})).apply(this,arguments)}function Tp(l){return g(l)&&l.O_.length<10}function Jh(l,t){l.O_.push(t);const i=Xa(l);i.r_()&&i.V_&&i.m_(t.mutations)}function Zh(l){return g(l)&&!Xa(l).n_()&&l.O_.length>0}function Dp(l){Xa(l).start()}function Em(l){return qd.apply(this,arguments)}function qd(){return(qd=(0,St.A)(function*(l){Xa(l).p_()})).apply(this,arguments)}function Am(l){return ef.apply(this,arguments)}function ef(){return(ef=(0,St.A)(function*(l){const t=Xa(l);for(const i of l.O_)t.m_(i.mutations)})).apply(this,arguments)}function $l(l,t,i){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,St.A)(function*(l,t,i){const s=l.O_.shift(),u=Zi.from(s,t,i);yield Zu(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield Iu(l)})).apply(this,arguments)}function v_(l,t){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,St.A)(function*(l,t){var i;t&&Xa(l).V_&&(yield(i=(0,St.A)(function*(u,p){if(ol(w=p.code)&&w!==oe.ABORTED){const _=u.O_.shift();Xa(u).s_(),yield Zu(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield Iu(u)}var w}),function s(u,p){return i.apply(this,arguments)})(l,t)),Zh(l)&&Dp(l)}),Cm.apply(this,arguments)}function bp(l,t){return zc.apply(this,arguments)}function zc(){return(zc=(0,St.A)(function*(l,t){const i=me(l);i.asyncQueue.verifyOperationInProgress(),Kt("RemoteStore","RemoteStore received new credentials");const s=g(i);i.L_.add(3),yield Ju(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield Aa(i)})).apply(this,arguments)}function Tm(l,t){return tf.apply(this,arguments)}function tf(){return(tf=(0,St.A)(function*(l,t){const i=me(l);t?(i.L_.delete(2),yield Aa(i)):t||(i.L_.add(2),yield Ju(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Gc(l){return l.K_||(l.K_=function(i,s,u){const p=me(i);return p.w_(),new $c(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:H.bind(null,l),Ro:Ge.bind(null,l),mo:rn.bind(null,l),d_:tr.bind(null,l)}),l.B_.push(function(){var t=(0,St.A)(function*(i){i?(l.K_.s_(),h(l)?y(l):l.q_.set("Unknown")):(yield l.K_.stop(),C(l))});return function(i){return t.apply(this,arguments)}}())),l.K_}function Xa(l){return l.U_||(l.U_=function(i,s,u){const p=me(i);return p.w_(),new Wd(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Em.bind(null,l),mo:v_.bind(null,l),f_:Am.bind(null,l),g_:$l.bind(null,l)}),l.B_.push(function(){var t=(0,St.A)(function*(i){i?(l.U_.s_(),yield Iu(l)):(yield l.U_.stop(),l.O_.length>0&&(Kt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return t.apply(this,arguments)}}())),l.U_}class Wc{constructor(t,i,s,u,p){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new pe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,p){const _=Date.now()+s,w=new Wc(t,i,_,u,p);return w.start(s),w}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(oe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kc(l,t){if(qn("AsyncQueue",`${t}: ${l}`),hi(l))return new We(oe.UNAVAILABLE,`${t}: ${l}`);throw l}class ec{constructor(t){this.comparator=t?(i,s)=>t(i,s)||$e.comparator(i.key,s.key):(i,s)=>$e.comparator(i.key,s.key),this.keyedMap=Z(),this.sortedSet=new ar(this.comparator)}static emptySet(t){return new ec(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ec)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new ec;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class __{constructor(){this.W_=new ar($e.comparator)}track(t){const i=t.doc.key,s=this.W_.get(i);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(i):1===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):je():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,s)=>{t.push(s)}),t}}class Xd{constructor(t,i,s,u,p,_,w,P,G){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=w,this.excludesMetadataChanges=P,this.hasCachedResults=G}static fromInitialDocuments(t,i,s,u,p){const _=[];return i.forEach(w=>{_.push({type:0,doc:w})}),new Xd(t,i,ec.emptySet(i),_,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&j(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class J0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class y_{constructor(){this.queries=wp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=me(i),p=u.queries;u.queries=wp(),p.forEach((_,w)=>{for(const P of w.j_)P.onError(s)})}(this,new We(oe.ABORTED,"Firestore shutting down"))}}function wp(){return new D(l=>I(l),j)}function Dm(l,t){return Us.apply(this,arguments)}function Us(){return(Us=(0,St.A)(function*(l,t){const i=me(l);let s=3;const u=t.query;let p=i.queries.get(u);p?!p.H_()&&t.J_()&&(s=2):(p=new J0,s=t.J_()?0:1);try{switch(s){case 0:p.z_=yield i.onListen(u,!0);break;case 1:p.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const w=Kc(_,`Initialization of query '${V(t.query)}' failed`);return void t.onError(w)}i.queries.set(u,p),p.j_.push(t),t.Z_(i.onlineState),p.z_&&t.X_(p.z_)&&I_(i)})).apply(this,arguments)}function nf(l,t){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,St.A)(function*(l,t){const i=me(l),s=t.query;let u=3;const p=i.queries.get(s);if(p){const _=p.j_.indexOf(t);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=t.J_()?0:1:!p.H_()&&t.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Rp(l,t){const i=me(l);let s=!1;for(const u of t){const _=i.queries.get(u.query);if(_){for(const w of _.j_)w.X_(u)&&(s=!0);_.z_=u}}s&&I_(i)}function bA(l,t,i){const s=me(l),u=s.queries.get(t);if(u)for(const p of u.j_)p.onError(i);s.queries.delete(t)}function I_(l){l.Y_.forEach(t=>{t.next()})}var ds,qc;(qc=ds||(ds={})).ea="default",qc.Cache="cache";class Mp{constructor(t,i,s){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new Xd(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Xd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==ds.Cache}}class E_{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class A_{constructor(t){this.serializer=t}Es(t){return Yo(this.serializer,t)}ds(t){return t.metadata.exists?wc(this.serializer,t.document,!1):Xt.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Ei(t)}}class C_{constructor(t,i,s){this.ca=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=T_(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const s=pr.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,s=new A_(this.serializer);for(const u of t)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const w=(i.get(_)||Rn()).add(p);i.set(_,w)}}return i}complete(){var t=this;return(0,St.A)(function*(){const i=yield function Ap(l,t,i,s){return Vc.apply(this,arguments)}(t.localStore,new A_(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield mm(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function T_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class bm{constructor(t){this.key=t}}class D_{constructor(t){this.key=t}}class wm{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Rn(),this.mutatedKeys=Rn(),this.Aa=mn(t),this.Ra=new ec(this.Aa)}get Va(){return this.Ta}ma(t,i){const s=i?i.fa:new __,u=i?i.Ra:this.Ra;let p=i?i.mutatedKeys:this.mutatedKeys,_=u,w=!1;const P="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((re,Ce)=>{const Xe=u.get(re),Dt=te(this.query,Ce)?Ce:null,an=!!Xe&&this.mutatedKeys.has(Xe.key),fn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let ln=!1;Xe&&Dt?Xe.data.isEqual(Dt.data)?an!==fn&&(s.track({type:3,doc:Dt}),ln=!0):this.ga(Xe,Dt)||(s.track({type:2,doc:Dt}),ln=!0,(P&&this.Aa(Dt,P)>0||G&&this.Aa(Dt,G)<0)&&(w=!0)):!Xe&&Dt?(s.track({type:0,doc:Dt}),ln=!0):Xe&&!Dt&&(s.track({type:1,doc:Xe}),ln=!0,(P||G)&&(w=!0)),ln&&(Dt?(_=_.add(Dt),p=fn?p.add(re):p.delete(re)):(_=_.delete(re),p=p.delete(re)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const re="F"===this.query.limitType?_.last():_.first();_=_.delete(re.key),p=p.delete(re.key),s.track({type:1,doc:re})}return{Ra:_,fa:s,ns:w,mutatedKeys:p}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const p=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const _=t.fa.G_();_.sort((re,Ce)=>function(Dt,an){const fn=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return fn(Dt)-fn(an)}(re.type,Ce.type)||this.Aa(re.doc,Ce.doc)),this.pa(s),u=null!=u&&u;const w=i&&!u?this.ya():[],P=0===this.da.size&&this.current&&!u?1:0,G=P!==this.Ea;return this.Ea=P,0!==_.length||G?{snapshot:new Xd(this.query,t.Ra,p,_,t.mutatedKeys,0===P,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:w}:{wa:w}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new __,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Rn(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return t.forEach(s=>{this.da.has(s)||i.push(new D_(s))}),this.da.forEach(s=>{t.has(s)||i.push(new bm(s))}),i}ba(t){this.Ta=t.Ts,this.da=Rn();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return Xd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Z0{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class eI{constructor(t){this.key=t,this.va=!1}}class tI{constructor(t,i,s,u,p,_){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new D(w=>I(w),j),this.Ma=new Map,this.xa=new Set,this.Oa=new ar($e.comparator),this.Na=new Map,this.La=new yp,this.Ba={},this.ka=new Map,this.qa=ki.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function nI(l,t){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,St.A)(function*(l,t,i=!0){const s=cf(l);let u;const p=s.Fa.get(t);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield rf(s,t,i,!0),u})).apply(this,arguments)}function b_(l,t){return Np.apply(this,arguments)}function Np(){return(Np=(0,St.A)(function*(l,t){const i=cf(l);yield rf(i,t,!0,!1)})).apply(this,arguments)}function rf(l,t,i,s){return xp.apply(this,arguments)}function xp(){return(xp=(0,St.A)(function*(l,t,i,s){const u=yield qu(l.localStore,Ni(t)),p=u.targetId,_=l.sharedClientState.addLocalQueryTarget(p,i);let w;return s&&(w=yield Op(l,t,p,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&_u(l.remoteStore,u),w})).apply(this,arguments)}function Op(l,t,i,s,u){return kp.apply(this,arguments)}function kp(){return kp=(0,St.A)(function*(l,t,i,s,u){l.Ka=(Ce,Xe,Dt)=>{return(an=(0,St.A)(function*(ln,Vn,or,cr){let nr=Vn.view.ma(or);nr.ns&&(nr=yield vl(ln.localStore,Vn.query,!1).then(({documents:He})=>Vn.view.ma(He,nr)));const Jr=cr&&cr.targetChanges.get(Vn.targetId),_r=cr&&null!=cr.targetMismatches.get(Vn.targetId),mt=Vn.view.applyChanges(nr,ln.isPrimaryClient,Jr,_r);return M_(ln,Vn.targetId,mt.wa),mt.snapshot}),function fn(ln,Vn,or,cr){return an.apply(this,arguments)})(l,Ce,Xe,Dt);var an};const p=yield vl(l.localStore,t,!0),_=new wm(t,p.Ts),w=_.ma(p.documents),P=T.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),G=_.applyChanges(w,l.isPrimaryClient,P);M_(l,i,G.wa);const re=new Z0(t,i,_);return l.Fa.set(t,re),l.Ma.has(i)?l.Ma.get(i).push(t):l.Ma.set(i,[t]),G.snapshot}),kp.apply(this,arguments)}function w_(l,t,i){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,St.A)(function*(l,t,i){const s=me(l),u=s.Fa.get(t),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(_=>!j(_,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield pu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&yu(s.remoteStore,u.targetId),Au(s,u.targetId)}).catch(sn))):(Au(s,u.targetId),yield pu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function rI(l,t){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,St.A)(function*(l,t){const i=me(l),s=i.Fa.get(t),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),yu(i.remoteStore,s.targetId))})).apply(this,arguments)}function Fp(){return(Fp=(0,St.A)(function*(l,t,i){const s=Fm(l);try{const u=yield function(_,w){const P=me(_),G=Hr.now(),re=w.reduce((Dt,an)=>Dt.add(an.key),Rn());let Ce,Xe;return P.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let an=fe(),fn=Rn();return P.cs.getEntries(Dt,re).next(ln=>{an=ln,an.forEach((Vn,or)=>{or.isValidDocument()||(fn=fn.add(Vn))})}).next(()=>P.localDocuments.getOverlayedDocuments(Dt,an)).next(ln=>{Ce=ln;const Vn=[];for(const or of w){const cr=Zl(or,Ce.get(or.key).overlayedDocument);null!=cr&&Vn.push(new _s(or.key,cr,de(cr.value.mapValue),bi.exists(!0)))}return P.mutationQueue.addMutationBatch(Dt,G,Vn,w)}).next(ln=>{Xe=ln;const Vn=ln.applyToLocalDocumentSet(Ce,fn);return P.documentOverlayCache.saveOverlays(Dt,ln.batchId,Vn)})}).then(()=>({batchId:Xe.batchId,changes:Pe(Ce)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(_,w,P){let G=_.Ba[_.currentUser.toKey()];G||(G=new ar(Pn)),G=G.insert(w,P),_.Ba[_.currentUser.toKey()]=G}(s,u.batchId,i),yield Cu(s,u.changes),yield Iu(s.remoteStore)}catch(u){const p=Kc(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function oI(l,t){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,St.A)(function*(l,t){const i=me(l);try{const s=yield function gm(l,t){const i=me(l),s=t.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const w=[];t.targetChanges.forEach((re,Ce)=>{const Xe=u.get(Ce);if(!Xe)return;w.push(i.Ur.removeMatchingKeys(p,re.removedDocuments,Ce).next(()=>i.Ur.addMatchingKeys(p,re.addedDocuments,Ce)));let Dt=Xe.withSequenceNumber(p.currentSequenceNumber);var fn,ln,Vn;null!==t.targetMismatches.get(Ce)?Dt=Dt.withResumeToken(ui.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):re.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(re.resumeToken,s)),u=u.insert(Ce,Dt),ln=Dt,Vn=re,(0===(fn=Xe).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-fn.snapshotVersion.toMicroseconds()>=3e8||Vn.addedDocuments.size+Vn.modifiedDocuments.size+Vn.removedDocuments.size>0)&&w.push(i.Ur.updateTargetData(p,Dt))});let P=fe(),G=Rn();if(t.documentUpdates.forEach(re=>{t.resolvedLimboDocuments.has(re)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(p,re))}),w.push(Lc(p,_,t.documentUpdates).next(re=>{P=re.Ps,G=re.Is})),!s.isEqual(Fn.min())){const re=i.Ur.getLastRemoteSnapshotVersion(p).next(Ce=>i.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));w.push(re)}return Le.waitFor(w).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,P,G)).next(()=>P)}).then(p=>(i.os=u,p))}(i.localStore,t);t.targetChanges.forEach((u,p)=>{const _=i.Na.get(p);_&&(Ne(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Ne(_.va):u.removedDocuments.size>0&&(Ne(_.va),_.va=!1))}),yield Cu(i,s,t)}catch(s){yield sn(s)}})).apply(this,arguments)}function S_(l,t,i){const s=me(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((p,_)=>{const w=_.view.Z_(t);w.snapshot&&u.push(w.snapshot)}),function(_,w){const P=me(_);P.onlineState=w;let G=!1;P.queries.forEach((re,Ce)=>{for(const Xe of Ce.j_)Xe.Z_(w)&&(G=!0)}),G&&I_(P)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function sI(l,t,i){return R_.apply(this,arguments)}function R_(){return(R_=(0,St.A)(function*(l,t,i){const s=me(l);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Na.get(t),p=u&&u.key;if(p){let _=new ar($e.comparator);_=_.insert(p,Xt.newNoDocument(p,Fn.min()));const w=Rn().add(p),P=new Dc(Fn.min(),new Map,new ar(Pn),_,w);yield oI(s,P),s.Oa=s.Oa.remove(p),s.Na.delete(t),xm(s)}else yield pu(s.localStore,t,!1).then(()=>Au(s,t,i)).catch(sn)})).apply(this,arguments)}function aI(l,t){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,St.A)(function*(l,t){const i=me(l),s=t.batch.batchId;try{const u=yield function Fc(l,t){const i=me(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),p=i.cs.newChangeBuffer({trackRemovals:!0});return function(w,P,G,re){const Ce=G.batch,Xe=Ce.keys();let Dt=Le.resolve();return Xe.forEach(an=>{Dt=Dt.next(()=>re.getEntry(P,an)).next(fn=>{const ln=G.docVersions.get(an);Ne(null!==ln),fn.version.compareTo(ln)<0&&(Ce.applyToRemoteDocument(fn,G),fn.isValidDocument()&&(fn.setReadTime(G.commitVersion),re.addEntry(fn)))})}),Dt.next(()=>w.mutationQueue.removeMutationBatch(P,Ce))}(i,s,t,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(w){let P=Rn();for(let G=0;G<w.mutationResults.length;++G)w.mutationResults[G].transformResults.length>0&&(P=P.add(w.batch.mutations[G].key));return P}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);Up(i,s,null),Nm(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Cu(i,u)}catch(u){yield sn(u)}})).apply(this,arguments)}function Mm(l,t,i){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,St.A)(function*(l,t,i){const s=me(l);try{const u=yield function(_,w){const P=me(_);return P.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let re;return P.mutationQueue.lookupMutationBatch(G,w).next(Ce=>(Ne(null!==Ce),re=Ce.keys(),P.mutationQueue.removeMutationBatch(G,Ce))).next(()=>P.mutationQueue.performConsistencyCheck(G)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(G,re,w)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,re)).next(()=>P.localDocuments.getDocuments(G,re))})}(s.localStore,t);Up(s,t,i),Nm(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield Cu(s,u)}catch(u){yield sn(u)}})).apply(this,arguments)}function Qd(){return(Qd=(0,St.A)(function*(l,t){const i=me(l);g(i.remoteStore)||Kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const w=me(_);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>w.mutationQueue.getHighestUnacknowledgedBatchId(P))}(i.localStore);if(-1===s)return void t.resolve();const u=i.ka.get(s)||[];u.push(t),i.ka.set(s,u)}catch(s){const u=Kc(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Nm(l,t){(l.ka.get(t)||[]).forEach(i=>{i.resolve()}),l.ka.delete(t)}function Up(l,t,i){const s=me(l);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(t);p&&(i?p.reject(i):p.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function Au(l,t,i=null){l.sharedClientState.removeLocalQueryTarget(t);for(const s of l.Ma.get(t))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(t),l.isPrimaryClient&&l.La.gr(t).forEach(s=>{l.La.containsKey(s)||lI(l,s)})}function lI(l,t){l.xa.delete(t.path.canonicalString());const i=l.Oa.get(t);null!==i&&(yu(l.remoteStore,i),l.Oa=l.Oa.remove(t),l.Na.delete(i),xm(l))}function M_(l,t,i){for(const s of i)s instanceof bm?(l.La.addReference(s.key,t),uI(l,s)):s instanceof D_?(Kt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,t),l.La.containsKey(s.key)||lI(l,s.key)):je()}function uI(l,t){const i=t.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(Kt("SyncEngine","New document in limbo: "+i),l.xa.add(s),xm(l))}function xm(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const t=l.xa.values().next().value;l.xa.delete(t);const i=new $e(pr.fromString(t)),s=l.qa.next();l.Na.set(s,new eI(i)),l.Oa=l.Oa.insert(i,s),_u(l.remoteStore,new _a(Ni(ma(i.path)),s,"TargetPurposeLimboResolution",qr.oe))}}function Cu(l,t,i){return P_.apply(this,arguments)}function P_(){return P_=(0,St.A)(function*(l,t,i){const s=me(l),u=[],p=[],_=[];var w;s.Fa.isEmpty()||(s.Fa.forEach((w,P)=>{_.push(s.Ka(P,t,i).then(G=>{var re;if((G||i)&&s.isPrimaryClient){const Ce=G?!G.fromCache:null===(re=null==i?void 0:i.targetChanges.get(P.targetId))||void 0===re?void 0:re.current;s.sharedClientState.updateQueryState(P.targetId,Ce?"current":"not-current")}if(G){u.push(G);const Ce=fu.Wi(P.targetId,G);p.push(Ce)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(w=(0,St.A)(function*(G,re){const Ce=me(G);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Xe=>Le.forEach(re,Dt=>Le.forEach(Dt.$i,an=>Ce.persistence.referenceDelegate.addReference(Xe,Dt.targetId,an)).next(()=>Le.forEach(Dt.Ui,an=>Ce.persistence.referenceDelegate.removeReference(Xe,Dt.targetId,an)))))}catch(Xe){if(!hi(Xe))throw Xe;Kt("LocalStore","Failed to update sequence numbers: "+Xe)}for(const Xe of re){const Dt=Xe.targetId;if(!Xe.fromCache){const an=Ce.os.get(Dt),ln=an.withLastLimboFreeSnapshotVersion(an.snapshotVersion);Ce.os=Ce.os.insert(Dt,ln)}}}),function P(G,re){return w.apply(this,arguments)})(s.localStore,p))}),P_.apply(this,arguments)}function wA(l,t){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,St.A)(function*(l,t){const i=me(l);if(!i.currentUser.isEqual(t)){Kt("SyncEngine","User change. New user:",t.toKey());const s=yield Wh(i.localStore,t);i.currentUser=t,(p=i).ka.forEach(w=>{w.forEach(P=>{P.reject(new We(oe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Cu(i,s.hs)}var p})).apply(this,arguments)}function cI(l,t){const i=me(l),s=i.Na.get(t);if(s&&s.va)return Rn().add(s.key);{let u=Rn();const p=i.Ma.get(t);if(!p)return u;for(const _ of p){const w=i.Fa.get(_);u=u.unionWith(w.view.Va)}return u}}function Om(l,t){return sf.apply(this,arguments)}function sf(){return(sf=(0,St.A)(function*(l,t){const i=me(l),s=yield vl(i.localStore,t.query,!0),u=t.view.ba(s);return i.isPrimaryClient&&M_(i,t.targetId,u.wa),u})).apply(this,arguments)}function Jd(l,t){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,St.A)(function*(l,t){const i=me(l);return xo(i.localStore,t).then(s=>Cu(i,s))})).apply(this,arguments)}function Bp(l,t,i,s){return nc.apply(this,arguments)}function nc(){return(nc=(0,St.A)(function*(l,t,i,s){const u=me(l),p=yield function(w,P){const G=me(w),re=me(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",Ce=>re.Mn(Ce,P).next(Xe=>Xe?G.localDocuments.getDocuments(Ce,Xe):Le.resolve(null)))}(u.localStore,t);var P;null!==p?("pending"===i?yield Iu(u.remoteStore):"acknowledged"===i||"rejected"===i?(Up(u,t,s||null),Nm(u,t),P=t,me(me(u.localStore).mutationQueue).On(P)):je(),yield Cu(u,p)):Kt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function rc(){return(rc=(0,St.A)(function*(l,t){const i=me(l);if(cf(i),Fm(i),!0===t&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield $p(i,s.toArray());i.Qa=!0,yield Tm(i.remoteStore,!0);for(const p of u)_u(i.remoteStore,p)}else if(!1===t&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(Au(i,_),pu(i.localStore,_,!0))),yu(i.remoteStore,_)}),yield u,yield $p(i,s),function(_){const w=me(_);w.Na.forEach((P,G)=>{yu(w.remoteStore,G)}),w.La.pr(),w.Na=new Map,w.Oa=new ar($e.comparator)}(i),i.Qa=!1,yield Tm(i.remoteStore,!1)}})).apply(this,arguments)}function $p(l,t,i){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,St.A)(function*(l,t,i){const s=me(l),u=[],p=[];for(const _ of t){let w;const P=s.Ma.get(_);if(P&&0!==P.length){w=yield qu(s.localStore,Ni(P[0]));for(const G of P){const re=s.Fa.get(G),Ce=yield Om(s,re);Ce.snapshot&&p.push(Ce.snapshot)}}else{const G=yield Na(s.localStore,_);w=yield qu(s.localStore,G),yield Op(s,Yc(G),_,!1,w.resumeToken)}u.push(w)}return s.Ca.d_(p),u})).apply(this,arguments)}function Yc(l){return Ua(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function jp(l){return i=me(l).localStore,me(me(i).persistence).Qi();var i}function SA(l,t,i,s){return lf.apply(this,arguments)}function lf(){return(lf=(0,St.A)(function*(l,t,i,s){const u=me(l);if(u.Qa)return void Kt("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(t);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield xo(u.localStore,Ut(p[0])),w=Dc.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,ui.EMPTY_BYTE_STRING);yield Cu(u,_,w);break}case"rejected":yield pu(u.localStore,t,!0),Au(u,t,s);break;default:je()}})).apply(this,arguments)}function uf(l,t,i){return km.apply(this,arguments)}function km(){return(km=(0,St.A)(function*(l,t,i){const s=cf(l);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){Kt("SyncEngine","Adding an already active target "+u);continue}const p=yield Na(s.localStore,u),_=yield qu(s.localStore,p);yield Op(s,Yc(p),_.targetId,!1,_.resumeToken),_u(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield pu(s.localStore,u,!1).then(()=>{yu(s.remoteStore,u),Au(s,u)}).catch(sn))}})).apply(this,arguments)}function cf(l){const t=me(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=oI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Ca.d_=Rp.bind(null,t.eventManager),t.Ca.$a=bA.bind(null,t.eventManager),t}function Fm(l){const t=me(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mm.bind(null,t),t}let ic=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,St.A)(function*(){s.serializer=Gd(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return Vd(this.persistence,new Oc,i.initialUser,this.serializer)}Ga(i){return new cu(Ku.Zr,this.serializer)}Wa(i){return new Hd}terminate(){var i=this;return(0,St.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class Lm extends ic{constructor(t,i,s){super(),this.Ja=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,St.A)(function*(){yield i().call(s,t),yield s.Ja.initialize(s,t),yield Fm(s.Ja.syncEngine),yield Iu(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return Vd(this.persistence,new Oc,t.initialUser,this.serializer)}ja(t,i){return new lu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}Ha(t,i){const s=new Xr(i,this.persistence);return new Di(t.asyncQueue,s)}Ga(t){const i=hu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new Gh(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,ym(),zd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new Hd}}class x_ extends Lm{constructor(t,i){super(t,i,!1),this.Ja=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,St.A)(function*(){yield i().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof vu&&(s.sharedClientState.syncEngine={no:Bp.bind(null,u),ro:SA.bind(null,u),io:uf.bind(null,u),Qi:jp.bind(null,u),eo:Jd.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,St.A)(function*(_){yield function af(l,t){return rc.apply(this,arguments)}(s.Ja.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}Wa(t){const i=ym();if(!vu.D(i))throw new We(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=hu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new vu(i,t.asyncQueue,s,t.clientId,t.initialUser)}}let jl=(()=>{class l{initialize(i,s){var u=this;return(0,St.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>S_(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=wA.bind(null,u.syncEngine),yield Tm(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new y_}createDatastore(i){const s=Gd(i.databaseInfo.databaseId),u=new cs(i.databaseInfo);return new jc(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,_=i.asyncQueue,w=s=>S_(this.syncEngine,s,0),P=Uc.D()?new Uc:new vm,new Hc(u,p,_,w,P);var u,p,_,w,P}createSyncEngine(i,s){return function(p,_,w,P,G,re,Ce){const Xe=new tI(p,_,w,P,G,re);return Ce&&(Xe.Qa=!0),Xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,St.A)(function*(){var s,u,p;yield(p=(0,St.A)(function*(w){const P=me(w);Kt("RemoteStore","RemoteStore shutting down."),P.L_.add(5),yield Ju(P),P.k_.shutdown(),P.q_.set("Unknown")}),function _(w){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function Vm(l,t=10240){let i=0;return{read:()=>(0,St.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,St.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Zd{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):qn("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}class hI{constructor(t,i){this.Xa=t,this.serializer=i,this.metadata=new pe,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,St.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,St.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,St.A)(function*(){const i=yield t.nu();if(null===i)return null;const s=t.eu.decode(i),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const p=yield t.iu(u);return new E_(JSON.parse(p),i.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,St.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const i=t.su();i<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}iu(t){var i=this;return(0,St.A)(function*(){for(;i.buffer.length<t;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,St.A)(function*(){const i=yield t.Xa.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class RA{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,St.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new We(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,St.A)(function*(_,w){const P=me(_),G={documents:w.map(Dt=>al(P.serializer,Dt))},re=yield P.Lo("BatchGetDocuments",P.serializer.databaseId,pr.emptyPath(),G,w.length),Ce=new Map;re.forEach(Dt=>{const an=function Vu(l,t){return"found"in t?function(s,u){Ne(!!u.found);const p=Yo(s,u.found.name),_=Ei(u.found.updateTime),w=u.found.createTime?Ei(u.found.createTime):Fn.min(),P=new B({mapValue:{fields:u.found.fields}});return Xt.newFoundDocument(p,_,w,P)}(l,t):"missing"in t?function(s,u){Ne(!!u.missing),Ne(!!u.readTime);const p=Yo(s,u.missing),_=Ei(u.readTime);return Xt.newNoDocument(p,_)}(l,t):je()}(P.serializer,Dt);Ce.set(an.key.toString(),an)});const Xe=[];return w.forEach(Dt=>{const an=Ce.get(Dt.toString());Ne(!!an),Xe.push(an)}),Xe}),function p(_,w){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Js(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,St.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const p=$e.fromPath(u);t.mutations.push(new no(p,t.precondition(p)))}),yield(s=(0,St.A)(function*(p,_){const w=me(p),P={writes:_.map(G=>ul(w.serializer,G))};yield w.Mo("Commit",w.serializer.databaseId,pr.emptyPath(),P)}),function u(p,_){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw je();i=Fn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new We(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(Fn.min())?bi.exists(!1):bi.updateTime(i):bi.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(Fn.min()))throw new We(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(i)}return bi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class MA{constructor(t,i,s,u,p){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=p,this._u=s.maxAttempts,this.t_=new Bc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,St.A)(function*(){const i=new RA(t.datastore),s=t.cu(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(p=>{t.lu(p)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const i=this.updateFunction(t);return!Ft(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!ol(i)}return!1}}class df{constructor(t,i,s,u,p){var _=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=wr.UNAUTHENTICATED,this.clientId=ir.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var w=(0,St.A)(function*(P){Kt("FirestoreClient","Received user=",P.uid),yield _.authCredentialListener(P),_.user=P});return function(P){return w.apply(this,arguments)}}()),this.appCheckCredentials.start(s,w=>(Kt("FirestoreClient","Received new app check token=",w),this.appCheckCredentialListener(w,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new pe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,St.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Kc(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Um(l,t){return eh.apply(this,arguments)}function eh(){return eh=(0,St.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),Kt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield t.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,St.A)(function*(p){s.isEqual(p)||(yield Wh(t.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),eh.apply(this,arguments)}function Hp(l,t){return zp.apply(this,arguments)}function zp(){return(zp=(0,St.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const i=yield Bm(l);Kt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,l.configuration),l.setCredentialChangeListener(s=>bp(t.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>bp(t.remoteStore,u)),l._onlineComponents=t})).apply(this,arguments)}function Bm(l){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,St.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){Kt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Um(l,l._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===oe.FAILED_PRECONDITION||u.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),yield Um(l,new ic)}}else Kt("FirestoreClient","Using default OfflineComponentProvider"),yield Um(l,new ic);var u;return l._offlineComponents})).apply(this,arguments)}function th(l){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,St.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(Kt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hp(l,l._uninitializedComponentsProvider._online)):(Kt("FirestoreClient","Using default OnlineComponentProvider"),yield Hp(l,new jl))),l._onlineComponents})).apply(this,arguments)}function oc(l){return Bm(l).then(t=>t.persistence)}function Jc(l){return Bm(l).then(t=>t.localStore)}function hf(l){return th(l).then(t=>t.remoteStore)}function Kp(l){return th(l).then(t=>t.syncEngine)}function Zc(l){return ff.apply(this,arguments)}function ff(){return(ff=(0,St.A)(function*(l){const t=yield th(l),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=w_.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=b_.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rI.bind(null,t.syncEngine),i})).apply(this,arguments)}function ed(l,t,i={}){const s=new pe;return l.asyncQueue.enqueueAndForget((0,St.A)(function*(){return function(p,_,w,P,G){const re=new Zd({next:Xe=>{re.Za(),_.enqueueAndForget(()=>nf(p,Ce));const Dt=Xe.docs.has(w);!Dt&&Xe.fromCache?G.reject(new We(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&Xe.fromCache&&P&&"server"===P.source?G.reject(new We(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Xe)},error:Xe=>G.reject(Xe)}),Ce=new Mp(ma(w.path),re,{includeMetadataChanges:!0,_a:!0});return Dm(p,Ce)}(yield Zc(l),l.asyncQueue,t,i,s)})),s.promise}function k_(l,t,i={}){const s=new pe;return l.asyncQueue.enqueueAndForget((0,St.A)(function*(){return function(p,_,w,P,G){const re=new Zd({next:Xe=>{re.Za(),_.enqueueAndForget(()=>nf(p,Ce)),Xe.fromCache&&"server"===P.source?G.reject(new We(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Xe)},error:Xe=>G.reject(Xe)}),Ce=new Mp(w,re,{includeMetadataChanges:!0,_a:!0});return Dm(p,Ce)}(yield Zc(l),l.asyncQueue,t,i,s)})),s.promise}function U_(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const B_=new Map;function zm(l,t,i){if(!i)throw new We(oe.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function $_(l,t,i,s){if(!0===t&&!0===s)throw new We(oe.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function j_(l){if(!$e.isDocumentKey(l))throw new We(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Hl(l){if($e.isDocumentKey(l))throw new We(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Tu(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(s=l).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof l?"a function":je()}function Ai(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new We(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tu(l);throw new We(oe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return l}function H_(l,t){if(t<=0)throw new We(oe.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class z_{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new We(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new We(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=U_(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new We(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new We(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new We(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pf{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new We(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new Ke;switch(s.type){case"firstParty":return new On(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new We(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,St.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=B_.get(i);s&&(Kt("ComponentProvider","Removing Datastore"),B_.delete(i),s.terminate())}(this),Promise.resolve()}}class Es{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Es(this.firestore,t,this._query)}}class fo{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fo(this.firestore,t,this._key)}}class zl extends Es{constructor(t,i,s){super(t,i,ma(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fo(this.firestore,null,new $e(t))}withConverter(t){return new zl(this.firestore,t,this._path)}}function W_(l,t,...i){if(l=(0,Tn.Ku)(l),zm("collection","path",t),l instanceof pf){const s=pr.fromString(t,...i);return Hl(s),new zl(l,null,s)}{if(!(l instanceof fo||l instanceof zl))throw new We(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(pr.fromString(t,...i));return Hl(s),new zl(l.firestore,null,s)}}function Qp(l,t,...i){if(l=(0,Tn.Ku)(l),1===arguments.length&&(t=ir.newId()),zm("doc","path",t),l instanceof pf){const s=pr.fromString(t,...i);return j_(s),new fo(l,null,new $e(s))}{if(!(l instanceof fo||l instanceof zl))throw new We(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(pr.fromString(t,...i));return j_(s),new fo(l.firestore,l instanceof zl?l.converter:null,new $e(s))}}function gf(l,t){return l=(0,Tn.Ku)(l),t=(0,Tn.Ku)(t),(l instanceof fo||l instanceof zl)&&(t instanceof fo||t instanceof zl)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function yl(l,t){return l=(0,Tn.Ku)(l),t=(0,Tn.Ku)(t),l instanceof Es&&t instanceof Es&&l.firestore===t.firestore&&j(l._query,t._query)&&l.converter===t.converter}class nh{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bc(this,"async_queue_retry"),this.Vu=()=>{const s=zd();s&&Kt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const i=zd();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=zd();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new pe;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,St.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(i){if(!hi(i))throw i;Kt("AsyncQueue","Operation failed with retryable error: "+i)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,qn("INTERNAL UNHANDLED ERROR: ",function(_){let w=_.message||"";return _.stack&&(w=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),w}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(t,i,s){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const u=Wc.createAndSchedule(this,t,i,s,p=>this.yu(p));return this.Tu.push(u),u}fu(){this.Eu&&je()}verifyOperationInProgress(){}wu(){var t=this;return(0,St.A)(function*(){let i;do{i=t.mu,yield i}while(i!==t.mu)})()}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Yp(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(l)}class K_{constructor(){this._progressObserver={},this._taskCompletionResolver=new pe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class po extends pf{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new nh,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var t=this;return(0,St.A)(function*(){if(t._firestoreClient){const i=t._firestoreClient.terminate();t._queue=new nh(i),t._firestoreClient=void 0,yield i}})()}}function go(l){if(l._terminated)throw new We(oe.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||Jp(l),l._firestoreClient}function Jp(l){var t,i,s;const u=l._freezeSettings(),p=(P=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new zs(l._databaseId,P,l._persistenceKey,(re=u).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,U_(re.experimentalLongPollingOptions),re.useFetchStreams));var P,re;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new df(l._authCredentials,l._appCheckCredentials,l._queue,p,l._componentsProvider&&function(w){const P=null==w?void 0:w._online.build();return{_offline:null==w?void 0:w._offline.build(P),_online:P}}(l._componentsProvider))}function Zp(){return(Zp=(0,St.A)(function*(l){zr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=l._freezeSettings();X_(l,jl.provider,{build:i=>new x_(i,t.cacheSizeBytes)})})).apply(this,arguments)}function X_(l,t,i){if((l=Ai(l,po))._firestoreClient||l._terminated)throw new We(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new We(oe.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:t,_offline:i},Jp(l)}class xa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xa(ui.fromBase64String(t))}catch(i){throw new We(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xa(ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Gl{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new We(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nd{constructor(t){this._methodName=t}}class Wl{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new We(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new We(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pn(this._lat,t._lat)||Pn(this._long,t._long)}}class eg{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,t._values)}}const EI=/^__.*__$/;class Gm{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new _s(t,this.data,this.fieldMask,i,this.fieldTransforms):new er(t,this.data,i,this.fieldTransforms)}}class tg{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new _s(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function Z_(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class ng{constructor(t,i,s,u,p,_){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return rh(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Z_(this.Cu)&&EI.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class AI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Gd(t)}Qu(t,i,s,u=!1){return new ng({Cu:t,methodName:i,qu:s,path:Kn.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rd(l){const t=l._freezeSettings(),i=Gd(l._databaseId);return new AI(l._databaseId,!!t.ignoreUndefinedProperties,i)}function vf(l,t,i,s,u,p={}){const _=l.Qu(p.merge||p.mergeFields?2:0,t,i,u);Qm("Data must be an object, but it was:",_,s);const w=ty(s,_);let P,G;if(p.merge)P=new Ci(_.fieldMask),G=_.fieldTransforms;else if(p.mergeFields){const re=[];for(const Ce of p.mergeFields){const Xe=sd(t,Ce,i);if(!_.contains(Xe))throw new We(oe.INVALID_ARGUMENT,`Field '${Xe}' is specified in your field mask but missing from your input data.`);TI(re,Xe)||re.push(Xe)}P=new Ci(re),G=_.fieldTransforms.filter(Ce=>P.covers(Ce.field))}else P=null,G=_.fieldTransforms;return new Gm(new B(w),P,G)}class rg extends nd{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rg}}function CI(l,t,i){return new ng({Cu:3,qu:t.settings.qu,methodName:l._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class id extends nd{_toFieldTransform(t){return new Xo(t.path,new xi)}isEqual(t){return t instanceof id}}class Wm extends nd{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=CI(this,t,!0),s=this.Ku.map(p=>od(p,i)),u=new Yi(s);return new Xo(t.path,u)}isEqual(t){return t instanceof Wm&&(0,Tn.bD)(this.Ku,t.Ku)}}class Km extends nd{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=CI(this,t,!0),s=this.Ku.map(p=>od(p,i)),u=new yi(s);return new Xo(t.path,u)}isEqual(t){return t instanceof Km&&(0,Tn.bD)(this.Ku,t.Ku)}}class qm extends nd{constructor(t,i){super(t),this.$u=i}_toFieldTransform(t){const i=new Ho(t.serializer,Qr(t.serializer,this.$u));return new Xo(t.path,i)}isEqual(t){return t instanceof qm&&this.$u===t.$u}}function ig(l,t,i,s){const u=l.Qu(1,t,i);Qm("Data must be an object, but it was:",u,s);const p=[],_=B.empty();Pr(s,(P,G)=>{const re=Ym(t,P,i);G=(0,Tn.Ku)(G);const Ce=u.Nu(re);if(G instanceof rg)p.push(re);else{const Xe=od(G,Ce);null!=Xe&&(p.push(re),_.set(re,Xe))}});const w=new Ci(p);return new tg(_,w,u.fieldTransforms)}function Xm(l,t,i,s,u,p){const _=l.Qu(1,t,i),w=[sd(t,s,i)],P=[u];if(p.length%2!=0)throw new We(oe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xe=0;Xe<p.length;Xe+=2)w.push(sd(t,p[Xe])),P.push(p[Xe+1]);const G=[],re=B.empty();for(let Xe=w.length-1;Xe>=0;--Xe)if(!TI(G,w[Xe])){const Dt=w[Xe];let an=P[Xe];an=(0,Tn.Ku)(an);const fn=_.Nu(Dt);if(an instanceof rg)G.push(Dt);else{const ln=od(an,fn);null!=ln&&(G.push(Dt),re.set(Dt,ln))}}const Ce=new Ci(G);return new tg(re,Ce,_.fieldTransforms)}function ey(l,t,i,s=!1){return od(i,l.Qu(s?4:3,t))}function od(l,t){if(ny(l=(0,Tn.Ku)(l)))return Qm("Unsupported field value:",t,l),ty(l,t);if(l instanceof nd)return function(s,u){if(!Z_(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const p=[];let _=0;for(const w of s){let P=od(w,u.Lu(_));null==P&&(P={nullValue:"NULL_VALUE"}),p.push(P),_++}return{arrayValue:{values:p}}}(l,t)}return function(s,u){if(null===(s=(0,Tn.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Qr(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Hr.fromDate(s);return{timestampValue:Er(u.serializer,p)}}if(s instanceof Hr){const p=new Hr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Er(u.serializer,p)}}if(s instanceof Wl)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xa)return{bytesValue:co(u.serializer,s._byteString)};if(s instanceof fo){const p=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Zs(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof eg)return w=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(P=>{if("number"!=typeof P)throw w.Bu("VectorValues must only contain numeric values.");return Xi(w.serializer,P)})}}}}};var w;throw u.Bu(`Unsupported field value: ${Tu(s)}`)}(l,t)}function ty(l,t){const i={};return wi(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(l,(s,u)=>{const p=od(u,t.Mu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function ny(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Hr||l instanceof Wl||l instanceof xa||l instanceof fo||l instanceof nd||l instanceof eg)}function Qm(l,t,i){if(!ny(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Tu(i);throw t.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function sd(l,t,i){if((t=(0,Tn.Ku)(t))instanceof Gl)return t._internalPath;if("string"==typeof t)return Ym(l,t);throw rh("Field path arguments must be of type string or ",l,!1,void 0,i)}const OA=new RegExp("[~\\*/\\[\\]]");function Ym(l,t,i){if(t.search(OA)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new Gl(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function rh(l,t,i,s,u){const p=s&&!s.isEmpty(),_=void 0!==u;let w=`Function ${t}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let P="";return(p||_)&&(P+=" (found",p&&(P+=` in field ${s}`),_&&(P+=` in document ${u}`),P+=")"),new We(oe.INVALID_ARGUMENT,w+l+P)}function TI(l,t){return l.some(i=>i.isEqual(t))}class og{constructor(t,i,s,u,p){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new kA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Jm("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class kA extends og{data(){return super.data()}}function Jm(l,t){return"string"==typeof t?Ym(l,t):t instanceof Gl?t._internalPath:t._delegate._internalPath}function DI(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new We(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zm{}class sc extends Zm{}function Il(l,t,...i){let s=[];t instanceof Zm&&s.push(t),s=s.concat(i),function(p){const _=p.filter(P=>P instanceof ad).length,w=p.filter(P=>P instanceof ih).length;if(_>1||_>0&&w>0)throw new We(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class ih extends sc{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new ih(t,i,s)}_apply(t){const i=this._parse(t);return lg(t._query,i),new Es(t.firestore,t.converter,A(t._query,i))}_parse(t){const i=rd(t.firestore);return function(p,_,w,P,G,re,Ce){let Xe;if(G.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new We(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){ag(Ce,re);const Dt=[];for(const an of Ce)Dt.push(_f(P,p,an));Xe={arrayValue:{values:Dt}}}else Xe=_f(P,p,Ce)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||ag(Ce,re),Xe=ey(w,"where",Ce,"in"===re||"not-in"===re);return Tr.create(G,re,Xe)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class ad extends Zm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ad(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:li.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,p){let _=u;const w=p.getFlattenedFilters();for(const P of w)lg(_,P),_=A(_,P)}(t._query,i),new Es(t.firestore,t.converter,A(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sg extends sc{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new sg(t,i)}_apply(t){const i=function(u,p,_){if(null!==u.startAt)throw new We(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new We(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hi(p,_)}(t._query,this._field,this._direction);return new Es(t.firestore,t.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new jo(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class Bs extends sc{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Bs(t,i,s)}_apply(t){return new Es(t.firestore,t.converter,M(t._query,this._limit,this._limitType))}}class ev extends sc{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new ev(t,i,s)}_apply(t){const i=wI(t,this.type,this._docOrFields,this._inclusive);return new Es(t.firestore,t.converter,(p=i,new jo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class tv extends sc{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new tv(t,i,s)}_apply(t){const i=wI(t,this.type,this._docOrFields,this._inclusive);return new Es(t.firestore,t.converter,(p=i,new jo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function wI(l,t,i,s){if(i[0]=(0,Tn.Ku)(i[0]),i[0]instanceof og)return function(p,_,w,P,G){if(!P)throw new We(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const re=[];for(const Ce of Do(p))if(Ce.field.isKeyField())re.push(Ko(_,P.key));else{const Xe=P.data.field(Ce.field);if(Mo(Xe))throw new We(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Xe){const Dt=Ce.field.canonicalString();throw new We(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Dt}' (used as the orderBy) does not exist.`)}re.push(Xe)}return new Jn(re,G)}(l._query,l.firestore._databaseId,t,i[0]._document,s);{const u=rd(l.firestore);return function(_,w,P,G,re,Ce){const Xe=_.explicitOrderBy;if(re.length>Xe.length)throw new We(oe.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Dt=[];for(let an=0;an<re.length;an++){const fn=re[an];if(Xe[an].field.isKeyField()){if("string"!=typeof fn)throw new We(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof fn}`);if(!Qs(_)&&-1!==fn.indexOf("/"))throw new We(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${fn}' contains a slash.`);const ln=_.path.child(pr.fromString(fn));if(!$e.isDocumentKey(ln))throw new We(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const Vn=new $e(ln);Dt.push(Ko(w,Vn))}else{const ln=ey(P,G,fn);Dt.push(ln)}}return new Jn(Dt,Ce)}(l._query,l.firestore._databaseId,u,t,i,s)}}function _f(l,t,i){if("string"==typeof(i=(0,Tn.Ku)(i))){if(""===i)throw new We(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qs(t)&&-1!==i.indexOf("/"))throw new We(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(pr.fromString(i));if(!$e.isDocumentKey(s))throw new We(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ko(l,new $e(s))}if(i instanceof fo)return Ko(l,i._key);throw new We(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tu(i)}.`)}function ag(l,t){if(!Array.isArray(l)||0===l.length)throw new We(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lg(l,t){const i=function(u,p){for(const _ of u)for(const w of _.getFlattenedFilters())if(p.indexOf(w.op)>=0)return w.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new We(oe.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class ac{convertValue(t,i="none"){switch(oo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return si(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw je()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Pr(t,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(t){var i,s,u;const p=null===(u=null===(s=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>si(_.doubleValue));return new eg(p)}convertGeoPoint(t){return new Wl(si(t.latitude),si(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Lo(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(da(t));default:return null}}convertTimestamp(t){const i=Ro(t);return new Hr(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=pr.fromString(t);Ne(Rc(s));const u=new Bi(s.get(1),s.get(3)),p=new $e(s.popFirst(5));return u.isEqual(i)||qn(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function sh(l,t,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(t,i):l.toFirestore(t):t,s}class ly extends ac{constructor(t){super(),this.firestore=t}convertBytes(t){return new xa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new fo(this.firestore,null,i)}}class ld{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Du extends og{constructor(t,i,s,u,p,_){super(t,i,s,u,_),this._firestore=t,this._firestoreImpl=t,this.metadata=p}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ah extends Du{data(t={}){return super.data(t)}}class Kl{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new ld(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new ah(this._firestore,this._userDataWriter,s.key,s,new ld(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new We(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new ah(u._firestore,u._userDataWriter,w.doc.key,w.doc,new ld(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>p||3!==w.type).map(w=>{const P=new ah(u._firestore,u._userDataWriter,w.doc.key,w.doc,new ld(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let G=-1,re=-1;return 0!==w.type&&(G=_.indexOf(w.doc.key),_=_.delete(w.doc.key)),1!==w.type&&(_=_.add(w.doc),re=_.indexOf(w.doc.key)),{type:yf(w.type),doc:P,oldIndex:G,newIndex:re}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function yf(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}function If(l,t){return l instanceof Du&&t instanceof Du?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof Kl&&t instanceof Kl&&l._firestore===t._firestore&&yl(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}class lc extends ac{constructor(t){super(),this.firestore=t}convertBytes(t){return new xa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new fo(this.firestore,null,i)}}function ov(l,t,i){l=Ai(l,fo);const s=Ai(l.firestore,po),u=sh(l.converter,t,i);return uc(s,[vf(rd(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,bi.none())])}function ug(l,t,i,...s){l=Ai(l,fo);const u=Ai(l.firestore,po),p=rd(u);let _;return _="string"==typeof(t=(0,Tn.Ku)(t))||t instanceof Gl?Xm(p,"updateDoc",l._key,t,i,s):ig(p,"updateDoc",l._key,t),uc(u,[_.toMutation(l._key,bi.exists(!0))])}function sv(l,...t){var i,s,u;l=(0,Tn.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof t[_]||Yp(t[_])||(p=t[_],_++);const w={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Yp(t[_])){const Ce=t[_];t[_]=null===(i=Ce.next)||void 0===i?void 0:i.bind(Ce),t[_+1]=null===(s=Ce.error)||void 0===s?void 0:s.bind(Ce),t[_+2]=null===(u=Ce.complete)||void 0===u?void 0:u.bind(Ce)}let P,G,re;if(l instanceof fo)G=Ai(l.firestore,po),re=ma(l._key.path),P={next:Ce=>{t[_]&&t[_](cg(G,l,Ce))},error:t[_+1],complete:t[_+2]};else{const Ce=Ai(l,Es);G=Ai(Ce.firestore,po),re=Ce._query;const Xe=new lc(G);P={next:Dt=>{t[_]&&t[_](new Kl(G,Xe,Ce,Dt))},error:t[_+1],complete:t[_+2]},DI(l._query)}return function(Xe,Dt,an,fn){const ln=new Zd(fn),Vn=new Mp(Dt,ln,an);return Xe.asyncQueue.enqueueAndForget((0,St.A)(function*(){return Dm(yield Zc(Xe),Vn)})),()=>{ln.Za(),Xe.asyncQueue.enqueueAndForget((0,St.A)(function*(){return nf(yield Zc(Xe),Vn)}))}}(go(G),re,w,P)}function uc(l,t){return function(s,u){const p=new pe;return s.asyncQueue.enqueueAndForget((0,St.A)(function*(){return function iI(l,t,i){return Fp.apply(this,arguments)}(yield Kp(s),u,p)})),p.promise}(go(l),t)}function cg(l,t,i){const s=i.docs.get(t._key),u=new lc(l);return new Du(l,u,t._key,s,new ld(i.hasPendingWrites,i.fromCache),t.converter)}const vy={maxAttempts:5};class Yr{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=rd(t)}set(t,i,s){this._verifyNotCommitted();const u=bu(t,this._firestore),p=sh(u.converter,i,s),_=vf(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,bi.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const p=bu(t,this._firestore);let _;return _="string"==typeof(i=(0,Tn.Ku)(i))||i instanceof Gl?Xm(this._dataReader,"WriteBatch.update",p._key,i,s,u):ig(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,bi.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=bu(t,this._firestore);return this._mutations=this._mutations.concat(new Js(i._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bu(l,t){if((l=(0,Tn.Ku)(l)).firestore!==t)throw new We(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class _y extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=rd(i)}get(i){const s=bu(i,this._firestore),u=new ly(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return je();const _=p[0];if(_.isFoundDocument())return new og(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new og(this._firestore,u,s._key,null,s.converter);throw je()})}set(i,s,u){const p=bu(i,this._firestore),_=sh(p.converter,s,u),w=vf(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,w),this}update(i,s,u,...p){const _=bu(i,this._firestore);let w;return w="string"==typeof(s=(0,Tn.Ku)(s))||s instanceof Gl?Xm(this._dataReader,"Transaction.update",_._key,s,u,p):ig(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,w),this}delete(i){const s=bu(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=bu(t,this._firestore),s=new lc(this._firestore);return super.get(t).then(u=>new Du(this._firestore,s,i._key,u._document,new ld(!1,!1),i.converter))}}function hv(l,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new We("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return t}function Sy(){if(typeof Uint8Array>"u")throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function ia(){if(!function ms(){return typeof atob<"u"}())throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){rr=Qn.SDK_VERSION,(0,Qn._registerComponent)(new sr.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const _=s.getProvider("app").getImmediate(),w=new po(new ht(s.getProvider("auth-internal")),new pi(s.getProvider("app-check-internal")),function(G,re){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new We(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bi(G.options.projectId,re)}(_,u),_);return p=Object.assign({useFetchStreams:i},p),w._setSettings(p),w},"PUBLIC").setMultipleInstances(!0)),(0,Qn.registerVersion)(Cr,"4.7.3",t),(0,Qn.registerVersion)(Cr,"4.7.3","esm2017")}();class Af{constructor(t){this._delegate=t}static fromBase64String(t){return ia(),new Af(xa.fromBase64String(t))}static fromUint8Array(t){return Sy(),new Af(xa.fromUint8Array(t))}toBase64(){return ia(),this._delegate.toBase64()}toUint8Array(){return Sy(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fv(l){return function zA(l,t){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of t)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class pv{enableIndexedDbPersistence(t,i){return function NA(l,t){zr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return X_(l,jl.provider,{build:s=>new Lm(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function xA(l){return Zp.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function gI(l){if(l._initialized&&!l._terminated)throw new We(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pe;return l._queue.enqueueAndForgetEvenWhileRestricted((0,St.A)(function*(){try{yield(i=(0,St.A)(function*(u){if(!jn.D())return Promise.resolve();const p=u+"main";yield jn.delete(p)}),function s(u){return i.apply(this,arguments)})(hu(l._databaseId,l._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class gv{constructor(t,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Bi||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,s={}){!function G_(l,t,i,s={}){var u;const p=(l=Ai(l,pf))._getSettings(),_=`${t}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let w,P;if("string"==typeof s.mockUserToken)w=s.mockUserToken,P=wr.MOCK_USER;else{w=(0,Tn.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new We(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new wr(G)}l._authCredentials=new xt(new Te(w,P))}}(this._delegate,t,i,s)}enableNetwork(){return function vI(l){return function O_(l){return l.asyncQueue.enqueue((0,St.A)(function*(){const t=yield oc(l),i=yield hf(l);return t.setNetworkEnabled(!0),function(u){const p=me(u);return p.L_.delete(0),Aa(p)}(i)}))}(go(l=Ai(l,po)))}(this._delegate)}disableNetwork(){return function _I(l){return function qp(l){return l.asyncQueue.enqueue((0,St.A)(function*(){const t=yield oc(l),i=yield hf(l);return t.setNetworkEnabled(!1),(s=(0,St.A)(function*(p){const _=me(p);_.L_.add(0),yield Ju(_),_.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(i);var s}))}(go(l=Ai(l,po)))}(this._delegate)}enablePersistence(t){let i=!1,s=!1;return t&&(i=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,$_("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function mI(l){return function(i){const s=new pe;return i.asyncQueue.enqueueAndForget((0,St.A)(function*(){return function tc(l,t){return Qd.apply(this,arguments)}(yield Kp(i),s)})),s.promise}(go(l=Ai(l,po)))}(this._delegate)}onSnapshotsInSync(t){return function fy(l,t){return function Xp(l,t){const i=new Zd(t);return l.asyncQueue.enqueueAndForget((0,St.A)(function*(){return u=yield Zc(l),p=i,me(u).Y_.add(p),void p.next();var u,p})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,St.A)(function*(){return u=yield Zc(l),p=i,void me(u).Y_.delete(p);var u,p}))}}(go(l=Ai(l,po)),Yp(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new uh(this,W_(this._delegate,t))}catch(i){throw As(i,"collection()","Firestore.collection()")}}doc(t){try{return new Qa(this,Qp(this._delegate,t))}catch(i){throw As(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new oa(this,function pI(l,t){if(l=Ai(l,pf),zm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new We(oe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Es(l,null,(s=t,new jo(pr.emptyPath(),s)));var s}(this._delegate,t))}catch(i){throw As(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function lh(l,t,i){l=Ai(l,po);const s=Object.assign(Object.assign({},vy),i);return function(p){if(p.maxAttempts<1)throw new We(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,w){const P=new pe;return p.asyncQueue.enqueueAndForget((0,St.A)(function*(){const G=yield function $m(l){return th(l).then(t=>t.datastore)}(p);new MA(p.asyncQueue,G,w,_,P).au()})),P.promise}(go(l),u=>t(new _y(l,u)),s)}(this._delegate,i=>t(new Ry(this,i)))}batch(){return go(this._delegate),new mv(new Yr(this._delegate,t=>uc(this._delegate,t)))}loadBundle(t){return function Q_(l,t){const i=go(l=Ai(l,po)),s=new K_;return function Hm(l,t,i,s){const u=function(_,w){let P;return P="string"==typeof _?Rl().encode(_):_,re=function(re){if(re instanceof Uint8Array)return Vm(re,void 0);if(re instanceof ArrayBuffer)return Vm(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new hI(re,w);var re}(i,Gd(t));l.asyncQueue.enqueueAndForget((0,St.A)(function*(){!function dI(l,t,i){const s=me(l);var u;(u=(0,St.A)(function*(_,w,P){try{const G=yield w.getMetadata();if(yield function(an,fn){const ln=me(an),Vn=Ei(fn.createTime);return ln.persistence.runTransaction("hasNewerBundle","readonly",or=>ln.Gr.getBundleMetadata(or,fn.id)).then(or=>!!or&&or.createTime.compareTo(Vn)>=0)}(_.localStore,G))return yield w.close(),P._completeWith({taskState:"Success",documentsLoaded:(an=G).totalDocuments,bytesLoaded:an.totalBytes,totalDocuments:an.totalDocuments,totalBytes:an.totalBytes}),Promise.resolve(new Set);P._updateProgress(T_(G));const re=new C_(G,_.localStore,w.serializer);let Ce=yield w.Ua();for(;Ce;){const Dt=yield re.la(Ce);Dt&&P._updateProgress(Dt),Ce=yield w.Ua()}const Xe=yield re.complete();return yield Cu(_,Xe.Ia,void 0),yield function(an,fn){const ln=me(an);return ln.persistence.runTransaction("Save bundle","readwrite",Vn=>ln.Gr.saveBundleMetadata(Vn,fn))}(_.localStore,G),P._completeWith(Xe.progress),Promise.resolve(Xe.Pa)}catch(G){return zr("SyncEngine",`Loading bundle failed with ${G}`),P._failWith(G),Promise.resolve(new Set)}var an}),function p(_,w,P){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Kp(l),u,s)}))}(i,l._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function II(l,t){return function F_(l,t){return l.asyncQueue.enqueue((0,St.A)(function*(){return function(s,u){const p=me(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield Jc(l),t)}))}(go(l=Ai(l,po)),t).then(i=>i?new Es(l,null,i.query):null)}(this._delegate,t).then(i=>i?new oa(this,i):null)}}class gg extends ac{constructor(t){super(),this.firestore=t}convertBytes(t){return new Af(new xa(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return Qa.forKey(i,this.firestore,null)}}class Ry{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new gg(t)}get(t){const i=fd(t);return this._delegate.get(i).then(s=>new Cf(this._firestore,new Du(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(t,i,s){const u=fd(t);return s?(hv("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const p=fd(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(t){const i=fd(t);return this._delegate.delete(i),this}}class mv{constructor(t){this._delegate=t}set(t,i,s){const u=fd(t);return s?(hv("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const p=fd(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(t){const i=fd(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class hd{constructor(t,i,s){this._firestore=t,this._userDataWriter=i,this._delegate=s}fromFirestore(t,i){const s=new ah(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Tf(this._firestore,s),null!=i?i:{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const s=hd.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let p=u.get(i);return p||(p=new hd(t,new gg(t),i),u.set(i,p)),p}}hd.INSTANCES=new WeakMap;class Qa{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new gg(t)}static forPath(t,i,s){if(t.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Qa(i,new fo(i._delegate,s,new $e(t)))}static forKey(t,i,s){return new Qa(i,new fo(i._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new uh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new uh(this.firestore,W_(this._delegate,t))}catch(i){throw As(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Tn.Ku)(t))instanceof fo&&gf(this._delegate,t)}set(t,i){i=hv("DocumentReference.set",i);try{return i?ov(this._delegate,t,i):ov(this._delegate,t)}catch(s){throw As(s,"setDoc()","DocumentReference.set()")}}update(t,i,...s){try{return 1===arguments.length?ug(this._delegate,t):ug(this._delegate,t,i,...s)}catch(u){throw As(u,"updateDoc()","DocumentReference.update()")}}delete(){return function PI(l){return uc(Ai(l.firestore,po),[new Js(l._key,bi.none())])}(this._delegate)}onSnapshot(...t){const i=My(t),s=Py(t,u=>new Cf(this.firestore,new Du(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return sv(this._delegate,i,s)}get(t){let i;return i="cache"===(null==t?void 0:t.source)?function MI(l){l=Ai(l,fo);const t=Ai(l.firestore,po),i=go(t),s=new lc(t);return function jm(l,t){const i=new pe;return l.asyncQueue.enqueueAndForget((0,St.A)(function*(){return(s=(0,St.A)(function*(p,_,w){try{const P=yield function(re,Ce){const Xe=me(re);return Xe.persistence.runTransaction("read document","readonly",Dt=>Xe.localDocuments.getDocument(Dt,Ce))}(p,_);P.isFoundDocument()?w.resolve(P):P.isNoDocument()?w.resolve(null):w.reject(new We(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const G=Kc(P,`Failed to get document '${_} from cache`);w.reject(G)}}),function u(p,_,w){return s.apply(this,arguments)})(yield Jc(l),t,i);var s})),i.promise}(i,l._key).then(u=>new Du(t,s,l._key,u,new ld(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function iv(l){l=Ai(l,fo);const t=Ai(l.firestore,po);return ed(go(t),l._key,{source:"server"}).then(i=>cg(t,l,i))}(this._delegate):function rv(l){l=Ai(l,fo);const t=Ai(l.firestore,po);return ed(go(t),l._key).then(i=>cg(t,l,i))}(this._delegate),i.then(s=>new Cf(this.firestore,new Du(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new Qa(this.firestore,this._delegate.withConverter(t?hd.getInstance(this.firestore,t):null))}}function As(l,t,i){return l.message=l.message.replace(t,i),l}function My(l){for(const t of l)if("object"==typeof t&&!fv(t))return t;return{}}function Py(l,t){var i,s;let u;return u=fv(l[0])?l[0]:fv(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{u.next&&u.next(t(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Cf{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new Qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return If(this._delegate,t._delegate)}}class Tf extends Cf{data(t){const i=this._delegate.data(t);return this._delegate._converter||function kt(l){l||je()}(void 0!==i),i}}class oa{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new gg(t)}where(t,i,s){try{return new oa(this.firestore,Il(this._delegate,function ry(l,t,i){const s=t,u=Jm("where",l);return ih._create(u,s,i)}(t,i,s)))}catch(u){throw As(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new oa(this.firestore,Il(this._delegate,function oh(l,t="asc"){const i=t,s=Jm("orderBy",l);return sg._create(s,i)}(t,i)))}catch(s){throw As(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new oa(this.firestore,Il(this._delegate,function Oa(l){return H_("limit",l),Bs._create("limit",l,"F")}(t)))}catch(i){throw As(i,"limit()","Query.limit()")}}limitToLast(t){try{return new oa(this.firestore,Il(this._delegate,function iy(l){return H_("limitToLast",l),Bs._create("limitToLast",l,"L")}(t)))}catch(i){throw As(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new oa(this.firestore,Il(this._delegate,function bI(...l){return ev._create("startAt",l,!0)}(...t)))}catch(i){throw As(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new oa(this.firestore,Il(this._delegate,function VA(...l){return ev._create("startAfter",l,!1)}(...t)))}catch(i){throw As(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new oa(this.firestore,Il(this._delegate,function oy(...l){return tv._create("endBefore",l,!1)}(...t)))}catch(i){throw As(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new oa(this.firestore,Il(this._delegate,function sy(...l){return tv._create("endAt",l,!0)}(...t)))}catch(i){throw As(i,"endAt()","Query.endAt()")}}isEqual(t){return yl(this._delegate,t._delegate)}get(t){let i;return i="cache"===(null==t?void 0:t.source)?function ud(l){l=Ai(l,Es);const t=Ai(l.firestore,po),i=go(t),s=new lc(t);return function fI(l,t){const i=new pe;return l.asyncQueue.enqueueAndForget((0,St.A)(function*(){return(s=(0,St.A)(function*(p,_,w){try{const P=yield vl(p,_,!0),G=new wm(_,P.Ts),re=G.ma(P.documents),Ce=G.applyChanges(re,!1);w.resolve(Ce.snapshot)}catch(P){const G=Kc(P,`Failed to execute query '${_} against cache`);w.reject(G)}}),function u(p,_,w){return s.apply(this,arguments)})(yield Jc(l),t,i);var s})),i.promise}(i,l._query).then(u=>new Kl(t,s,l,u))}(this._delegate):"server"===(null==t?void 0:t.source)?function dy(l){l=Ai(l,Es);const t=Ai(l.firestore,po),i=go(t),s=new lc(t);return k_(i,l._query,{source:"server"}).then(u=>new Kl(t,s,l,u))}(this._delegate):function cy(l){l=Ai(l,Es);const t=Ai(l.firestore,po),i=go(t),s=new lc(t);return DI(l._query),k_(i,l._query).then(u=>new Kl(t,s,l,u))}(this._delegate),i.then(s=>new Df(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const i=My(t),s=Py(t,u=>new Df(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return sv(this._delegate,i,s)}withConverter(t){return new oa(this.firestore,this._delegate.withConverter(t?hd.getInstance(this.firestore,t):null))}}class ql{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Tf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Df{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new oa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Tf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new ql(this._firestore,i))}forEach(t,i){this._delegate.forEach(s=>{t.call(i,new Tf(this._firestore,s))})}isEqual(t){return If(this._delegate,t._delegate)}}class uh extends oa{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Qa(this.firestore,t):null}doc(t){try{return new Qa(this.firestore,void 0===t?Qp(this._delegate):Qp(this._delegate,t))}catch(i){throw As(i,"doc()","CollectionReference.doc()")}}add(t){return function hy(l,t){const i=Ai(l.firestore,po),s=Qp(l),u=sh(l.converter,t);return uc(i,[vf(rd(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,bi.exists(!1))]).then(()=>s)}(this._delegate,t).then(i=>new Qa(this.firestore,i))}isEqual(t){return gf(this._delegate,t._delegate)}withConverter(t){return new uh(this.firestore,this._delegate.withConverter(t?hd.getInstance(this.firestore,t):null))}}function fd(l){return Ai(l,fo)}class mg{constructor(...t){this._delegate=new Gl(...t)}static documentId(){return new mg(Kn.keyField().canonicalString())}isEqual(t){return(t=(0,Tn.Ku)(t))instanceof Gl&&this._delegate._internalPath.isEqual(t._internalPath)}}class cc{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Iy(){return new id("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new cc(t)}static delete(){const t=function yy(){return new rg("deleteField")}();return t._methodName="FieldValue.delete",new cc(t)}static arrayUnion(...t){const i=function LI(...l){return new Wm("arrayUnion",l)}(...t);return i._methodName="FieldValue.arrayUnion",new cc(i)}static arrayRemove(...t){const i=function dg(...l){return new Km("arrayRemove",l)}(...t);return i._methodName="FieldValue.arrayRemove",new cc(i)}static increment(t){const i=function dd(l){return new qm("increment",l)}(t);return i._methodName="FieldValue.increment",new cc(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const vg={Firestore:gv,GeoPoint:Wl,Timestamp:Hr,Blob:Af,Transaction:Ry,WriteBatch:mv,DocumentReference:Qa,DocumentSnapshot:Cf,Query:oa,QueryDocumentSnapshot:Tf,QuerySnapshot:Df,CollectionReference:uh,FieldPath:mg,FieldValue:cc,setLogLevel:function $I(l){!function eo(l){ii.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};function _v(l,t){return function Ny(l,t=ot.E){return new ze.c(i=>{let s;return null!=t?t.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,t)}function ch(l,t){return _v(l,t).pipe((0,Ye.T)(i=>({payload:i,type:"query"})))}!function GA(l){(function vv(l,t){l.INTERNAL.registerComponent(new sr.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},vg)))})(l,(t,i)=>new gv(t,i,new pv)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(Bt.A);class _g{constructor(t,i){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"afs",void 0),this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const s=this.ref.collection(t),{ref:u,query:p}=Iv(s,i);return new yv(u,p,this.afs)}snapshotChanges(){return function xy(l,t){return _v(l,t).pipe((0,$t.Z)(void 0),dn(),(0,Ye.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ae.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ye.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,Ie.H)(this.ref.get(t)).pipe(ae.U0)}}function Ya(l,t){return ch(l,t).pipe((0,$t.Z)(void 0),dn(),(0,Ye.T)(i=>{const[s,u]=i,p=u.payload.docChanges(),_=p.map(w=>({type:w.type,payload:w}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((w,P)=>{const G=p.find(Ce=>Ce.doc.ref.isEqual(w.ref)),re=null==s?void 0:s.payload.docs.find(Ce=>Ce.ref.isEqual(w.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(w.metadata)||!G&&re&&JSON.stringify(re.metadata)===JSON.stringify(w.metadata)||_.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:w}})}),_}))}function Oy(l,t,i){return Ya(l,i).pipe((0,_n.S)((s,u)=>function jI(l,t,i){return t.forEach(s=>{i.indexOf(s.type)>-1&&(l=function HI(l,t){switch(t.type){case"added":if(!l[t.newIndex]||!l[t.newIndex].doc.ref.isEqual(t.doc.ref))return bf(l,t.newIndex,0,t);break;case"modified":if(null==l[t.oldIndex]||l[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=l.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return bf(l,t.newIndex,1,t)}break;case"removed":if(l[t.oldIndex]&&l[t.oldIndex].doc.ref.isEqual(t.doc.ref))return bf(l,t.oldIndex,1)}return l}(l,s))}),l}(s,u.map(p=>p.payload),t),[]),(0,zn.F)(),(0,Ye.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function bf(l,t,i,...s){const u=l.slice();return u.splice(t,i,...s),u}function pd(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class yv{constructor(t,i,s){(0,c.A)(this,"ref",void 0),(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.ref=t,this.query=i,this.afs=s}stateChanges(t){let i=Ya(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,Ye.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,$t.Z)(void 0),dn(),(0,Ht.p)(([s,u])=>u.length>0||!s),(0,Ye.T)(([,s])=>s),ae.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,_n.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=pd(t);return Oy(this.query,i,this.afs.schedulers.outsideAngular).pipe(ae.U0)}valueChanges(t={}){return ch(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(i=>i.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ae.U0)}get(t){return(0,Ie.H)(this.query.get(t)).pipe(ae.U0)}add(t){return this.ref.add(t)}doc(t){return new _g(this.ref.doc(t),this.afs)}}class gd{constructor(t,i){(0,c.A)(this,"query",void 0),(0,c.A)(this,"afs",void 0),this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Ya(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(i=>i.filter(s=>t.indexOf(s.type)>-1)),(0,Ht.p)(i=>i.length>0),ae.U0):Ya(this.query,this.afs.schedulers.outsideAngular).pipe(ae.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,_n.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=pd(t);return Oy(this.query,i,this.afs.schedulers.outsideAngular).pipe(ae.U0)}valueChanges(t={}){return ch(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ae.U0)}get(t){return(0,Ie.H)(this.query.get(t)).pipe(ae.U0)}}const md=new he.nKC("angularfire2.enableFirestorePersistence"),yg=new he.nKC("angularfire2.firestore.persistenceSettings"),wf=new he.nKC("angularfire2.firestore.settings"),ky=new he.nKC("angularfire2.firestore.use-emulator");function Iv(l,t=i=>i){return{query:t(l),ref:l}}let Fy=(()=>{var l;class t{constructor(s,u,p,_,w,P,G,re,Ce,Xe,Dt,an,fn,ln,Vn,or,cr){(0,c.A)(this,"schedulers",void 0),(0,c.A)(this,"firestore",void 0),(0,c.A)(this,"persistenceEnabled$",void 0),this.schedulers=G;const nr=(0,ye.iB)(s,P,u),Jr=Ce;Xe&&De(nr,P,Dt,fn,ln,Vn,an,or),[this.firestore,this.persistenceEnabled$]=(0,ye.BM)(`${nr.name}.firestore`,"AngularFirestore",nr.name,()=>{const _r=P.runOutsideAngular(()=>nr.firestore());if(_&&_r.settings(_),Jr&&_r.useEmulator(...Jr),p&&!(0,f.Vy)(w)){const mt=()=>{try{return(0,Ie.H)(_r.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(He){return typeof console<"u"&&console.warn(He),(0,ke.of)(!1)}};return[_r,P.runOutsideAngular(mt)]}return[_r,(0,ke.of)(!1)]},[_,Jr,p])}collection(s,u){let p;p="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:w}=Iv(p,u),P=this.schedulers.ngZone.run(()=>_);return new yv(P,w,this)}collectionGroup(s,u){const p=u||(w=>w),_=this.firestore.collectionGroup(s);return new gd(p(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const p=this.schedulers.ngZone.run(()=>u);return new _g(p,this)}createId(){return this.firestore.collection("_").doc().id}}return l=t,(0,c.A)(t,"\u0275fac",function(s){return new(s||l)(he.KVO(ye.rx),he.KVO(ye.uP,8),he.KVO(md,8),he.KVO(wf,8),he.KVO(he.Agw),he.KVO(he.SKi),he.KVO(ae.u0),he.KVO(yg,8),he.KVO(ky,8),he.KVO(qe,8),he.KVO(kn,8),he.KVO(Pt,8),he.KVO(_e,8),he.KVO(Ee,8),he.KVO(X,8),he.KVO(Y,8),he.KVO(ae.Jv,8))}),(0,c.A)(t,"\u0275prov",he.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),t})(),zI=(()=>{var l;class t{constructor(){pn.A.registerVersion("angularfire",ae.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:t,providers:[{provide:md,useValue:!0},{provide:yg,useValue:s}]}}}return l=t,(0,c.A)(t,"\u0275fac",function(s){return new(s||l)}),(0,c.A)(t,"\u0275mod",he.$C({type:l})),(0,c.A)(t,"\u0275inj",he.G2t({providers:[Fy]})),t})()},9253:(An,ft,$)=>{"use strict";$.d(ft,{BM:()=>lt,Gt:()=>ce,bf:()=>Oe,e7:()=>be,iB:()=>ue,rx:()=>ze,uP:()=>Ie});var c=$(9842),f=$(4438),he=$(1825),ae=$(7935);const ye=["ngOnDestroy"],ce=(vt,dt,pt,ve={})=>new Proxy(vt,{get:(we,rt)=>pt.runOutsideAngular(()=>{var ut;if(vt[rt])return null!=ve&&null!==(ut=ve.spy)&&void 0!==ut&&ut.get&&ve.spy.get(rt,vt[rt]),vt[rt];if(ye.indexOf(rt)>-1)return()=>{};const Ct=dt.toPromise().then(Rt=>{const Se=null==Rt?void 0:Rt[rt];return"function"==typeof Se?Se.bind(Rt):null!=Se&&Se.then?Se.then(Wt=>pt.run(()=>Wt)):pt.run(()=>Se)});return new Proxy(()=>{},{get:(Rt,Se)=>Ct[Se],apply:(Rt,Se,Wt)=>Ct.then(Ht=>{var pn;const on=null==Ht?void 0:Ht(...Wt);return null!=ve&&null!==(pn=ve.spy)&&void 0!==pn&&pn.apply&&ve.spy.apply(rt,Wt,on),on})})})}),be=(vt,dt)=>{dt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(ve=>{Object.defineProperty(vt.prototype,ve,Object.getOwnPropertyDescriptor(pt.prototype||pt,ve))})})};class ke{constructor(dt){return dt}}const ze=new f.nKC("angularfire2.app.options"),Ie=new f.nKC("angularfire2.app.name");function ue(vt,dt,pt){const we="object"==typeof pt&&pt||{};we.name=we.name||"string"==typeof pt&&pt||"[DEFAULT]";const ut=ae.A.apps.filter(Ct=>Ct&&Ct.name===we.name)[0]||dt.runOutsideAngular(()=>ae.A.initializeApp(vt,we));try{if(JSON.stringify(vt)!==JSON.stringify(ut.options)){const Ct=!!module.hot;Ue("error",`${ut.name} Firebase App already initialized with different options${Ct?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ke(ut)}const Ue=(vt,...dt)=>{(0,f.naY)()&&typeof console<"u"&&console[vt](...dt)},xe={provide:ke,useFactory:ue,deps:[ze,f.SKi,[new f.Xx1,Ie]]};let Oe=(()=>{var vt;class dt{static initializeApp(ve,we){return{ngModule:dt,providers:[{provide:ze,useValue:ve},{provide:Ie,useValue:we}]}}constructor(ve){ae.A.registerVersion("angularfire",he.xv.full,"core"),ae.A.registerVersion("angularfire",he.xv.full,"app-compat"),ae.A.registerVersion("angular",f.xvI.full,ve.toString())}}return vt=dt,(0,c.A)(dt,"\u0275fac",function(ve){return new(ve||vt)(f.KVO(f.Agw))}),(0,c.A)(dt,"\u0275mod",f.$C({type:vt})),(0,c.A)(dt,"\u0275inj",f.G2t({providers:[xe]})),dt})();function lt(vt,dt,pt,ve,we){const[,rt,ut]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===vt)||[];if(rt)return function st(vt,dt){try{return vt.toString()===dt.toString()}catch{return vt===dt}}(we,ut)||(Ye("error",`${dt} was already initialized on the ${pt} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:we,was:ut})),rt;{const Ct=ve();return globalThis.\u0275AngularfireInstanceCache.push([vt,Ct,we]),Ct}}const et=typeof module<"u"&&!!module.hot,Ye=(vt,...dt)=>{(0,f.naY)()&&typeof console<"u"&&console[vt](...dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(An,ft,$)=>{"use strict";$.d(ft,{xv:()=>st,U0:()=>pn,u0:()=>ut,Jv:()=>dt});var c=$(9842),f=$(4438),he=$(7852);(0,he.registerVersion)("firebase","10.14.1","app");var ce=$(6780),ke=$(9687);const Ie=new class ze extends ke.q{}(class be extends ce.R{constructor(Ee,X){super(Ee,X),this.scheduler=Ee,this.work=X}schedule(Ee,X=0){return X>0?super.schedule(Ee,X):(this.delay=X,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,X){return X>0||this.closed?super.execute(Ee,X):this._execute(Ee,X)}requestAsyncId(Ee,X,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(Ee,X,Y):(Ee.flush(this),0)}});var Ue=$(3236),xe=$(8141),Oe=$(6745),lt=$(941);const st=new f.RxE("ANGULARFIRE2_VERSION");class dt{constructor(){return(_e=>{const X=(0,he.getApps)(),Y=[];return X.forEach(De=>{De.container.getProvider(_e).instances.forEach(Je=>{Y.includes(Je)||Y.push(Je)})}),Y})(pt)}}const pt="app-check";function ve(){}class we{constructor(Ee,X=Ie){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=Ee,this.delegate=X}now(){return this.delegate.now()}schedule(Ee,X,Y){const De=this.zone;return this.delegate.schedule(function(Je){De.runGuarded(()=>{Ee.apply(this,[Je])})},X,Y)}}class rt{constructor(Ee){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=Ee}call(Ee,X){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),X.pipe((0,xe.M)({next:Y,complete:Y,error:Y})).subscribe(Ee).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ut=(()=>{var _e;class Ee{constructor(Y){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new we(Zone.current)),this.insideAngular=Y.run(()=>new we(Zone.current,Ue.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _e=Ee,(0,c.A)(Ee,"\u0275fac",function(Y){return new(Y||_e)(f.KVO(f.SKi))}),(0,c.A)(Ee,"\u0275prov",f.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})),Ee})();function pn(_e){return function on(_e){return function(X){return(X=X.lift(new rt(_e.ngZone))).pipe((0,Oe._)(_e.outsideAngular),(0,lt.Q)(_e.insideAngular))}}(function Ct(){const _e=globalThis.\u0275AngularFireScheduler;if(!_e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _e}())(_e)}},4341:(An,ft,$)=>{"use strict";$.d(ft,{YN:()=>Da,zX:()=>si,VZ:()=>Mo,cz:()=>ut,kq:()=>st,vO:()=>En,BC:()=>Mn,vS:()=>is});var c=$(4438),f=$(177),he=$(8455),ae=$(1985),ye=$(3073),ce=$(8750),be=$(3794),ke=$(4360),ze=$(6450),Ie=$(8496),Ue=$(1413),xe=$(6354);let Oe=(()=>{var z;class N{constructor(B,de){this._renderer=B,this._elementRef=de,this.onChange=Xt=>{},this.onTouched=()=>{}}setProperty(B,de){this._renderer.setProperty(this._elementRef.nativeElement,B,de)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return(z=N).\u0275fac=function(B){return new(B||z)(c.rXU(c.sFG),c.rXU(c.aKT))},z.\u0275dir=c.FsC({type:z}),N})(),lt=(()=>{var z;class N extends Oe{}return(z=N).\u0275fac=(()=>{let Q;return function(de){return(Q||(Q=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,features:[c.Vt3]}),N})();const st=new c.nKC(""),vt={provide:st,useExisting:(0,c.Rfq)(()=>ve),multi:!0},pt=new c.nKC("");let ve=(()=>{var z;class N extends Oe{constructor(B,de,Xt){super(B,de),this._compositionMode=Xt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dt(){const z=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(B){this.setProperty("value",null==B?"":B)}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return(z=N).\u0275fac=function(B){return new(B||z)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(pt,8))},z.\u0275dir=c.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,de){1&B&&c.bIt("input",function(Jn){return de._handleInput(Jn.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Jn){return de._compositionEnd(Jn.target.value)})},features:[c.Jv_([vt]),c.Vt3]}),N})();function we(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}const ut=new c.nKC(""),Ct=new c.nKC("");function X(z){return null}function Y(z){return null!=z}function De(z){return(0,c.jNT)(z)?(0,he.H)(z):z}function qe(z){let N={};return z.forEach(Q=>{N=null!=Q?{...N,...Q}:N}),0===Object.keys(N).length?null:N}function Je(z,N){return N.map(Q=>Q(z))}function $t(z){return z.map(N=>function ot(z){return!z.validate}(N)?N:Q=>N.validate(Q))}function dn(z){return null!=z?function Ln(z){if(!z)return null;const N=z.filter(Y);return 0==N.length?null:function(Q){return qe(Je(Q,N))}}($t(z)):null}function zn(z){return null!=z?function _n(z){if(!z)return null;const N=z.filter(Y);return 0==N.length?null:function(Q){return function ue(...z){const N=(0,be.ms)(z),{args:Q,keys:B}=(0,ye.D)(z),de=new ae.c(Xt=>{const{length:Jn}=Q;if(!Jn)return void Xt.complete();const Si=new Array(Jn);let $i=Jn,Hi=Jn;for(let ls=0;ls<Jn;ls++){let Bo=!1;(0,ce.Tg)(Q[ls]).subscribe((0,ke._)(Xt,Tr=>{Bo||(Bo=!0,Hi--),Si[ls]=Tr},()=>$i--,void 0,()=>{(!$i||!Bo)&&(Hi||Xt.next(B?(0,Ie.e)(B,Si):Si),Xt.complete())}))}});return N?de.pipe((0,ze.I)(N)):de}(Je(Q,N).map(De)).pipe((0,xe.T)(qe))}}($t(z)):null}function Bt(z,N){return null===z?[N]:Array.isArray(z)?[...z,N]:[z,N]}function sr(z){return z?Array.isArray(z)?z:[z]:[]}function Xn(z,N){return Array.isArray(z)?z.includes(N):z===N}function Tn(z,N){const Q=sr(N);return sr(z).forEach(de=>{Xn(Q,de)||Q.push(de)}),Q}function Zt(z,N){return sr(N).filter(Q=>!Xn(z,Q))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=dn(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N=void 0){this.control&&this.control.reset(N)}hasError(N,Q){return!!this.control&&this.control.hasError(N,Q)}getError(N,Q){return this.control?this.control.getError(N,Q):null}}class Ot extends Nt{get formDirective(){return null}get path(){return null}}class En extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vt{constructor(N){this._cd=N}get isTouched(){var N,Q,B;return null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||null===(Q=N._touched)||void 0===Q||Q.call(N),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.touched)}get isUntouched(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.untouched)}get isPristine(){var N,Q,B;return null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||null===(Q=N._pristine)||void 0===Q||Q.call(N),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.pristine)}get isDirty(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.dirty)}get isValid(){var N,Q,B;return null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||null===(Q=N._status)||void 0===Q||Q.call(N),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.valid)}get isInvalid(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.invalid)}get isPending(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.pending)}get isSubmitted(){var N,Q,B;return null===(N=this._cd)||void 0===N||null===(Q=N._submitted)||void 0===Q||Q.call(N),!(null===(B=this._cd)||void 0===B||!B.submitted)}}let Mn=(()=>{var z;class N extends Vt{constructor(B){super(B)}}return(z=N).\u0275fac=function(B){return new(B||z)(c.rXU(En,2))},z.\u0275dir=c.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,de){2&B&&c.AVh("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[c.Vt3]}),N})();const kt="VALID",me="INVALID",oe="PENDING",We="DISABLED";class pe{}class Te extends pe{constructor(N,Q){super(),this.value=N,this.source=Q}}class Ke extends pe{constructor(N,Q){super(),this.pristine=N,this.source=Q}}class xt extends pe{constructor(N,Q){super(),this.touched=N,this.source=Q}}class ht extends pe{constructor(N,Q){super(),this.status=N,this.source=Q}}function ir(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class Hn{constructor(N,Q){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new Ue.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(Q)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(N){(0,c.O8t)(()=>this.statusReactive.set(N))}get valid(){return this.status===kt}get invalid(){return this.status===me}get pending(){return this.status==oe}get disabled(){return this.status===We}get enabled(){return this.status!==We}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(N){(0,c.O8t)(()=>this.pristineReactive.set(N))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(N){(0,c.O8t)(()=>this.touchedReactive.set(N))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(Tn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(Tn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Zt(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Zt(N,this._rawAsyncValidators))}hasValidator(N){return Xn(this._rawValidators,N)}hasAsyncValidator(N){return Xn(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){var Q;const B=!1===this.touched;this.touched=!0;const de=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;this._parent&&!N.onlySelf&&this._parent.markAsTouched({...N,sourceControl:de}),B&&!1!==N.emitEvent&&this._events.next(new xt(!0,de))}markAllAsTouched(N={}){this.markAsTouched({onlySelf:!0,emitEvent:N.emitEvent,sourceControl:this}),this._forEachChild(Q=>Q.markAllAsTouched(N))}markAsUntouched(N={}){var Q;const B=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const de=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;this._forEachChild(Xt=>{Xt.markAsUntouched({onlySelf:!0,emitEvent:N.emitEvent,sourceControl:de})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N,de),B&&!1!==N.emitEvent&&this._events.next(new xt(!1,de))}markAsDirty(N={}){var Q;const B=!0===this.pristine;this.pristine=!1;const de=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;this._parent&&!N.onlySelf&&this._parent.markAsDirty({...N,sourceControl:de}),B&&!1!==N.emitEvent&&this._events.next(new Ke(!1,de))}markAsPristine(N={}){var Q;const B=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const de=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;this._forEachChild(Xt=>{Xt.markAsPristine({onlySelf:!0,emitEvent:N.emitEvent})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N,de),B&&!1!==N.emitEvent&&this._events.next(new Ke(!0,de))}markAsPending(N={}){var Q;this.status=oe;const B=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;!1!==N.emitEvent&&(this._events.next(new ht(this.status,B)),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.markAsPending({...N,sourceControl:B})}disable(N={}){var Q;const B=this._parentMarkedDirty(N.onlySelf);this.status=We,this.errors=null,this._forEachChild(Xt=>{Xt.disable({...N,onlySelf:!0})}),this._updateValue();const de=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;!1!==N.emitEvent&&(this._events.next(new Te(this.value,de)),this._events.next(new ht(this.status,de)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:B},this),this._onDisabledChange.forEach(Xt=>Xt(!0))}enable(N={}){const Q=this._parentMarkedDirty(N.onlySelf);this.status=kt,this._forEachChild(B=>{B.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:Q},this),this._onDisabledChange.forEach(B=>B(!1))}_updateAncestors(N,Q){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine({},Q),this._parent._updateTouched({},Q))}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){var Q;if(this._setInitialStatus(),this._updateValue(),this.enabled){const de=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kt||this.status===oe)&&this._runAsyncValidator(de,N.emitEvent)}const B=null!==(Q=N.sourceControl)&&void 0!==Q?Q:this;!1!==N.emitEvent&&(this._events.next(new Te(this.value,B)),this._events.next(new ht(this.status,B)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity({...N,sourceControl:B})}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(Q=>Q._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N,Q){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Q};const B=De(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(de=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(de,{emitEvent:Q,shouldHaveEmitted:N})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var N,Q;this._asyncValidationSubscription.unsubscribe();const B=null!==(N=null===(Q=this._hasOwnPendingAsyncValidator)||void 0===Q?void 0:Q.emitEvent)&&void 0!==N&&N;return this._hasOwnPendingAsyncValidator=null,B}return!1}setErrors(N,Q={}){this.errors=N,this._updateControlsErrors(!1!==Q.emitEvent,this,Q.shouldHaveEmitted)}get(N){let Q=N;return null==Q||(Array.isArray(Q)||(Q=Q.split(".")),0===Q.length)?null:Q.reduce((B,de)=>B&&B._find(de),this)}getError(N,Q){const B=Q?this.get(Q):this;return B&&B.errors?B.errors[N]:null}hasError(N,Q){return!!this.getError(N,Q)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N,Q,B){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),(N||B)&&this._events.next(new ht(this.status,Q)),this._parent&&this._parent._updateControlsErrors(N,Q,B)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?me:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(me)?me:kt}_anyControlsHaveStatus(N){return this._anyControls(Q=>Q.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N,Q){const B=!this._anyControlsDirty(),de=this.pristine!==B;this.pristine=B,this._parent&&!N.onlySelf&&this._parent._updatePristine(N,Q),de&&this._events.next(new Ke(this.pristine,Q))}_updateTouched(N={},Q){this.touched=this._anyControlsTouched(),this._events.next(new xt(this.touched,Q)),this._parent&&!N.onlySelf&&this._parent._updateTouched(N,Q)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){ir(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function pi(z){return Array.isArray(z)?dn(z):z||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function Gr(z){return Array.isArray(z)?zn(z):z||null}(this._rawAsyncValidators)}}const $e=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>it}),it="always";function yn(z,N,Q=it){var B,de;(function Gn(z,N){const Q=function St(z){return z._rawValidators}(z);null!==N.validator?z.setValidators(Bt(Q,N.validator)):"function"==typeof Q&&z.setValidators([Q]);const B=function Qn(z){return z._rawAsyncValidators}(z);null!==N.asyncValidator?z.setAsyncValidators(Bt(B,N.asyncValidator)):"function"==typeof B&&z.setAsyncValidators([B]);const de=()=>z.updateValueAndValidity();Gt(N._rawValidators,de),Gt(N._rawAsyncValidators,de)})(z,N),N.valueAccessor.writeValue(z.value),(z.disabled||"always"===Q)&&(null===(B=(de=N.valueAccessor).setDisabledState)||void 0===B||B.call(de,z.disabled)),function se(z,N){N.valueAccessor.registerOnChange(Q=>{z._pendingValue=Q,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Ze(z,N)})}(z,N),function ct(z,N){const Q=(B,de)=>{N.valueAccessor.writeValue(B),de&&N.viewToModelUpdate(B)};z.registerOnChange(Q),N._registerOnDestroy(()=>{z._unregisterOnChange(Q)})}(z,N),function Ae(z,N){N.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Ze(z,N),"submit"!==z.updateOn&&z.markAsTouched()})}(z,N),function vn(z,N){if(N.valueAccessor.setDisabledState){const Q=B=>{N.valueAccessor.setDisabledState(B)};z.registerOnDisabledChange(Q),N._registerOnDestroy(()=>{z._unregisterOnDisabledChange(Q)})}}(z,N)}function Gt(z,N){z.forEach(Q=>{Q.registerOnValidatorChange&&Q.registerOnValidatorChange(N)})}function Ze(z,N){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function qr(z,N){const Q=z.indexOf(N);Q>-1&&z.splice(Q,1)}function Ft(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}Promise.resolve();const vr=class extends Hn{constructor(N=null,Q,B){super(function Zr(z){return(ir(z)?z.validators:z)||null}(Q),function Nr(z,N){return(ir(N)?N.asyncValidators:z)||null}(B,Q)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(Q),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ir(Q)&&(Q.nonNullable||Q.initialValueIsDefault)&&(this.defaultValue=Ft(N)?N.value:N)}setValue(N,Q={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==Q.emitModelToViewChange&&this._onChange.forEach(B=>B(this.value,!1!==Q.emitViewToModelChange)),this.updateValueAndValidity(Q)}patchValue(N,Q={}){this.setValue(N,Q)}reset(N=this.defaultValue,Q={}){this._applyFormState(N),this.markAsPristine(Q),this.markAsUntouched(Q),this.setValue(this.value,Q),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){qr(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){qr(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Ft(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}},Wi={provide:En,useExisting:(0,c.Rfq)(()=>is)},ps=Promise.resolve();let is=(()=>{var z;class N extends En{constructor(B,de,Xt,Jn,Si,$i){super(),this._changeDetectorRef=Si,this.callSetDisabledState=$i,this.control=new vr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=B,this._setValidators(de),this._setAsyncValidators(Xt),this.valueAccessor=function gi(z,N){if(!N)return null;let Q,B,de;return Array.isArray(N),N.forEach(Xt=>{Xt.constructor===ve?Q=Xt:function Ti(z){return Object.getPrototypeOf(z.constructor)===lt}(Xt)?B=Xt:de=Xt}),de||B||Q||null}(0,Jn)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const de=B.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),function Li(z,N){if(!z.hasOwnProperty("model"))return!1;const Q=z.model;return!!Q.isFirstChange()||!Object.is(N,Q.currentValue)}(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){ps.then(()=>{var de;this.control.setValue(B,{emitViewToModelChange:!1}),null===(de=this._changeDetectorRef)||void 0===de||de.markForCheck()})}_updateDisabled(B){const de=B.isDisabled.currentValue,Xt=0!==de&&(0,c.L39)(de);ps.then(()=>{var Jn;Xt&&!this.control.disabled?this.control.disable():!Xt&&this.control.disabled&&this.control.enable(),null===(Jn=this._changeDetectorRef)||void 0===Jn||Jn.markForCheck()})}_getPath(B){return this._parent?function zt(z,N){return[...N.path,z]}(B,this._parent):[B]}}return(z=N).\u0275fac=function(B){return new(B||z)(c.rXU(Ot,9),c.rXU(ut,10),c.rXU(Ct,10),c.rXU(st,10),c.rXU(c.gRc,8),c.rXU($e,8))},z.\u0275dir=c.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Wi]),c.Vt3,c.OA$]}),N})();function ui(z){return"number"==typeof z?z:parseFloat(z)}let ss=(()=>{var z;class N{constructor(){this._validator=X}ngOnChanges(B){if(this.inputName in B){const de=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):X,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}}return(z=N).\u0275fac=function(B){return new(B||z)},z.\u0275dir=c.FsC({type:z,features:[c.OA$]}),N})();const Ro={provide:ut,useExisting:(0,c.Rfq)(()=>si),multi:!0};let si=(()=>{var z;class N extends ss{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=B=>ui(B),this.createValidator=B=>function Ht(z){return N=>{if(we(N.value)||we(z))return null;const Q=parseFloat(N.value);return!isNaN(Q)&&Q>z?{max:{max:z,actual:N.value}}:null}}(B)}}return(z=N).\u0275fac=(()=>{let Q;return function(de){return(Q||(Q=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(B,de){2&B&&c.BMQ("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[c.Jv_([Ro]),c.Vt3]}),N})();const vi={provide:ut,useExisting:(0,c.Rfq)(()=>Mo),multi:!0};let Mo=(()=>{var z;class N extends ss{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=B=>ui(B),this.createValidator=B=>function Wt(z){return N=>{if(we(N.value)||we(z))return null;const Q=parseFloat(N.value);return!isNaN(Q)&&Q<z?{min:{min:z,actual:N.value}}:null}}(B)}}return(z=N).\u0275fac=(()=>{let Q;return function(de){return(Q||(Q=c.xGo(z)))(de||z)}})(),z.\u0275dir=c.FsC({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(B,de){2&B&&c.BMQ("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[c.Jv_([vi]),c.Vt3]}),N})(),Ko=(()=>{var z;class N{}return(z=N).\u0275fac=function(B){return new(B||z)},z.\u0275mod=c.$C({type:z}),z.\u0275inj=c.G2t({}),N})(),Da=(()=>{var z;class N{static withConfig(B){var de;return{ngModule:N,providers:[{provide:$e,useValue:null!==(de=B.callSetDisabledState)&&void 0!==de?de:it}]}}}return(z=N).\u0275fac=function(B){return new(B||z)},z.\u0275mod=c.$C({type:z}),z.\u0275inj=c.G2t({imports:[Ko]}),N})()},345:(An,ft,$)=>{"use strict";$.d(ft,{Bb:()=>Qn,hE:()=>Tn,sG:()=>_n,up:()=>di});var c=$(177),f=$(4438);class he extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends he{static makeCurrent(){(0,c.ZD)(new ae)}onAndCancel(Ne,kt,me){return Ne.addEventListener(kt,me),()=>{Ne.removeEventListener(kt,me)}}dispatchEvent(Ne,kt){Ne.dispatchEvent(kt)}remove(Ne){Ne.remove()}createElement(Ne,kt){return(kt=kt||this.getDefaultDocument()).createElement(Ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ne){return Ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ne){return Ne instanceof DocumentFragment}getGlobalEventTarget(Ne,kt){return"window"===kt?window:"document"===kt?Ne:"body"===kt?Ne.body:null}getBaseHref(Ne){const kt=function ce(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==kt?null:function be(je){return new URL(je,document.baseURI).pathname}(kt)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ne){return(0,c._b)(document.cookie,Ne)}}let ye=null,ze=(()=>{var je;class Ne{build(){return new XMLHttpRequest}}return(je=Ne).\u0275fac=function(me){return new(me||je)},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac}),Ne})();const Ie=new f.nKC("");let ue=(()=>{var je;class Ne{constructor(me,oe){this._zone=oe,this._eventNameToPlugin=new Map,me.forEach(We=>{We.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,oe,We){return this._findPluginFor(oe).addEventListener(me,oe,We)}getZone(){return this._zone}_findPluginFor(me){let oe=this._eventNameToPlugin.get(me);if(oe)return oe;if(oe=this._plugins.find(pe=>pe.supports(me)),!oe)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(me,oe),oe}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(Ie),f.KVO(f.SKi))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac}),Ne})();class Ue{constructor(Ne){this._doc=Ne}}const xe="ng-app-id";let Oe=(()=>{var je;class Ne{constructor(me,oe,We,pe={}){this.doc=me,this.appId=oe,this.nonce=We,this.platformId=pe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(pe),this.resetHostNodes()}addStyles(me){for(const oe of me)1===this.changeUsageCount(oe,1)&&this.onStyleAdded(oe)}removeStyles(me){for(const oe of me)this.changeUsageCount(oe,-1)<=0&&this.onStyleRemoved(oe)}ngOnDestroy(){const me=this.styleNodesInDOM;me&&(me.forEach(oe=>oe.remove()),me.clear());for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.resetHostNodes()}addHost(me){this.hostNodes.add(me);for(const oe of this.getAllStyles())this.addStyleToHost(me,oe)}removeHost(me){this.hostNodes.delete(me)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(me){for(const oe of this.hostNodes)this.addStyleToHost(oe,me)}onStyleRemoved(me){var oe;const We=this.styleRef;null===(oe=We.get(me))||void 0===oe||null===(oe=oe.elements)||void 0===oe||oe.forEach(pe=>pe.remove()),We.delete(me)}collectServerRenderedStyles(){var me;const oe=null===(me=this.doc.head)||void 0===me?void 0:me.querySelectorAll(`style[${xe}="${this.appId}"]`);if(null!=oe&&oe.length){const We=new Map;return oe.forEach(pe=>{null!=pe.textContent&&We.set(pe.textContent,pe)}),We}return null}changeUsageCount(me,oe){const We=this.styleRef;if(We.has(me)){const pe=We.get(me);return pe.usage+=oe,pe.usage}return We.set(me,{usage:oe,elements:[]}),oe}getStyleElement(me,oe){const We=this.styleNodesInDOM,pe=null==We?void 0:We.get(oe);if((null==pe?void 0:pe.parentNode)===me)return We.delete(oe),pe.removeAttribute(xe),pe;{const Te=this.doc.createElement("style");return this.nonce&&Te.setAttribute("nonce",this.nonce),Te.textContent=oe,this.platformIsServer&&Te.setAttribute(xe,this.appId),me.appendChild(Te),Te}}addStyleToHost(me,oe){var We;const pe=this.getStyleElement(me,oe),Te=this.styleRef,Ke=null===(We=Te.get(oe))||void 0===We?void 0:We.elements;Ke?Ke.push(pe):Te.set(oe,{elements:[pe],usage:1})}resetHostNodes(){const me=this.hostNodes;me.clear(),me.add(this.doc.head)}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(c.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac}),Ne})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},st=/%COMP%/g,pt=new f.nKC("",{providedIn:"root",factory:()=>!0});function rt(je,Ne){return Ne.map(kt=>kt.replace(st,je))}let ut=(()=>{var je;class Ne{constructor(me,oe,We,pe,Te,Ke,xt,ht=null){this.eventManager=me,this.sharedStylesHost=oe,this.appId=We,this.removeStylesOnCompDestroy=pe,this.doc=Te,this.platformId=Ke,this.ngZone=xt,this.nonce=ht,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(Ke),this.defaultRenderer=new Ct(me,Te,xt,this.platformIsServer)}createRenderer(me,oe){if(!me||!oe)return this.defaultRenderer;this.platformIsServer&&oe.encapsulation===f.gXe.ShadowDom&&(oe={...oe,encapsulation:f.gXe.Emulated});const We=this.getOrCreateRenderer(me,oe);return We instanceof on?We.applyToHost(me):We instanceof pn&&We.applyStyles(),We}getOrCreateRenderer(me,oe){const We=this.rendererByCompId;let pe=We.get(oe.id);if(!pe){const Te=this.doc,Ke=this.ngZone,xt=this.eventManager,ht=this.sharedStylesHost,Dn=this.removeStylesOnCompDestroy,On=this.platformIsServer;switch(oe.encapsulation){case f.gXe.Emulated:pe=new on(xt,ht,oe,this.appId,Dn,Te,Ke,On);break;case f.gXe.ShadowDom:return new Ht(xt,ht,me,oe,Te,Ke,this.nonce,On);default:pe=new pn(xt,ht,oe,Dn,Te,Ke,On)}We.set(oe.id,pe)}return pe}ngOnDestroy(){this.rendererByCompId.clear()}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(ue),f.KVO(Oe),f.KVO(f.sZ2),f.KVO(pt),f.KVO(c.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac}),Ne})();class Ct{constructor(Ne,kt,me,oe){this.eventManager=Ne,this.doc=kt,this.ngZone=me,this.platformIsServer=oe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ne,kt){return kt?this.doc.createElementNS(lt[kt]||kt,Ne):this.doc.createElement(Ne)}createComment(Ne){return this.doc.createComment(Ne)}createText(Ne){return this.doc.createTextNode(Ne)}appendChild(Ne,kt){(Wt(Ne)?Ne.content:Ne).appendChild(kt)}insertBefore(Ne,kt,me){Ne&&(Wt(Ne)?Ne.content:Ne).insertBefore(kt,me)}removeChild(Ne,kt){kt.remove()}selectRootElement(Ne,kt){let me="string"==typeof Ne?this.doc.querySelector(Ne):Ne;if(!me)throw new f.wOt(-5104,!1);return kt||(me.textContent=""),me}parentNode(Ne){return Ne.parentNode}nextSibling(Ne){return Ne.nextSibling}setAttribute(Ne,kt,me,oe){if(oe){kt=oe+":"+kt;const We=lt[oe];We?Ne.setAttributeNS(We,kt,me):Ne.setAttribute(kt,me)}else Ne.setAttribute(kt,me)}removeAttribute(Ne,kt,me){if(me){const oe=lt[me];oe?Ne.removeAttributeNS(oe,kt):Ne.removeAttribute(`${me}:${kt}`)}else Ne.removeAttribute(kt)}addClass(Ne,kt){Ne.classList.add(kt)}removeClass(Ne,kt){Ne.classList.remove(kt)}setStyle(Ne,kt,me,oe){oe&(f.czy.DashCase|f.czy.Important)?Ne.style.setProperty(kt,me,oe&f.czy.Important?"important":""):Ne.style[kt]=me}removeStyle(Ne,kt,me){me&f.czy.DashCase?Ne.style.removeProperty(kt):Ne.style[kt]=""}setProperty(Ne,kt,me){null!=Ne&&(Ne[kt]=me)}setValue(Ne,kt){Ne.nodeValue=kt}listen(Ne,kt,me){if("string"==typeof Ne&&!(Ne=(0,c.QT)().getGlobalEventTarget(this.doc,Ne)))throw new Error(`Unsupported event target ${Ne} for event ${kt}`);return this.eventManager.addEventListener(Ne,kt,this.decoratePreventDefault(me))}decoratePreventDefault(Ne){return kt=>{if("__ngUnwrap__"===kt)return Ne;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ne(kt)):Ne(kt))&&kt.preventDefault()}}}function Wt(je){return"TEMPLATE"===je.tagName&&void 0!==je.content}class Ht extends Ct{constructor(Ne,kt,me,oe,We,pe,Te,Ke){super(Ne,We,pe,Ke),this.sharedStylesHost=kt,this.hostEl=me,this.shadowRoot=me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const xt=rt(oe.id,oe.styles);for(const ht of xt){const Dn=document.createElement("style");Te&&Dn.setAttribute("nonce",Te),Dn.textContent=ht,this.shadowRoot.appendChild(Dn)}}nodeOrShadowRoot(Ne){return Ne===this.hostEl?this.shadowRoot:Ne}appendChild(Ne,kt){return super.appendChild(this.nodeOrShadowRoot(Ne),kt)}insertBefore(Ne,kt,me){return super.insertBefore(this.nodeOrShadowRoot(Ne),kt,me)}removeChild(Ne,kt){return super.removeChild(null,kt)}parentNode(Ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ne)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pn extends Ct{constructor(Ne,kt,me,oe,We,pe,Te,Ke){super(Ne,We,pe,Te),this.sharedStylesHost=kt,this.removeStylesOnCompDestroy=oe,this.styles=Ke?rt(Ke,me.styles):me.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class on extends pn{constructor(Ne,kt,me,oe,We,pe,Te,Ke){const xt=oe+"-"+me.id;super(Ne,kt,me,We,pe,Te,Ke,xt),this.contentAttr=function ve(je){return"_ngcontent-%COMP%".replace(st,je)}(xt),this.hostAttr=function we(je){return"_nghost-%COMP%".replace(st,je)}(xt)}applyToHost(Ne){this.applyStyles(),this.setAttribute(Ne,this.hostAttr,"")}createElement(Ne,kt){const me=super.createElement(Ne,kt);return super.setAttribute(me,this.contentAttr,""),me}}let kn=(()=>{var je;class Ne extends Ue{constructor(me){super(me)}supports(me){return!0}addEventListener(me,oe,We){return me.addEventListener(oe,We,!1),()=>this.removeEventListener(me,oe,We)}removeEventListener(me,oe,We){return me.removeEventListener(oe,We)}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(c.qQ))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac}),Ne})();const Pt=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ee={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let X=(()=>{var je;class Ne extends Ue{constructor(me){super(me)}supports(me){return null!=Ne.parseEventName(me)}addEventListener(me,oe,We){const pe=Ne.parseEventName(oe),Te=Ne.eventCallback(pe.fullKey,We,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(me,pe.domEventName,Te))}static parseEventName(me){const oe=me.toLowerCase().split("."),We=oe.shift();if(0===oe.length||"keydown"!==We&&"keyup"!==We)return null;const pe=Ne._normalizeKey(oe.pop());let Te="",Ke=oe.indexOf("code");if(Ke>-1&&(oe.splice(Ke,1),Te="code."),Pt.forEach(ht=>{const Dn=oe.indexOf(ht);Dn>-1&&(oe.splice(Dn,1),Te+=ht+".")}),Te+=pe,0!=oe.length||0===pe.length)return null;const xt={};return xt.domEventName=We,xt.fullKey=Te,xt}static matchEventFullKeyCode(me,oe){let We=_e[me.key]||me.key,pe="";return oe.indexOf("code.")>-1&&(We=me.code,pe="code."),!(null==We||!We)&&(We=We.toLowerCase()," "===We?We="space":"."===We&&(We="dot"),Pt.forEach(Te=>{Te!==We&&(0,Ee[Te])(me)&&(pe+=Te+".")}),pe+=We,pe===oe)}static eventCallback(me,oe,We){return pe=>{Ne.matchEventFullKeyCode(pe,me)&&We.runGuarded(()=>oe(pe))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(c.qQ))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac}),Ne})();const _n=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:c.AJ},{provide:f.PLl,useValue:function ot(){ae.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function Ln(){return(0,f.TL$)(document),document},deps:[]}]),zn=new f.nKC(""),Bt=[{provide:f.e01,useClass:class ke{addToWindow(Ne){f.JZv.getAngularTestability=(me,oe=!0)=>{const We=Ne.findTestabilityInTree(me,oe);if(null==We)throw new f.wOt(5103,!1);return We},f.JZv.getAllAngularTestabilities=()=>Ne.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>Ne.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(me=>{const oe=f.JZv.getAllAngularTestabilities();let We=oe.length;const pe=function(){We--,0==We&&me()};oe.forEach(Te=>{Te.whenStable(pe)})})}findTestabilityInTree(Ne,kt,me){if(null==kt)return null;const oe=Ne.getTestability(kt);return null!=oe?oe:me?(0,c.QT)().isShadowRoot(kt)?this.findTestabilityInTree(Ne,kt.host,!0):this.findTestabilityInTree(Ne,kt.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],St=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function $t(){return new f.zcH},deps:[]},{provide:Ie,useClass:kn,multi:!0,deps:[c.qQ,f.SKi,f.Agw]},{provide:Ie,useClass:X,multi:!0,deps:[c.qQ]},ut,Oe,ue,{provide:f._9s,useExisting:ut},{provide:c.N0,useClass:ze,deps:[]},[]];let Qn=(()=>{var je;class Ne{constructor(me){}static withServerTransition(me){return{ngModule:Ne,providers:[{provide:f.sZ2,useValue:me.appId}]}}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(zn,12))},je.\u0275mod=f.$C({type:je}),je.\u0275inj=f.G2t({providers:[...St,...Bt],imports:[c.MD,f.Hbi]}),Ne})(),Tn=(()=>{var je;class Ne{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(c.qQ))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac,providedIn:"root"}),Ne})(),di=(()=>{var je;class Ne{}return(je=Ne).\u0275fac=function(me){return new(me||je)},je.\u0275prov=f.jDH({token:je,factory:function(me){let oe=null;return oe=me?new(me||je):f.KVO(Cr),oe},providedIn:"root"}),Ne})(),Cr=(()=>{var je;class Ne extends di{constructor(me){super(),this._doc=me}sanitize(me,oe){if(null==oe)return null;switch(me){case f.WPN.NONE:return oe;case f.WPN.HTML:return(0,f.ZF7)(oe,"HTML")?(0,f.rcV)(oe):(0,f.h9k)(this._doc,String(oe)).toString();case f.WPN.STYLE:return(0,f.ZF7)(oe,"Style")?(0,f.rcV)(oe):oe;case f.WPN.SCRIPT:if((0,f.ZF7)(oe,"Script"))return(0,f.rcV)(oe);throw new f.wOt(5200,!1);case f.WPN.URL:return(0,f.ZF7)(oe,"URL")?(0,f.rcV)(oe):(0,f.$MX)(String(oe));case f.WPN.RESOURCE_URL:if((0,f.ZF7)(oe,"ResourceURL"))return(0,f.rcV)(oe);throw new f.wOt(5201,!1);default:throw new f.wOt(5202,!1)}}bypassSecurityTrustHtml(me){return(0,f.Kcf)(me)}bypassSecurityTrustStyle(me){return(0,f.cWb)(me)}bypassSecurityTrustScript(me){return(0,f.UyX)(me)}bypassSecurityTrustUrl(me){return(0,f.osQ)(me)}bypassSecurityTrustResourceUrl(me){return(0,f.e5t)(me)}}return(je=Ne).\u0275fac=function(me){return new(me||je)(f.KVO(c.qQ))},je.\u0275prov=f.jDH({token:je,factory:je.\u0275fac,providedIn:"root"}),Ne})()},9384:(An,ft,$)=>{"use strict";$.d(ft,{nX:()=>qt,Zp:()=>os,Z:()=>wn,Xk:()=>dn,Kp:()=>Yi,Ix:()=>zi,Wk:()=>Zn,iI:()=>ja,Sd:()=>rr});var c=$(4438),f=$(1985),he=$(8071),ye=$(8455),ce=$(7673),be=$(4412),ke=$(4572),ze=$(9350),Ie=$(8793),ue=$(8750);function Ue(T){return new f.c(R=>{(0,ue.Tg)(T()).subscribe(R)})}var xe=$(1203);function Oe(T,R){const x=(0,he.T)(T)?T:()=>T,S=O=>O.error(x());return new f.c(R?O=>R.schedule(S,0,O):S)}var lt=$(983),st=$(8359),et=$(9974),Ye=$(4360);function vt(){return(0,et.N)((T,R)=>{let x=null;T._refCount++;const S=(0,Ye._)(R,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(x=null);const O=T._connection,ie=x;x=null,O&&(!ie||O===ie)&&O.unsubscribe(),R.unsubscribe()});T.subscribe(S),S.closed||(x=T.connect())})}class dt extends f.c{constructor(R,x){super(),this.source=R,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,et.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,null==R||R.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new st.yU;const x=this.getSubject();R.add(this.source.subscribe((0,Ye._)(x,void 0,()=>{this._teardown(),x.complete()},S=>{this._teardown(),x.error(S)},()=>this._teardown()))),R.closed&&(this._connection=null,R=st.yU.EMPTY)}return R}refCount(){return vt()(this)}}var pt=$(1413),ve=$(177),we=$(6354),rt=$(5558),ut=$(6697),Ct=$(9172),Rt=$(5964),Se=$(1397),Wt=$(1594),Ht=$(274),pn=$(8141);function on(T){return(0,et.N)((R,x)=>{let ie,S=null,O=!1;S=R.subscribe((0,Ye._)(x,void 0,void 0,le=>{ie=(0,ue.Tg)(T(le,on(T)(R))),S?(S.unsubscribe(),S=null,ie.subscribe(x)):O=!0})),O&&(S.unsubscribe(),S=null,ie.subscribe(x))})}var kn=$(2816),Pt=$(9901);function _e(T){return T<=0?()=>lt.w:(0,et.N)((R,x)=>{let S=[];R.subscribe((0,Ye._)(x,O=>{S.push(O),T<S.length&&S.shift()},()=>{for(const O of S)x.next(O);x.complete()},void 0,()=>{S=null}))})}var Ee=$(3774),X=$(3669),qe=$(980),Je=$(5343),$t=$(6365),Ln=$(345);const dn="primary",_n=Symbol("RouteTitle");class zn{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const x=this.params[R];return Array.isArray(x)?x[0]:x}return null}getAll(R){if(this.has(R)){const x=this.params[R];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function Bt(T){return new zn(T)}function St(T,R,x){const S=x.path.split("/");if(S.length>T.length||"full"===x.pathMatch&&(R.hasChildren()||S.length<T.length))return null;const O={};for(let ie=0;ie<S.length;ie++){const le=S[ie],_t=T[ie];if(":"===le[0])O[le.substring(1)]=_t;else if(le!==_t.path)return null}return{consumed:T.slice(0,S.length),posParams:O}}function sr(T,R){const x=T?Xn(T):void 0,S=R?Xn(R):void 0;if(!x||!S||x.length!=S.length)return!1;let O;for(let ie=0;ie<x.length;ie++)if(O=x[ie],!Tn(T[O],R[O]))return!1;return!0}function Xn(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function Tn(T,R){if(Array.isArray(T)&&Array.isArray(R)){if(T.length!==R.length)return!1;const x=[...T].sort(),S=[...R].sort();return x.every((O,ie)=>S[ie]===O)}return T===R}function Zt(T){return T.length>0?T[T.length-1]:null}function Nt(T){return function ae(T){return!!T&&(T instanceof f.c||(0,he.T)(T.lift)&&(0,he.T)(T.subscribe))}(T)?T:(0,c.jNT)(T)?(0,ye.H)(Promise.resolve(T)):(0,ce.of)(T)}const Ot={exact:function mr(T,R,x){if(!Cr(T.segments,R.segments)||!Or(T.segments,R.segments,x)||T.numberOfChildren!==R.numberOfChildren)return!1;for(const S in R.children)if(!T.children[S]||!mr(T.children[S],R.children[S],x))return!1;return!0},subset:$n},En={exact:function gr(T,R){return sr(T,R)},subset:function Mn(T,R){return Object.keys(R).length<=Object.keys(T).length&&Object.keys(R).every(x=>Tn(T[x],R[x]))},ignored:()=>!0};function Vt(T,R,x){return Ot[x.paths](T.root,R.root,x.matrixParams)&&En[x.queryParams](T.queryParams,R.queryParams)&&!("exact"===x.fragment&&T.fragment!==R.fragment)}function $n(T,R,x){return $r(T,R,R.segments,x)}function $r(T,R,x,S){if(T.segments.length>x.length){const O=T.segments.slice(0,x.length);return!(!Cr(O,x)||R.hasChildren()||!Or(O,x,S))}if(T.segments.length===x.length){if(!Cr(T.segments,x)||!Or(T.segments,x,S))return!1;for(const O in R.children)if(!T.children[O]||!$n(T.children[O],R.children[O],S))return!1;return!0}{const O=x.slice(0,T.segments.length),ie=x.slice(T.segments.length);return!!(Cr(T.segments,O)&&Or(T.segments,O,S)&&T.children[dn])&&$r(T.children[dn],R,ie,S)}}function Or(T,R,x){return R.every((S,O)=>En[x](T[O].parameters,S.parameters))}class dr{constructor(R=new hr([],{}),x={},S=null){this.root=R,this.queryParams=x,this.fragment=S}get queryParamMap(){var R;return null!==(R=this._queryParamMap)&&void 0!==R||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}toString(){return Sr.serialize(this)}}class hr{constructor(R,x){this.segments=R,this.children=x,this.parent=null,Object.values(x).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eo(this)}}class jr{constructor(R,x){this.path=R,this.parameters=x}get parameterMap(){var R;return null!==(R=this._parameterMap)&&void 0!==R||(this._parameterMap=Bt(this.parameters)),this._parameterMap}toString(){return me(this)}}function Cr(T,R){return T.length===R.length&&T.every((x,S)=>x.path===R[S].path)}let rr=(()=>{var T;class R{}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>new ii,providedIn:"root"}),R})();class ii{parse(R){const x=new pi(R);return new dr(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(R){const x=`/${Kt(R.root,!0)}`,S=function We(T){const R=Object.entries(T).map(([x,S])=>Array.isArray(S)?S.map(O=>`${zr(x)}=${zr(O)}`).join("&"):`${zr(x)}=${zr(S)}`).filter(x=>x);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${x}${S}${"string"==typeof R.fragment?`#${function Vr(T){return encodeURI(T)}(R.fragment)}`:""}`}}const Sr=new ii;function eo(T){return T.segments.map(R=>me(R)).join("/")}function Kt(T,R){if(!T.hasChildren())return eo(T);if(R){const x=T.children[dn]?Kt(T.children[dn],!1):"",S=[];return Object.entries(T.children).forEach(([O,ie])=>{O!==dn&&S.push(`${O}:${Kt(ie,!1)}`)}),S.length>0?`${x}(${S.join("//")})`:x}{const x=function wr(T,R){let x=[];return Object.entries(T.children).forEach(([S,O])=>{S===dn&&(x=x.concat(R(O,S)))}),Object.entries(T.children).forEach(([S,O])=>{S!==dn&&(x=x.concat(R(O,S)))}),x}(T,(S,O)=>O===dn?[Kt(T.children[dn],!1)]:[`${O}:${Kt(S,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[dn]?`${eo(T)}/${x[0]}`:`${eo(T)}/(${x.join("//")})`}}function qn(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zr(T){return qn(T).replace(/%3B/gi,";")}function je(T){return qn(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ne(T){return decodeURIComponent(T)}function kt(T){return Ne(T.replace(/\+/g,"%20"))}function me(T){return`${je(T.path)}${function oe(T){return Object.entries(T).map(([R,x])=>`;${je(R)}=${je(x)}`).join("")}(T.parameters)}`}const pe=/^[^\/()?;#]+/;function Te(T){const R=T.match(pe);return R?R[0]:""}const Ke=/^[^\/()?;=#]+/,ht=/^[^=?&#]+/,On=/^[^&#]+/;class pi{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hr([],{}):new hr([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(R.length>0||Object.keys(x).length>0)&&(S[dn]=new hr(R,x)),S}parseSegment(){const R=Te(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(R),new jr(Ne(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const x=function xt(T){const R=T.match(Ke);return R?R[0]:""}(this.remaining);if(!x)return;this.capture(x);let S="";if(this.consumeOptional("=")){const O=Te(this.remaining);O&&(S=O,this.capture(S))}R[Ne(x)]=Ne(S)}parseQueryParam(R){const x=function Dn(T){const R=T.match(ht);return R?R[0]:""}(this.remaining);if(!x)return;this.capture(x);let S="";if(this.consumeOptional("=")){const le=function Zr(T){const R=T.match(On);return R?R[0]:""}(this.remaining);le&&(S=le,this.capture(S))}const O=kt(x),ie=kt(S);if(R.hasOwnProperty(O)){let le=R[O];Array.isArray(le)||(le=[le],R[O]=le),le.push(ie)}else R[O]=ie}parseParens(R){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Te(this.remaining),O=this.remaining[S.length];if("/"!==O&&")"!==O&&";"!==O)throw new c.wOt(4010,!1);let ie;S.indexOf(":")>-1?(ie=S.slice(0,S.indexOf(":")),this.capture(ie),this.capture(":")):R&&(ie=dn);const le=this.parseChildren();x[ie]=1===Object.keys(le).length?le[dn]:new hr([],le),this.consumeOptional("//")}return x}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new c.wOt(4011,!1)}}function Nr(T){return T.segments.length>0?new hr([],{[dn]:T}):T}function Gr(T){const R={};for(const[S,O]of Object.entries(T.children)){const ie=Gr(O);if(S===dn&&0===ie.segments.length&&ie.hasChildren())for(const[le,_t]of Object.entries(ie.children))R[le]=_t;else(ie.segments.length>0||ie.hasChildren())&&(R[S]=ie)}return function ir(T){if(1===T.numberOfChildren&&T.children[dn]){const R=T.children[dn];return new hr(T.segments.concat(R.segments),R.children)}return T}(new hr(T.segments,R))}function Pn(T){return T instanceof dr}function Hn(T){var R;let x;const ie=Nr(function S(le){const _t={};for(const At of le.children){const Nn=S(At);_t[At.outlet]=Nn}const nn=new hr(le.url,_t);return le===T&&(x=nn),nn}(T.root));return null!==(R=x)&&void 0!==R?R:ie}function Hr(T,R,x,S){let O=T;for(;O.parent;)O=O.parent;if(0===R.length)return pr(O,O,O,x,S);const ie=function $e(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Kn(!0,0,T);let R=0,x=!1;const S=T.reduce((O,ie,le)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const _t={};return Object.entries(ie.outlets).forEach(([nn,At])=>{_t[nn]="string"==typeof At?At.split("/"):At}),[...O,{outlets:_t}]}if(ie.segmentPath)return[...O,ie.segmentPath]}return"string"!=typeof ie?[...O,ie]:0===le?(ie.split("/").forEach((_t,nn)=>{0==nn&&"."===_t||(0==nn&&""===_t?x=!0:".."===_t?R++:""!=_t&&O.push(_t))}),O):[...O,ie]},[]);return new Kn(x,R,S)}(R);if(ie.toRoot())return pr(O,O,new hr([],{}),x,S);const le=function zt(T,R,x){if(T.isAbsolute)return new it(R,!0,0);if(!x)return new it(R,!1,NaN);if(null===x.parent)return new it(x,!0,0);const S=Fn(T.commands[0])?0:1;return function yn(T,R,x){let S=T,O=R,ie=x;for(;ie>O;){if(ie-=O,S=S.parent,!S)throw new c.wOt(4005,!1);O=S.segments.length}return new it(S,!1,O-ie)}(x,x.segments.length-1+S,T.numberOfDoubleDots)}(ie,O,T),_t=le.processChildren?vn(le.segmentGroup,le.index,ie.commands):Gt(le.segmentGroup,le.index,ie.commands);return pr(O,le.segmentGroup,_t,x,S)}function Fn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function ji(T){return"object"==typeof T&&null!=T&&T.outlets}function pr(T,R,x,S,O){let le,ie={};S&&Object.entries(S).forEach(([nn,At])=>{ie[nn]=Array.isArray(At)?At.map(Nn=>`${Nn}`):`${At}`}),le=T===R?x:vo(T,R,x);const _t=Nr(Gr(le));return new dr(_t,ie,O)}function vo(T,R,x){const S={};return Object.entries(T.children).forEach(([O,ie])=>{S[O]=ie===R?x:vo(ie,R,x)}),new hr(T.segments,S)}class Kn{constructor(R,x,S){if(this.isAbsolute=R,this.numberOfDoubleDots=x,this.commands=S,R&&S.length>0&&Fn(S[0]))throw new c.wOt(4003,!1);const O=S.find(ji);if(O&&O!==Zt(S))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class it{constructor(R,x,S){this.segmentGroup=R,this.processChildren=x,this.index=S}}function Gt(T,R,x){var S;if(null!==(S=T)&&void 0!==S||(T=new hr([],{})),0===T.segments.length&&T.hasChildren())return vn(T,R,x);const O=function Gn(T,R,x){let S=0,O=R;const ie={match:!1,pathIndex:0,commandIndex:0};for(;O<T.segments.length;){if(S>=x.length)return ie;const le=T.segments[O],_t=x[S];if(ji(_t))break;const nn=`${_t}`,At=S<x.length-1?x[S+1]:null;if(O>0&&void 0===nn)break;if(nn&&At&&"object"==typeof At&&void 0===At.outlets){if(!Ze(nn,At,le))return ie;S+=2}else{if(!Ze(nn,{},le))return ie;S++}O++}return{match:!0,pathIndex:O,commandIndex:S}}(T,R,x),ie=x.slice(O.commandIndex);if(O.match&&O.pathIndex<T.segments.length){const le=new hr(T.segments.slice(0,O.pathIndex),{});return le.children[dn]=new hr(T.segments.slice(O.pathIndex),T.children),vn(le,0,ie)}return O.match&&0===ie.length?new hr(T.segments,{}):O.match&&!T.hasChildren()?fr(T,R,x):O.match?vn(T,0,ie):fr(T,R,x)}function vn(T,R,x){if(0===x.length)return new hr(T.segments,{});{const S=function gt(T){return ji(T[0])?T[0].outlets:{[dn]:T}}(x),O={};if(Object.keys(S).some(ie=>ie!==dn)&&T.children[dn]&&1===T.numberOfChildren&&0===T.children[dn].segments.length){const ie=vn(T.children[dn],R,x);return new hr(T.segments,ie.children)}return Object.entries(S).forEach(([ie,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(O[ie]=Gt(T.children[ie],R,le))}),Object.entries(T.children).forEach(([ie,le])=>{void 0===S[ie]&&(O[ie]=le)}),new hr(T.segments,O)}}function fr(T,R,x){const S=T.segments.slice(0,R);let O=0;for(;O<x.length;){const ie=x[O];if(ji(ie)){const nn=se(ie.outlets);return new hr(S,nn)}if(0===O&&Fn(x[0])){S.push(new jr(T.segments[R].path,Ae(x[0]))),O++;continue}const le=ji(ie)?ie.outlets[dn]:`${ie}`,_t=O<x.length-1?x[O+1]:null;le&&_t&&Fn(_t)?(S.push(new jr(le,Ae(_t))),O+=2):(S.push(new jr(le,{})),O++)}return new hr(S,{})}function se(T){const R={};return Object.entries(T).forEach(([x,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(R[x]=fr(new hr([],{}),0,S))}),R}function Ae(T){const R={};return Object.entries(T).forEach(([x,S])=>R[x]=`${S}`),R}function Ze(T,R,x){return T==x.path&&sr(R,x.parameters)}const ct="imperative";var Mt=function(T){return T[T.NavigationStart=0]="NavigationStart",T[T.NavigationEnd=1]="NavigationEnd",T[T.NavigationCancel=2]="NavigationCancel",T[T.NavigationError=3]="NavigationError",T[T.RoutesRecognized=4]="RoutesRecognized",T[T.ResolveStart=5]="ResolveStart",T[T.ResolveEnd=6]="ResolveEnd",T[T.GuardsCheckStart=7]="GuardsCheckStart",T[T.GuardsCheckEnd=8]="GuardsCheckEnd",T[T.RouteConfigLoadStart=9]="RouteConfigLoadStart",T[T.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",T[T.ChildActivationStart=11]="ChildActivationStart",T[T.ChildActivationEnd=12]="ChildActivationEnd",T[T.ActivationStart=13]="ActivationStart",T[T.ActivationEnd=14]="ActivationEnd",T[T.Scroll=15]="Scroll",T[T.NavigationSkipped=16]="NavigationSkipped",T}(Mt||{});class sn{constructor(R,x){this.id=R,this.url=x}}class wn extends sn{constructor(R,x,S="imperative",O=null){super(R,x),this.type=Mt.NavigationStart,this.navigationTrigger=S,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Le extends sn{constructor(R,x,S){super(R,x),this.urlAfterRedirects=S,this.type=Mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ur=function(T){return T[T.Redirect=0]="Redirect",T[T.SupersededByNewNavigation=1]="SupersededByNewNavigation",T[T.NoDataFromResolver=2]="NoDataFromResolver",T[T.GuardRejected=3]="GuardRejected",T}(ur||{}),jn=function(T){return T[T.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",T[T.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",T}(jn||{});class Kr extends sn{constructor(R,x,S,O){super(R,x),this.reason=S,this.code=O,this.type=Mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Li extends sn{constructor(R,x,S,O){super(R,x),this.reason=S,this.code=O,this.type=Mt.NavigationSkipped}}class Ti extends sn{constructor(R,x,S,O){super(R,x),this.error=S,this.target=O,this.type=Mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hi extends sn{constructor(R,x,S,O){super(R,x),this.urlAfterRedirects=S,this.state=O,this.type=Mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends sn{constructor(R,x,S,O){super(R,x),this.urlAfterRedirects=S,this.state=O,this.type=Mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends sn{constructor(R,x,S,O,ie){super(R,x),this.urlAfterRedirects=S,this.state=O,this.shouldActivate=ie,this.type=Mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rr extends sn{constructor(R,x,S,O){super(R,x),this.urlAfterRedirects=S,this.state=O,this.type=Mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur extends sn{constructor(R,x,S,O){super(R,x),this.urlAfterRedirects=S,this.state=O,this.type=Mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di{constructor(R){this.route=R,this.type=Mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xr{constructor(R){this.route=R,this.type=Mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qr{constructor(R){this.snapshot=R,this.type=Mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ft{constructor(R){this.snapshot=R,this.type=Mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vr{constructor(R){this.snapshot=R,this.type=Mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(R){this.snapshot=R,this.type=Mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mi{constructor(R,x,S){this.routerEvent=R,this.position=x,this.anchor=S,this.type=Mt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Go{}class So{constructor(R,x){this.url=R,this.navigationBehaviorOptions=x}}function Ki(T){return T.outlet||dn}function gs(T){var R;if(!T)return null;if(null!==(R=T.routeConfig)&&void 0!==R&&R._injector)return T.routeConfig._injector;for(let x=T.parent;x;x=x.parent){const S=x.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class Hs{get injector(){var R,x;return null!==(R=gs(null===(x=this.route)||void 0===x?void 0:x.snapshot))&&void 0!==R?R:this.rootInjector}set injector(R){}constructor(R){this.rootInjector=R,this.outlet=null,this.route=null,this.children=new os(this.rootInjector),this.attachRef=null}}let os=(()=>{var T;class R{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,O){const ie=this.getOrCreateContext(S);ie.outlet=O,this.contexts.set(S,ie)}onChildOutletDestroyed(S){const O=this.getContext(S);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let O=this.getContext(S);return O||(O=new Hs(this.rootInjector),this.contexts.set(S,O)),O}getContext(S){return this.contexts.get(S)||null}}return(T=R).\u0275fac=function(S){return new(S||T)(c.KVO(c.uvJ))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();class W{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const x=this.pathFromRoot(R);return x.length>1?x[x.length-2]:null}children(R){const x=ne(R,this._root);return x?x.children.map(S=>S.value):[]}firstChild(R){const x=ne(R,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(R){const x=Me(R,this._root);return x.length<2?[]:x[x.length-2].children.map(O=>O.value).filter(O=>O!==R)}pathFromRoot(R){return Me(R,this._root).map(x=>x.value)}}function ne(T,R){if(T===R.value)return R;for(const x of R.children){const S=ne(T,x);if(S)return S}return null}function Me(T,R){if(T===R.value)return[R];for(const x of R.children){const S=Me(T,x);if(S.length)return S.unshift(R),S}return[]}class Fe{constructor(R,x){this.value=R,this.children=x}toString(){return`TreeNode(${this.value})`}}function tt(T){const R={};return T&&T.children.forEach(x=>R[x.value.outlet]=x),R}class Qe extends W{constructor(R,x){super(R),this.snapshot=x,Sn(this,R)}toString(){return this.snapshot.toString()}}function Qt(T){const R=function yt(T){const ie=new gn([],{},{},"",{},dn,T,null,{});return new bn("",new Fe(ie,[]))}(T),x=new be.t([new jr("",{})]),S=new be.t({}),O=new be.t({}),ie=new be.t({}),le=new be.t(""),_t=new qt(x,S,ie,le,O,dn,T,R.root);return _t.snapshot=R.root,new Qe(new Fe(_t,[]),R)}class qt{constructor(R,x,S,O,ie,le,_t,nn){var At,Nn;this.urlSubject=R,this.paramsSubject=x,this.queryParamsSubject=S,this.fragmentSubject=O,this.dataSubject=ie,this.outlet=le,this.component=_t,this._futureSnapshot=nn,this.title=null!==(At=null===(Nn=this.dataSubject)||void 0===Nn?void 0:Nn.pipe((0,we.T)(Dr=>Dr[_n])))&&void 0!==At?At:(0,ce.of)(void 0),this.url=R,this.params=x,this.queryParams=S,this.fragment=O,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var R;return null!==(R=this._paramMap)&&void 0!==R||(this._paramMap=this.params.pipe((0,we.T)(x=>Bt(x)))),this._paramMap}get queryParamMap(){var R;return null!==(R=this._queryParamMap)&&void 0!==R||(this._queryParamMap=this.queryParams.pipe((0,we.T)(x=>Bt(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tn(T,R,x="emptyOnly"){var S;let O;const{routeConfig:ie}=T;var le;return O=null===R||"always"!==x&&""!==(null==ie?void 0:ie.path)&&(R.component||null!==(S=R.routeConfig)&&void 0!==S&&S.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...null!==(le=T._resolvedData)&&void 0!==le?le:{}}}:{params:{...R.params,...T.params},data:{...R.data,...T.data},resolve:{...T.data,...R.data,...null==ie?void 0:ie.data,...T._resolvedData}},ie&&wi(ie)&&(O.resolve[_n]=ie.title),O}class gn{get title(){var R;return null===(R=this.data)||void 0===R?void 0:R[_n]}constructor(R,x,S,O,ie,le,_t,nn,At){this.url=R,this.params=x,this.queryParams=S,this.fragment=O,this.data=ie,this.outlet=le,this.component=_t,this.routeConfig=nn,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var R;return null!==(R=this._paramMap)&&void 0!==R||(this._paramMap=Bt(this.params)),this._paramMap}get queryParamMap(){var R;return null!==(R=this._queryParamMap)&&void 0!==R||(this._queryParamMap=Bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bn extends W{constructor(R,x){super(x),this.url=R,Sn(this,x)}toString(){return Wn(this._root)}}function Sn(T,R){R.value._routerState=T,R.children.forEach(x=>Sn(T,x))}function Wn(T){const R=T.children.length>0?` { ${T.children.map(Wn).join(", ")} } `:"";return`${T.value}${R}`}function Pr(T){if(T.snapshot){const R=T.snapshot,x=T._futureSnapshot;T.snapshot=x,sr(R.queryParams,x.queryParams)||T.queryParamsSubject.next(x.queryParams),R.fragment!==x.fragment&&T.fragmentSubject.next(x.fragment),sr(R.params,x.params)||T.paramsSubject.next(x.params),function Qn(T,R){if(T.length!==R.length)return!1;for(let x=0;x<T.length;++x)if(!sr(T[x],R[x]))return!1;return!0}(R.url,x.url)||T.urlSubject.next(x.url),sr(R.data,x.data)||T.dataSubject.next(x.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function oi(T,R){const x=sr(T.params,R.params)&&function di(T,R){return Cr(T,R)&&T.every((x,S)=>sr(x.parameters,R[S].parameters))}(T.url,R.url);return x&&!(!T.parent!=!R.parent)&&(!T.parent||oi(T.parent,R.parent))}function wi(T){return"string"==typeof T.title||null===T.title}let ar=(()=>{var T;class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=dn,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(os),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(fi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:O,previousValue:ie}=S.name;if(O)return;this.isTrackedInParentContexts(ie)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ie)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var O;return(null===(O=this.parentContexts.getContext(S))||void 0===O?void 0:O.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,O){var ie;this.activated=S,this._activatedRoute=O,this.location.insert(S.hostView),null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,O){var ie;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=S;const le=this.location,nn=S.snapshot.component,At=this.parentContexts.getOrCreateContext(this.name).children,Nn=new mi(S,At,le.injector);this.activated=le.createComponent(nn,{index:le.length,injector:Nn,environmentInjector:O}),this.changeDetector.markForCheck(),null===(ie=this.inputBinder)||void 0===ie||ie.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275dir=c.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),R})();class mi{__ngOutletInjector(R){return new mi(this.route,this.childContexts,R)}constructor(R,x,S){this.route=R,this.childContexts=x,this.parent=S}get(R,x){return R===qt?this.route:R===os?this.childContexts:this.parent.get(R,x)}}const fi=new c.nKC("");let xr=(()=>{var T;class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var O;null===(O=this.outletDataSubscriptions.get(S))||void 0===O||O.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:O}=S,ie=(0,ke.z)([O.queryParams,O.params,O.data]).pipe((0,rt.n)(([le,_t,nn],At)=>(nn={...le,..._t,...nn},0===At?(0,ce.of)(nn):Promise.resolve(nn)))).subscribe(le=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(S);const _t=(0,c.HJs)(O.component);if(_t)for(const{templateName:nn}of _t.inputs)S.activatedComponentRef.setInput(nn,le[nn]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,ie)}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac}),R})();function ao(T,R,x){if(x&&T.shouldReuseRoute(R.value,x.value.snapshot)){const S=x.value;S._futureSnapshot=R.value;const O=function Ci(T,R,x){return R.children.map(S=>{for(const O of x.children)if(T.shouldReuseRoute(S.value,O.value.snapshot))return ao(T,S,O);return ao(T,S)})}(T,R,x);return new Fe(S,O)}{if(T.shouldAttach(R.value)){const ie=T.retrieve(R.value);if(null!==ie){const le=ie.route;return le.value._futureSnapshot=R.value,le.children=R.children.map(_t=>ao(T,_t)),le}}const S=function ws(T){return new qt(new be.t(T.url),new be.t(T.params),new be.t(T.queryParams),new be.t(T.fragment),new be.t(T.data),T.outlet,T.component,T)}(R.value),O=R.children.map(ie=>ao(T,ie));return new Fe(S,O)}}class ms{constructor(R,x){this.redirectTo=R,this.navigationBehaviorOptions=x}}const ui="ngNavigationCancelingError";function ss(T,R){const{redirectTo:x,navigationBehaviorOptions:S}=Pn(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,O=Ro(!1,ur.Redirect);return O.url=x,O.navigationBehaviorOptions=S,O}function Ro(T,R){const x=new Error(`NavigationCancelingError: ${T||""}`);return x[ui]=!0,x.cancellationCode=R,x}function vi(T){return!!T&&T[ui]}class da{constructor(R,x,S,O,ie){this.routeReuseStrategy=R,this.futureState=x,this.currState=S,this.forwardEvent=O,this.inputBindingEnabled=ie}activate(R){const x=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,S,R),Pr(this.futureState.root),this.activateChildRoutes(x,S,R)}deactivateChildRoutes(R,x,S){const O=tt(x);R.children.forEach(ie=>{const le=ie.value.outlet;this.deactivateRoutes(ie,O[le],S),delete O[le]}),Object.values(O).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,S)})}deactivateRoutes(R,x,S){const O=R.value,ie=x?x.value:null;if(O===ie)if(O.component){const le=S.getContext(O.outlet);le&&this.deactivateChildRoutes(R,x,le.children)}else this.deactivateChildRoutes(R,x,S);else ie&&this.deactivateRouteAndItsChildren(x,S)}deactivateRouteAndItsChildren(R,x){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,x):this.deactivateRouteAndOutlet(R,x)}detachAndStoreRouteSubtree(R,x){const S=x.getContext(R.value.outlet),O=S&&R.value.component?S.children:x,ie=tt(R);for(const le of Object.values(ie))this.deactivateRouteAndItsChildren(le,O);if(S&&S.outlet){const le=S.outlet.detach(),_t=S.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:le,route:R,contexts:_t})}}deactivateRouteAndOutlet(R,x){const S=x.getContext(R.value.outlet),O=S&&R.value.component?S.children:x,ie=tt(R);for(const le of Object.values(ie))this.deactivateRouteAndItsChildren(le,O);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(R,x,S){const O=tt(x);R.children.forEach(ie=>{this.activateRoutes(ie,O[ie.value.outlet],S),this.forwardEvent(new fs(ie.value.snapshot))}),R.children.length&&this.forwardEvent(new Ft(R.value.snapshot))}activateRoutes(R,x,S){const O=R.value,ie=x?x.value:null;if(Pr(O),O===ie)if(O.component){const le=S.getOrCreateContext(O.outlet);this.activateChildRoutes(R,x,le.children)}else this.activateChildRoutes(R,x,S);else if(O.component){const le=S.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const _t=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),le.children.onOutletReAttached(_t.contexts),le.attachRef=_t.componentRef,le.route=_t.route.value,le.outlet&&le.outlet.attach(_t.componentRef,_t.route.value),Pr(_t.route.value),this.activateChildRoutes(R,null,le.children)}else le.attachRef=null,le.route=O,le.outlet&&le.outlet.activateWith(O,le.injector),this.activateChildRoutes(R,null,le.children)}else this.activateChildRoutes(R,null,S)}}class zs{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Bi{constructor(R,x){this.component=R,this.route=x}}function yr(T,R,x){const S=T._root;return to(S,R?R._root:null,x,[S.value])}function oo(T,R){const x=Symbol(),S=R.get(T,x);return S===x?"function"!=typeof T||(0,c.LfX)(T)?R.get(T):T:S}function to(T,R,x,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const ie=tt(R);return T.children.forEach(le=>{(function Wo(T,R,x,S,O={canDeactivateChecks:[],canActivateChecks:[]}){const ie=T.value,le=R?R.value:null,_t=x?x.getContext(T.value.outlet):null;if(le&&ie.routeConfig===le.routeConfig){const nn=function Co(T,R,x){if("function"==typeof x)return x(T,R);switch(x){case"pathParamsChange":return!Cr(T.url,R.url);case"pathParamsOrQueryParamsChange":return!Cr(T.url,R.url)||!sr(T.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oi(T,R)||!sr(T.queryParams,R.queryParams);default:return!oi(T,R)}}(le,ie,ie.routeConfig.runGuardsAndResolvers);nn?O.canActivateChecks.push(new zs(S)):(ie.data=le.data,ie._resolvedData=le._resolvedData),to(T,R,ie.component?_t?_t.children:null:x,S,O),nn&&_t&&_t.outlet&&_t.outlet.isActivated&&O.canDeactivateChecks.push(new Bi(_t.outlet.component,le))}else le&&Pi(R,_t,O),O.canActivateChecks.push(new zs(S)),to(T,null,ie.component?_t?_t.children:null:x,S,O)})(le,ie[le.value.outlet],x,S.concat([le.value]),O),delete ie[le.value.outlet]}),Object.entries(ie).forEach(([le,_t])=>Pi(_t,x.getContext(le),O)),O}function Pi(T,R,x){const S=tt(T),O=T.value;Object.entries(S).forEach(([ie,le])=>{Pi(le,O.component?R?R.children.getContext(ie):null:R,x)}),x.canDeactivateChecks.push(new Bi(O.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,O))}function To(T){return"function"==typeof T}function Gs(T){return T instanceof ze.G||"EmptyError"===(null==T?void 0:T.name)}const ai=Symbol("INITIAL_VALUE");function Vo(){return(0,rt.n)(T=>(0,ke.z)(T.map(R=>R.pipe((0,ut.s)(1),(0,Ct.Z)(ai)))).pipe((0,we.T)(R=>{for(const x of R)if(!0!==x){if(x===ai)return ai;if(!1===x||Ws(x))return x}return!0}),(0,Rt.p)(R=>R!==ai),(0,ut.s)(1)))}function Ws(T){return Pn(T)||T instanceof ms}function Xt(T){return(0,xe.F)((0,pn.M)(R=>{if("boolean"!=typeof R)throw ss(0,R)}),(0,we.T)(R=>!0===R))}class Si{constructor(R){this.segmentGroup=R||null}}class $i extends Error{constructor(R){super(),this.urlTree=R}}function Hi(T){return Oe(new Si(T))}class li{constructor(R,x){this.urlSerializer=R,this.urlTree=x}lineralizeSegments(R,x){let S=[],O=x.root;for(;;){if(S=S.concat(O.segments),0===O.numberOfChildren)return(0,ce.of)(S);if(O.numberOfChildren>1||!O.children[dn])return Oe(new c.wOt(4e3,!1));O=O.children[dn]}}applyRedirectCommands(R,x,S,O,ie){if("string"!=typeof x){const _t=x,{queryParams:nn,fragment:At,routeConfig:Nn,url:Dr,outlet:Ii,params:Er,data:co,title:us}=O,Ei=(0,c.N4e)(ie,()=>_t({params:Er,data:co,queryParams:nn,fragment:At,routeConfig:Nn,url:Dr,outlet:Ii,title:us}));if(Ei instanceof dr)throw new $i(Ei);x=Ei}const le=this.applyRedirectCreateUrlTree(x,this.urlSerializer.parse(x),R,S);if("/"===x[0])throw new $i(le);return le}applyRedirectCreateUrlTree(R,x,S,O){const ie=this.createSegmentGroup(R,x.root,S,O);return new dr(ie,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(R,x){const S={};return Object.entries(R).forEach(([O,ie])=>{if("string"==typeof ie&&":"===ie[0]){const _t=ie.substring(1);S[O]=x[_t]}else S[O]=ie}),S}createSegmentGroup(R,x,S,O){const ie=this.createSegments(R,x.segments,S,O);let le={};return Object.entries(x.children).forEach(([_t,nn])=>{le[_t]=this.createSegmentGroup(R,nn,S,O)}),new hr(ie,le)}createSegments(R,x,S,O){return x.map(ie=>":"===ie.path[0]?this.findPosParam(R,ie,O):this.findOrReturn(ie,S))}findPosParam(R,x,S){const O=S[x.path.substring(1)];if(!O)throw new c.wOt(4001,!1);return O}findOrReturn(R,x){let S=0;for(const O of x){if(O.path===R.path)return x.splice(S),O;S++}return R}}const qo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fr(T,R,x,S,O){const ie=Vi(T,R,x);return ie.matched?(S=function ko(T,R){var x;return T.providers&&!T._injector&&(T._injector=(0,c.Ol2)(T.providers,R,`Route: ${T.path}`)),null!==(x=T._injector)&&void 0!==x?x:R}(R,S),function Jn(T,R,x,S){const O=R.canMatch;if(!O||0===O.length)return(0,ce.of)(!0);const ie=O.map(le=>{const _t=oo(le,T);return Nt(function Rs(T){return T&&To(T.canMatch)}(_t)?_t.canMatch(R,x):(0,c.N4e)(T,()=>_t(R,x)))});return(0,ce.of)(ie).pipe(Vo(),Xt())}(S,R,x).pipe((0,we.T)(le=>!0===le?ie:{...qo}))):(0,ce.of)(ie)}function Vi(T,R,x){var S,O;if("**"===R.path)return function qi(T){return{matched:!0,parameters:T.length>0?Zt(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}(x);if(""===R.path)return"full"===R.pathMatch&&(T.hasChildren()||x.length>0)?{...qo}:{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const le=(R.matcher||St)(x,T,R);if(!le)return{...qo};const _t={};Object.entries(null!==(S=le.posParams)&&void 0!==S?S:{}).forEach(([At,Nn])=>{_t[At]=Nn.path});const nn=le.consumed.length>0?{..._t,...le.consumed[le.consumed.length-1].parameters}:_t;return{matched:!0,consumedSegments:le.consumed,remainingSegments:x.slice(le.consumed.length),parameters:nn,positionalParamSegments:null!==(O=le.posParams)&&void 0!==O?O:{}}}function Po(T,R,x,S){return x.length>0&&function Ms(T,R,x){return x.some(S=>Fa(T,R,S)&&Ki(S)!==dn)}(T,x,S)?{segmentGroup:new hr(R,fa(S,new hr(x,T.children))),slicedSegments:[]}:0===x.length&&function $o(T,R,x){return x.some(S=>Fa(T,R,S))}(T,x,S)?{segmentGroup:new hr(T.segments,lo(T,x,S,T.children)),slicedSegments:x}:{segmentGroup:new hr(T.segments,T.children),slicedSegments:x}}function lo(T,R,x,S){const O={};for(const ie of x)if(Fa(T,R,ie)&&!S[Ki(ie)]){const le=new hr([],{});O[Ki(ie)]=le}return{...S,...O}}function fa(T,R){const x={};x[dn]=R;for(const S of T)if(""===S.path&&Ki(S)!==dn){const O=new hr([],{});x[Ki(S)]=O}return x}function Fa(T,R,x){return(!(T.hasChildren()||R.length>0)||"full"!==x.pathMatch)&&""===x.path}class pa{}class tl{constructor(R,x,S,O,ie,le,_t){this.injector=R,this.configLoader=x,this.rootComponentType=S,this.config=O,this.urlTree=ie,this.paramsInheritanceStrategy=le,this.urlSerializer=_t,this.applyRedirects=new li(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(R){return new c.wOt(4002,`'${R.segmentGroup}'`)}recognize(){const R=Po(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(R).pipe((0,we.T)(({children:x,rootSnapshot:S})=>{const O=new Fe(S,x),ie=new bn("",O),le=function Wr(T,R,x=null,S=null){return Hr(Hn(T),R,x,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(le),{state:ie,tree:le}}))}match(R){const x=new gn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),dn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,R,dn,x).pipe((0,we.T)(S=>({children:S,rootSnapshot:x})),on(S=>{if(S instanceof $i)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Si?this.noMatchError(S):S}))}processSegmentGroup(R,x,S,O,ie){return 0===S.segments.length&&S.hasChildren()?this.processChildren(R,x,S,ie):this.processSegment(R,x,S,S.segments,O,!0,ie).pipe((0,we.T)(le=>le instanceof Fe?[le]:[]))}processChildren(R,x,S,O){const ie=[];for(const le of Object.keys(S.children))"primary"===le?ie.unshift(le):ie.push(le);return(0,ye.H)(ie).pipe((0,Ht.H)(le=>{const _t=S.children[le],nn=function Cn(T,R){const x=T.filter(S=>Ki(S)===R);return x.push(...T.filter(S=>Ki(S)!==R)),x}(x,le);return this.processSegmentGroup(R,nn,_t,le,O)}),(0,kn.S)((le,_t)=>(le.push(..._t),le)),(0,Pt.U)(null),function Y(T,R){const x=arguments.length>=2;return S=>S.pipe(T?(0,Rt.p)((O,ie)=>T(O,ie,S)):X.D,_e(1),x?(0,Pt.U)(R):(0,Ee.v)(()=>new ze.G))}(),(0,Se.Z)(le=>{if(null===le)return Hi(S);const _t=Ps(le);return function nl(T){T.sort((R,x)=>R.value.outlet===dn?-1:x.value.outlet===dn?1:R.value.outlet.localeCompare(x.value.outlet))}(_t),(0,ce.of)(_t)}))}processSegment(R,x,S,O,ie,le,_t){return(0,ye.H)(x).pipe((0,Ht.H)(nn=>{var At;return this.processSegmentAgainstRoute(null!==(At=nn._injector)&&void 0!==At?At:R,x,nn,S,O,ie,le,_t).pipe(on(Nn=>{if(Nn instanceof Si)return(0,ce.of)(null);throw Nn}))}),(0,Wt.$)(nn=>!!nn),on(nn=>{if(Gs(nn))return function Dl(T,R,x){return 0===R.length&&!T.children[x]}(S,O,ie)?(0,ce.of)(new pa):Hi(S);throw nn}))}processSegmentAgainstRoute(R,x,S,O,ie,le,_t,nn){return Ki(S)===le||le!==dn&&Fa(O,ie,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(R,O,S,ie,le,nn):this.allowRedirects&&_t?this.expandSegmentAgainstRouteUsingRedirect(R,O,x,S,ie,le,nn):Hi(O):Hi(O)}expandSegmentAgainstRouteUsingRedirect(R,x,S,O,ie,le,_t){var nn,At;const{matched:Nn,parameters:Dr,consumedSegments:Ii,positionalParamSegments:Er,remainingSegments:co}=Vi(x,O,ie);if(!Nn)return Hi(x);"string"==typeof O.redirectTo&&"/"===O.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const us=new gn(ie,Dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xs(O),Ki(O),null!==(nn=null!==(At=O.component)&&void 0!==At?At:O._loadedComponent)&&void 0!==nn?nn:null,O,ga(O)),Ei=tn(us,_t,this.paramsInheritanceStrategy);us.params=Object.freeze(Ei.params),us.data=Object.freeze(Ei.data);const Zs=this.applyRedirects.applyRedirectCommands(Ii,O.redirectTo,Er,us,R);return this.applyRedirects.lineralizeSegments(O,Zs).pipe((0,Se.Z)(Qo=>this.processSegment(R,S,x,Qo.concat(co),le,!1,_t)))}matchSegmentAgainstRoute(R,x,S,O,ie,le){const _t=Fr(x,S,O,R);return"**"===S.path&&(x.children={}),_t.pipe((0,rt.n)(nn=>{var At;return nn.matched?(R=null!==(At=S._injector)&&void 0!==At?At:R,this.getChildConfig(R,S,O).pipe((0,rt.n)(({routes:Nn})=>{var Dr,Ii,Er;const co=null!==(Dr=S._loadedInjector)&&void 0!==Dr?Dr:R,{parameters:us,consumedSegments:Ei,remainingSegments:Zs}=nn,Qo=new gn(Ei,us,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xs(S),Ki(S),null!==(Ii=null!==(Er=S.component)&&void 0!==Er?Er:S._loadedComponent)&&void 0!==Ii?Ii:null,S,ga(S)),sl=tn(Qo,le,this.paramsInheritanceStrategy);Qo.params=Object.freeze(sl.params),Qo.data=Object.freeze(sl.data);const{segmentGroup:al,slicedSegments:Yo}=Po(x,Ei,Zs,Nn);if(0===Yo.length&&al.hasChildren())return this.processChildren(co,Nn,al,Qo).pipe((0,we.T)(ll=>new Fe(Qo,ll)));if(0===Nn.length&&0===Yo.length)return(0,ce.of)(new Fe(Qo,[]));const bc=Ki(S)===ie;return this.processSegment(co,Nn,al,Yo,bc?dn:ie,!0,Qo).pipe((0,we.T)(ll=>new Fe(Qo,ll instanceof Fe?[ll]:[])))}))):Hi(x)}))}getChildConfig(R,x,S){return x.children?(0,ce.of)({routes:x.children,injector:R}):x.loadChildren?void 0!==x._loadedRoutes?(0,ce.of)({routes:x._loadedRoutes,injector:x._loadedInjector}):function de(T,R,x,S){const O=R.canLoad;if(void 0===O||0===O.length)return(0,ce.of)(!0);const ie=O.map(le=>{const _t=oo(le,T);return Nt(function Ss(T){return T&&To(T.canLoad)}(_t)?_t.canLoad(R,x):(0,c.N4e)(T,()=>_t(R,x)))});return(0,ce.of)(ie).pipe(Vo(),Xt())}(R,x,S).pipe((0,Se.Z)(O=>O?this.configLoader.loadChildren(R,x).pipe((0,pn.M)(ie=>{x._loadedRoutes=ie.routes,x._loadedInjector=ie.injector})):function Tr(){return Oe(Ro(!1,ur.GuardRejected))}())):(0,ce.of)({routes:[],injector:R})}}function ku(T){const R=T.value.routeConfig;return R&&""===R.path}function Ps(T){const R=[],x=new Set;for(const S of T){if(!ku(S)){R.push(S);continue}const O=R.find(ie=>S.value.routeConfig===ie.value.routeConfig);void 0!==O?(O.children.push(...S.children),x.add(O)):R.push(S)}for(const S of x){const O=Ps(S.children);R.push(new Fe(S.value,O))}return R.filter(S=>!x.has(S))}function Xs(T){return T.data||{}}function ga(T){return T.resolve||{}}function wl(T){const R=T.children.map(x=>wl(x)).flat();return[T,...R]}function ba(T){return(0,rt.n)(R=>{const x=T(R);return x?(0,ye.H)(x).pipe((0,we.T)(()=>R)):(0,ce.of)(R)})}let Qs=(()=>{var T;class R{buildTitle(S){let O,ie=S.root;for(;void 0!==ie;){var le;O=null!==(le=this.getResolvedTitleForRoute(ie))&&void 0!==le?le:O,ie=ie.children.find(_t=>_t.outlet===dn)}return O}getResolvedTitleForRoute(S){return S.data[_n]}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(Do),providedIn:"root"}),R})(),Do=(()=>{var T;class R extends Qs{constructor(S){super(),this.title=S}updateTitle(S){const O=this.buildTitle(S);void 0!==O&&this.title.setTitle(O)}}return(T=R).\u0275fac=function(S){return new(S||T)(c.KVO(Ln.hE))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();const Ni=new c.nKC("",{providedIn:"root",factory:()=>({})});let rl=(()=>{var T;class R{}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275cmp=c.VBU({type:T,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(S,O){1&S&&c.nrm(0,"router-outlet")},dependencies:[ar],encapsulation:2}),R})();function wa(T){const R=T.children&&T.children.map(wa),x=R?{...T,children:R}:{...T};return!x.component&&!x.loadComponent&&(R||x.loadChildren)&&x.outlet&&x.outlet!==dn&&(x.component=rl),x}const A=new c.nKC("");let M=(()=>{var T;class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,ce.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const O=Nt(S.loadComponent()).pipe((0,we.T)(V),(0,pn.M)(le=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=le}),(0,qe.j)(()=>{this.componentLoaders.delete(S)})),ie=new dt(O,()=>new pt.B).pipe(vt());return this.componentLoaders.set(S,ie),ie}loadChildren(S,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,ce.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const le=function j(T,R,x,S){return Nt(T.loadChildren()).pipe((0,we.T)(V),(0,Se.Z)(O=>O instanceof c.Co$||Array.isArray(O)?(0,ce.of)(O):(0,ye.H)(R.compileModuleAsync(O))),(0,we.T)(O=>{S&&S(T);let ie,le,_t=!1;return Array.isArray(O)?(le=O,!0):(ie=O.create(x).injector,le=ie.get(A,[],{optional:!0,self:!0}).flat()),{routes:le.map(wa),injector:ie}}))}(O,this.compiler,S,this.onLoadEndListener).pipe((0,qe.j)(()=>{this.childrenLoaders.delete(O)})),_t=new dt(le,()=>new pt.B).pipe(vt());return this.childrenLoaders.set(O,_t),_t}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();function V(T){return function I(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let te=(()=>{var T;class R{}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(Ut),providedIn:"root"}),R})(),Ut=(()=>{var T;class R{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,O){return S}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();const mn=new c.nKC(""),Un=new c.nKC("");function D(T,R,x){const S=T.get(Un),O=T.get(ve.qQ);return T.get(c.SKi).runOutsideAngular(()=>{if(!O.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(At=>setTimeout(At));let ie;const le=new Promise(At=>{ie=At}),_t=O.startViewTransition(()=>(ie(),function U(T){return new Promise(R=>{(0,c.mal)({read:()=>setTimeout(R)},{injector:T})})}(T))),{onViewTransitionCreated:nn}=S;return nn&&(0,c.N4e)(T,()=>nn({transition:_t,from:R,to:x})),le})}const fe=new c.nKC("");let L=(()=>{var T;class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pt.B,this.transitionAbortSubject=new pt.B,this.configLoader=(0,c.WQX)(M),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(rr),this.rootContexts=(0,c.WQX)(os),this.location=(0,c.WQX)(ve.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(fi,{optional:!0}),this.titleStrategy=(0,c.WQX)(Qs),this.options=(0,c.WQX)(Ni,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(te),this.createViewTransition=(0,c.WQX)(mn,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(fe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ie=>this.events.next(new Xr(ie)),this.configLoader.onLoadStartListener=ie=>this.events.next(new Di(ie))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var O;const ie=++this.navigationId;null===(O=this.transitions)||void 0===O||O.next({...this.transitions.value,...S,id:ie})}setupNavigations(S,O,ie){return this.transitions=new be.t({id:0,currentUrlTree:O,currentRawUrl:O,extractedUrl:this.urlHandlingStrategy.extract(O),urlAfterRedirects:this.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ct,restoredState:null,currentSnapshot:ie.snapshot,targetSnapshot:null,currentRouterState:ie,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Rt.p)(le=>0!==le.id),(0,we.T)(le=>({...le,extractedUrl:this.urlHandlingStrategy.extract(le.rawUrl)})),(0,rt.n)(le=>{let _t=!1,nn=!1;return(0,ce.of)(le).pipe((0,rt.n)(At=>{var Nn;if(this.navigationId>le.id)return this.cancelNavigationTransition(le,"",ur.SupersededByNewNavigation),lt.w;this.currentTransition=le,this.currentNavigation={id:At.id,initialUrl:At.rawUrl,extractedUrl:At.extractedUrl,targetBrowserUrl:"string"==typeof At.extras.browserUrl?this.urlSerializer.parse(At.extras.browserUrl):At.extras.browserUrl,trigger:At.source,extras:At.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Dr=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Ii=null!==(Nn=At.extras.onSameUrlNavigation)&&void 0!==Nn?Nn:S.onSameUrlNavigation;if(!Dr&&"reload"!==Ii){const Er="";return this.events.next(new Li(At.id,this.urlSerializer.serialize(At.rawUrl),Er,jn.IgnoredSameUrlNavigation)),At.resolve(!1),lt.w}if(this.urlHandlingStrategy.shouldProcessUrl(At.rawUrl))return(0,ce.of)(At).pipe((0,rt.n)(Er=>{var co,us;const Ei=null===(co=this.transitions)||void 0===co?void 0:co.getValue();return this.events.next(new wn(Er.id,this.urlSerializer.serialize(Er.extractedUrl),Er.source,Er.restoredState)),Ei!==(null===(us=this.transitions)||void 0===us?void 0:us.getValue())?lt.w:Promise.resolve(Er)}),function Va(T,R,x,S,O,ie){return(0,Se.Z)(le=>function bl(T,R,x,S,O,ie,le="emptyOnly"){return new tl(T,R,x,S,O,le,ie).recognize()}(T,R,x,S,le.extractedUrl,O,ie).pipe((0,we.T)(({state:_t,tree:nn})=>({...le,targetSnapshot:_t,urlAfterRedirects:nn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,pn.M)(Er=>{le.targetSnapshot=Er.targetSnapshot,le.urlAfterRedirects=Er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Er.urlAfterRedirects};const co=new hi(Er.id,this.urlSerializer.serialize(Er.extractedUrl),this.urlSerializer.serialize(Er.urlAfterRedirects),Er.targetSnapshot);this.events.next(co)}));if(Dr&&this.urlHandlingStrategy.shouldProcessUrl(At.currentRawUrl)){const{id:Er,extractedUrl:co,source:us,restoredState:Ei,extras:Zs}=At,Qo=new wn(Er,this.urlSerializer.serialize(co),us,Ei);this.events.next(Qo);const sl=Qt(this.rootComponentType).snapshot;return this.currentTransition=le={...At,targetSnapshot:sl,urlAfterRedirects:co,extras:{...Zs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=co,(0,ce.of)(le)}{const Er="";return this.events.next(new Li(At.id,this.urlSerializer.serialize(At.extractedUrl),Er,jn.IgnoredByUrlHandlingStrategy)),At.resolve(!1),lt.w}}),(0,pn.M)(At=>{const Nn=new gi(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Nn)}),(0,we.T)(At=>(this.currentTransition=le={...At,guards:yr(At.targetSnapshot,At.currentSnapshot,this.rootContexts)},le)),function Ks(T,R){return(0,Se.Z)(x=>{const{targetSnapshot:S,currentSnapshot:O,guards:{canActivateChecks:ie,canDeactivateChecks:le}}=x;return 0===le.length&&0===ie.length?(0,ce.of)({...x,guardsResult:!0}):function Uo(T,R,x,S){return(0,ye.H)(T).pipe((0,Se.Z)(O=>function B(T,R,x,S,O){const ie=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,ce.of)(!0);const le=ie.map(_t=>{var nn;const At=null!==(nn=gs(R))&&void 0!==nn?nn:O,Nn=oo(_t,At);return Nt(function vs(T){return T&&To(T.canDeactivate)}(Nn)?Nn.canDeactivate(T,R,x,S):(0,c.N4e)(At,()=>Nn(T,R,x,S))).pipe((0,Wt.$)())});return(0,ce.of)(le).pipe(Vo())}(O.component,O.route,x,R,S)),(0,Wt.$)(O=>!0!==O,!0))}(le,S,O,T).pipe((0,Se.Z)(_t=>_t&&function ha(T){return"boolean"==typeof T}(_t)?function Da(T,R,x,S){return(0,ye.H)(R).pipe((0,Ht.H)(O=>(0,Ie.x)(function z(T,R){return null!==T&&R&&R(new qr(T)),(0,ce.of)(!0)}(O.route.parent,S),function el(T,R){return null!==T&&R&&R(new vr(T)),(0,ce.of)(!0)}(O.route,S),function Q(T,R,x){const S=R[R.length-1],ie=R.slice(0,R.length-1).reverse().map(le=>function Ao(T){const R=T.routeConfig?T.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:T,guards:R}:null}(le)).filter(le=>null!==le).map(le=>Ue(()=>{const _t=le.guards.map(nn=>{var At;const Nn=null!==(At=gs(le.node))&&void 0!==At?At:x,Dr=oo(nn,Nn);return Nt(function Ko(T){return T&&To(T.canActivateChild)}(Dr)?Dr.canActivateChild(S,T):(0,c.N4e)(Nn,()=>Dr(S,T))).pipe((0,Wt.$)())});return(0,ce.of)(_t).pipe(Vo())}));return(0,ce.of)(ie).pipe(Vo())}(T,O.path,x),function N(T,R,x){const S=R.routeConfig?R.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ce.of)(!0);const O=S.map(ie=>Ue(()=>{var le;const _t=null!==(le=gs(R))&&void 0!==le?le:x,nn=oo(ie,_t);return Nt(function as(T){return T&&To(T.canActivate)}(nn)?nn.canActivate(R,T):(0,c.N4e)(_t,()=>nn(R,T))).pipe((0,Wt.$)())}));return(0,ce.of)(O).pipe(Vo())}(T,O.route,x))),(0,Wt.$)(O=>!0!==O,!0))}(S,ie,T,R):(0,ce.of)(_t)),(0,we.T)(_t=>({...x,guardsResult:_t})))})}(this.environmentInjector,At=>this.events.next(At)),(0,pn.M)(At=>{if(le.guardsResult=At.guardsResult,At.guardsResult&&"boolean"!=typeof At.guardsResult)throw ss(0,At.guardsResult);const Nn=new ti(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot,!!At.guardsResult);this.events.next(Nn)}),(0,Rt.p)(At=>!!At.guardsResult||(this.cancelNavigationTransition(At,"",ur.GuardRejected),!1)),ba(At=>{if(At.guards.canActivateChecks.length)return(0,ce.of)(At).pipe((0,pn.M)(Nn=>{const Dr=new Rr(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(Dr)}),(0,rt.n)(Nn=>{let Dr=!1;return(0,ce.of)(Nn).pipe(function Ns(T,R){return(0,Se.Z)(x=>{const{targetSnapshot:S,guards:{canActivateChecks:O}}=x;if(!O.length)return(0,ce.of)(x);const ie=new Set(O.map(nn=>nn.route)),le=new Set;for(const nn of ie)if(!le.has(nn))for(const At of wl(nn))le.add(At);let _t=0;return(0,ye.H)(le).pipe((0,Ht.H)(nn=>ie.has(nn)?function jo(T,R,x,S){const O=T.routeConfig,ie=T._resolve;return void 0!==(null==O?void 0:O.title)&&!wi(O)&&(ie[_n]=O.title),function Ua(T,R,x,S){const O=Xn(T);if(0===O.length)return(0,ce.of)({});const ie={};return(0,ye.H)(O).pipe((0,Se.Z)(le=>function ma(T,R,x,S){var O;const ie=null!==(O=gs(R))&&void 0!==O?O:S,le=oo(T,ie);return Nt(le.resolve?le.resolve(R,x):(0,c.N4e)(ie,()=>le(R,x)))}(T[le],R,x,S).pipe((0,Wt.$)(),(0,pn.M)(_t=>{if(_t instanceof ms)throw ss(new ii,_t);ie[le]=_t}))),_e(1),function De(T){return(0,we.T)(()=>T)}(ie),on(le=>Gs(le)?lt.w:Oe(le)))}(ie,T,R,S).pipe((0,we.T)(le=>(T._resolvedData=le,T.data=tn(T,T.parent,x).resolve,null)))}(nn,S,T,R):(nn.data=tn(nn,nn.parent,T).resolve,(0,ce.of)(void 0))),(0,pn.M)(()=>_t++),_e(1),(0,Se.Z)(nn=>_t===le.size?(0,ce.of)(x):lt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,pn.M)({next:()=>Dr=!0,complete:()=>{Dr||this.cancelNavigationTransition(Nn,"",ur.NoDataFromResolver)}}))}),(0,pn.M)(Nn=>{const Dr=new Ur(Nn.id,this.urlSerializer.serialize(Nn.extractedUrl),this.urlSerializer.serialize(Nn.urlAfterRedirects),Nn.targetSnapshot);this.events.next(Dr)}))}),ba(At=>{const Nn=Dr=>{var Ii;const Er=[];null!==(Ii=Dr.routeConfig)&&void 0!==Ii&&Ii.loadComponent&&!Dr.routeConfig._loadedComponent&&Er.push(this.configLoader.loadComponent(Dr.routeConfig).pipe((0,pn.M)(co=>{Dr.component=co}),(0,we.T)(()=>{})));for(const co of Dr.children)Er.push(...Nn(co));return Er};return(0,ke.z)(Nn(At.targetSnapshot.root)).pipe((0,Pt.U)(null),(0,ut.s)(1))}),ba(()=>this.afterPreactivation()),(0,rt.n)(()=>{var At;const{currentSnapshot:Nn,targetSnapshot:Dr}=le,Ii=null===(At=this.createViewTransition)||void 0===At?void 0:At.call(this,this.environmentInjector,Nn.root,Dr.root);return Ii?(0,ye.H)(Ii).pipe((0,we.T)(()=>le)):(0,ce.of)(le)}),(0,we.T)(At=>{const Nn=function _o(T,R,x){const S=ao(T,R._root,x?x._root:void 0);return new Qe(S,R)}(S.routeReuseStrategy,At.targetSnapshot,At.currentRouterState);return this.currentTransition=le={...At,targetRouterState:Nn},this.currentNavigation.targetRouterState=Nn,le}),(0,pn.M)(()=>{this.events.next(new Go)}),((T,R,x,S)=>(0,we.T)(O=>(new da(R,O.targetRouterState,O.currentRouterState,x,S).activate(T),O)))(this.rootContexts,S.routeReuseStrategy,At=>this.events.next(At),this.inputBindingEnabled),(0,ut.s)(1),(0,pn.M)({next:At=>{var Nn;_t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Le(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects))),null===(Nn=this.titleStrategy)||void 0===Nn||Nn.updateTitle(At.targetRouterState.snapshot),At.resolve(!0)},complete:()=>{_t=!0}}),function ot(T){return(0,et.N)((R,x)=>{(0,ue.Tg)(T).subscribe((0,Ye._)(x,()=>x.complete(),Je.l)),!x.closed&&R.subscribe(x)})}(this.transitionAbortSubject.pipe((0,pn.M)(At=>{throw At}))),(0,qe.j)(()=>{var At;!_t&&!nn&&this.cancelNavigationTransition(le,"",ur.SupersededByNewNavigation),(null===(At=this.currentTransition)||void 0===At?void 0:At.id)===le.id&&(this.currentNavigation=null,this.currentTransition=null)}),on(At=>{if(nn=!0,vi(At))this.events.next(new Kr(le.id,this.urlSerializer.serialize(le.extractedUrl),At.message,At.cancellationCode)),function si(T){return vi(T)&&Pn(T.url)}(At)?this.events.next(new So(At.url,At.navigationBehaviorOptions)):le.resolve(!1);else{var Nn;const Dr=new Ti(le.id,this.urlSerializer.serialize(le.extractedUrl),At,null!==(Nn=le.targetSnapshot)&&void 0!==Nn?Nn:void 0);try{const Ii=(0,c.N4e)(this.environmentInjector,()=>{var Er;return null===(Er=this.navigationErrorHandler)||void 0===Er?void 0:Er.call(this,Dr)});if(Ii instanceof ms){const{message:Er,cancellationCode:co}=ss(0,Ii);this.events.next(new Kr(le.id,this.urlSerializer.serialize(le.extractedUrl),Er,co)),this.events.next(new So(Ii.redirectTo,Ii.navigationBehaviorOptions))}else{this.events.next(Dr);const Er=S.errorHandler(At);le.resolve(!!Er)}}catch(Ii){this.options.resolveNavigationPromiseOnError?le.resolve(!1):le.reject(Ii)}}return lt.w}))}))}cancelNavigationTransition(S,O,ie){const le=new Kr(S.id,this.urlSerializer.serialize(S.extractedUrl),O,ie);this.events.next(le),S.resolve(!1)}isUpdatingInternalState(){var S,O;return(null===(S=this.currentTransition)||void 0===S?void 0:S.extractedUrl.toString())!==(null===(O=this.currentTransition)||void 0===O?void 0:O.currentUrlTree.toString())}isUpdatedBrowserUrl(){var S,O,ie,le;const _t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),nn=null!==(S=null===(O=this.currentNavigation)||void 0===O?void 0:O.targetBrowserUrl)&&void 0!==S?S:null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.extractedUrl;return _t.toString()!==(null==nn?void 0:nn.toString())&&!(null!==(le=this.currentNavigation)&&void 0!==le&&le.extras.skipLocationChange)}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();function Z(T){return T!==ct}let Pe=(()=>{var T;class R{}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(cn),providedIn:"root"}),R})();class bt{shouldDetach(R){return!1}store(R,x){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,x){return R.routeConfig===x.routeConfig}}let cn=(()=>{var T;class R extends bt{}return(T=R).\u0275fac=(()=>{let x;return function(O){return(x||(x=c.xGo(T)))(O||T)}})(),T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})(),lr=(()=>{var T;class R{}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:()=>(0,c.WQX)(ni),providedIn:"root"}),R})(),ni=(()=>{var T;class R extends lr{constructor(){super(...arguments),this.location=(0,c.WQX)(ve.aZ),this.urlSerializer=(0,c.WQX)(rr),this.options=(0,c.WQX)(Ni,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(te),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var S,O;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===(O=this.restoredState())||void 0===O?void 0:O.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(O=>{"popstate"===O.type&&S(O.url,O.state)})}handleRouterEvent(S,O){if(S instanceof wn)this.stateMemento=this.createStateMemento();else if(S instanceof Li)this.rawUrlTree=O.initialUrl;else if(S instanceof hi){if("eager"===this.urlUpdateStrategy&&!O.extras.skipLocationChange){var ie;const _t=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl);this.setBrowserUrl(null!==(ie=O.targetBrowserUrl)&&void 0!==ie?ie:_t,O)}}else if(S instanceof Go){var le;this.currentUrlTree=O.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(O.finalUrl,O.initialUrl),this.routerState=O.targetRouterState,"deferred"!==this.urlUpdateStrategy||O.extras.skipLocationChange||this.setBrowserUrl(null!==(le=O.targetBrowserUrl)&&void 0!==le?le:this.rawUrlTree,O)}else S instanceof Kr&&(S.code===ur.GuardRejected||S.code===ur.NoDataFromResolver)?this.restoreHistory(O):S instanceof Ti?this.restoreHistory(O,!0):S instanceof Le&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,O){const ie=S instanceof dr?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(ie)||O.extras.replaceUrl){const _t={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(ie,"",_t)}else{const le={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(ie,"",le)}}restoreHistory(S,O=!1){if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-this.browserPageId;0!==le?this.location.historyGo(le):this.currentUrlTree===S.finalUrl&&0===le&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){var O;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(O=S.finalUrl)&&void 0!==O?O:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,O){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:O}:{navigationId:S}}}return(T=R).\u0275fac=(()=>{let x;return function(O){return(x||(x=c.xGo(T)))(O||T)}})(),T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();var ri=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(ri||{});function Rn(T,R){T.events.pipe((0,Rt.p)(x=>x instanceof Le||x instanceof Kr||x instanceof Ti||x instanceof Li),(0,we.T)(x=>x instanceof Le||x instanceof Li?ri.COMPLETE:x instanceof Kr&&(x.code===ur.Redirect||x.code===ur.SupersededByNewNavigation)?ri.REDIRECTING:ri.FAILED),(0,Rt.p)(x=>x!==ri.REDIRECTING),(0,ut.s)(1)).subscribe(()=>{R()})}function Fi(T){throw T}const _i={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{var T;class R{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var S,O;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(lr),this.options=(0,c.WQX)(Ni,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(L),this.urlSerializer=(0,c.WQX)(rr),this.location=(0,c.WQX)(ve.aZ),this.urlHandlingStrategy=(0,c.WQX)(te),this._events=new pt.B,this.errorHandler=this.options.errorHandler||Fi,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(Pe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(S=null===(O=(0,c.WQX)(A,{optional:!0}))||void 0===O?void 0:O.flat())&&void 0!==S?S:[],this.componentInputBindingEnabled=!!(0,c.WQX)(fi,{optional:!0}),this.eventsSubscription=new st.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ie=>{this.console.warn(ie)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(O=>{try{const ie=this.navigationTransitions.currentTransition,le=this.navigationTransitions.currentNavigation;if(null!==ie&&null!==le)if(this.stateManager.handleRouterEvent(O,le),O instanceof Kr&&O.code!==ur.Redirect&&O.code!==ur.SupersededByNewNavigation)this.navigated=!0;else if(O instanceof Le)this.navigated=!0;else if(O instanceof So){const _t=O.navigationBehaviorOptions,nn=this.urlHandlingStrategy.merge(O.url,ie.currentRawUrl),At={browserUrl:ie.extras.browserUrl,info:ie.extras.info,skipLocationChange:ie.extras.skipLocationChange,replaceUrl:ie.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Z(ie.source),..._t};this.scheduleNavigation(nn,ct,null,At,{resolve:ie.resolve,reject:ie.reject,promise:ie.promise})}(function hn(T){return!(T instanceof Go||T instanceof So)})(O)&&this._events.next(O)}catch(ie){this.navigationTransitions.transitionAbortSubject.next(ie)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ct,this.stateManager.restoredState())}setUpLocationChangeListener(){var S;null!==(S=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==S||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((O,ie)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(O,"popstate",ie)},0)}))}navigateToSyncWithBrowser(S,O,ie){const le={replaceUrl:!0},_t=null!=ie&&ie.navigationId?ie:null;if(ie){const At={...ie};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(le.state=At)}const nn=this.parseUrl(S);this.scheduleNavigation(nn,O,_t,le)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(wa),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,O={}){const{relativeTo:ie,queryParams:le,fragment:_t,queryParamsHandling:nn,preserveFragment:At}=O,Nn=At?this.currentUrlTree.fragment:_t;let Ii,Dr=null;switch(null!=nn?nn:this.options.defaultQueryParamsHandling){case"merge":Dr={...this.currentUrlTree.queryParams,...le};break;case"preserve":Dr=this.currentUrlTree.queryParams;break;default:Dr=le||null}null!==Dr&&(Dr=this.removeEmptyProps(Dr));try{Ii=Hn(ie?ie.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),Ii=this.currentUrlTree.root}return Hr(Ii,S,Dr,null!=Nn?Nn:null)}navigateByUrl(S,O={skipLocationChange:!1}){const ie=Pn(S)?S:this.parseUrl(S),le=this.urlHandlingStrategy.merge(ie,this.rawUrlTree);return this.scheduleNavigation(le,ct,null,O)}navigate(S,O={skipLocationChange:!1}){return function Qr(T){for(let R=0;R<T.length;R++)if(null==T[R])throw new c.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,O),O)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,O){let ie;if(ie=!0===O?{..._i}:!1===O?{...Xi}:O,Pn(S))return Vt(this.currentUrlTree,S,ie);const le=this.parseUrl(S);return Vt(this.currentUrlTree,le,ie)}removeEmptyProps(S){return Object.entries(S).reduce((O,[ie,le])=>(null!=le&&(O[ie]=le),O),{})}scheduleNavigation(S,O,ie,le,_t){if(this.disposed)return Promise.resolve(!1);let nn,At,Nn;_t?(nn=_t.resolve,At=_t.reject,Nn=_t.promise):Nn=new Promise((Ii,Er)=>{nn=Ii,At=Er});const Dr=this.pendingTasks.add();return Rn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Dr))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:ie,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:le,resolve:nn,reject:At,promise:Nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nn.catch(Ii=>Promise.reject(Ii))}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})(),Zn=(()=>{var T;class R{constructor(S,O,ie,le,_t,nn){var At;this.router=S,this.route=O,this.tabIndexAttribute=ie,this.renderer=le,this.el=_t,this.locationStrategy=nn,this.href=null,this.onChanges=new pt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Nn=null===(At=_t.nativeElement.tagName)||void 0===At?void 0:At.toLowerCase();this.isAnchorElement="a"===Nn||"area"===Nn,this.isAnchorElement?this.subscription=S.events.subscribe(Dr=>{Dr instanceof Le&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Pn(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,O,ie,le,_t){const nn=this.urlTree;return!!(null===nn||this.isAnchorElement&&(0!==S||O||ie||le||_t||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(nn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;const O=this.urlTree;this.href=null!==O&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(O)):null;const ie=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ie)}applyAttributeValue(S,O){const ie=this.renderer,le=this.el.nativeElement;null!==O?ie.setAttribute(le,S,O):ie.removeAttribute(le,S)}get urlTree(){return null===this.routerLinkInput?null:Pn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(T=R).\u0275fac=function(S){return new(S||T)(c.rXU(zi),c.rXU(qt),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ve.hb))},T.\u0275dir=c.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,O){1&S&&c.bIt("click",function(le){return O.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&S&&c.BMQ("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),R})();class xi{}let Yi=(()=>{var T;class R{preload(S,O){return O().pipe(on(()=>(0,ce.of)(null)))}}return(T=R).\u0275fac=function(S){return new(S||T)},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})(),yi=(()=>{var T;class R{constructor(S,O,ie,le,_t){this.router=S,this.injector=ie,this.preloadingStrategy=le,this.loader=_t}setUpPreloading(){this.subscription=this.router.events.pipe((0,Rt.p)(S=>S instanceof Le),(0,Ht.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,O){const ie=[];for(const At of O){var le,_t;At.providers&&!At._injector&&(At._injector=(0,c.Ol2)(At.providers,S,`Route: ${At.path}`));const Nn=null!==(le=At._injector)&&void 0!==le?le:S,Dr=null!==(_t=At._loadedInjector)&&void 0!==_t?_t:Nn;var nn;(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)&&ie.push(this.preloadConfig(Nn,At)),(At.children||At._loadedRoutes)&&ie.push(this.processRoutes(Dr,null!==(nn=At.children)&&void 0!==nn?nn:At._loadedRoutes))}return(0,ye.H)(ie).pipe((0,$t.U)())}preloadConfig(S,O){return this.preloadingStrategy.preload(O,()=>{let ie;ie=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(S,O):(0,ce.of)(null);const le=ie.pipe((0,Se.Z)(_t=>{var nn;return null===_t?(0,ce.of)(void 0):(O._loadedRoutes=_t.routes,O._loadedInjector=_t.injector,this.processRoutes(null!==(nn=_t.injector)&&void 0!==nn?nn:S,_t.routes))}));if(O.loadComponent&&!O._loadedComponent){const _t=this.loader.loadComponent(O);return(0,ye.H)([le,_t]).pipe((0,$t.U)())}return le})}}return(T=R).\u0275fac=function(S){return new(S||T)(c.KVO(zi),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(xi),c.KVO(M))},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),R})();const Ji=new c.nKC("");let Ho=(()=>{var T;class R{constructor(S,O,ie,le,_t={}){this.urlSerializer=S,this.transitions=O,this.viewportScroller=ie,this.zone=le,this.options=_t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_t.scrollPositionRestoration||(_t.scrollPositionRestoration="disabled"),_t.anchorScrolling||(_t.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof wn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Le?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof Li&&S.code===jn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Mi&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mi(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){var S,O;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(O=this.scrollEventsSubscription)||void 0===O||O.unsubscribe()}}return(T=R).\u0275fac=function(S){c.QTQ()},T.\u0275prov=c.jDH({token:T,factory:T.\u0275fac}),R})();function Xo(T,R){return{\u0275kind:T,\u0275providers:R}}function Io(){const T=(0,c.WQX)(c.zZn);return R=>{var x,S;const O=T.get(c.o8S);if(R!==O.components[0])return;const ie=T.get(zi),le=T.get($a);1===T.get(Fu)&&ie.initialNavigation(),null===(x=T.get(er,null,c.$GK.Optional))||void 0===x||x.setUpPreloading(),null===(S=T.get(Ji,null,c.$GK.Optional))||void 0===S||S.init(),ie.resetRootComponentType(O.componentTypes[0]),le.closed||(le.next(),le.complete(),le.unsubscribe())}}const $a=new c.nKC("",{factory:()=>new pt.B}),Fu=new c.nKC("",{providedIn:"root",factory:()=>1}),er=new c.nKC("");function _s(T){return Xo(0,[{provide:er,useExisting:yi},{provide:xi,useExisting:T}])}function no(T){return Xo(9,[{provide:mn,useValue:D},{provide:Un,useValue:{skipNextTransition:!(null==T||!T.skipInitialTransition),...T}}])}const Zi=new c.nKC("ROUTER_FORROOT_GUARD"),wo=[ve.aZ,{provide:rr,useClass:ii},zi,os,{provide:qt,useFactory:function Ba(T){return T.routerState.root},deps:[zi]},M,[]];let ja=(()=>{var T;class R{constructor(S){}static forRoot(S,O){return{ngModule:R,providers:[wo,[],{provide:A,multi:!0,useValue:S},{provide:Zi,useFactory:ol,deps:[[zi,new c.Xx1,new c.kdw]]},{provide:Ni,useValue:O||{}},null!=O&&O.useHash?{provide:ve.hb,useClass:ve.fw}:{provide:ve.hb,useClass:ve.Sm},{provide:Ji,useFactory:()=>{const T=(0,c.WQX)(ve.Xr),R=(0,c.WQX)(c.SKi),x=(0,c.WQX)(Ni),S=(0,c.WQX)(L),O=(0,c.WQX)(rr);return x.scrollOffset&&T.setOffset(x.scrollOffset),new Ho(O,S,T,R,x)}},null!=O&&O.preloadingStrategy?_s(O.preloadingStrategy).\u0275providers:[],null!=O&&O.initialNavigation?nu(O):[],null!=O&&O.bindToComponentInputs?Xo(8,[xr,{provide:fi,useExisting:xr}]).\u0275providers:[],null!=O&&O.enableViewTransitions?no().\u0275providers:[],[{provide:ru,useFactory:Io},{provide:c.iLQ,multi:!0,useExisting:ru}]]}}static forChild(S){return{ngModule:R,providers:[{provide:A,multi:!0,useValue:S}]}}}return(T=R).\u0275fac=function(S){return new(S||T)(c.KVO(Zi,8))},T.\u0275mod=c.$C({type:T}),T.\u0275inj=c.G2t({}),R})();function ol(T){return"guarded"}function nu(T){return["disabled"===T.initialNavigation?Xo(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const R=(0,c.WQX)(zi);return()=>{R.setUpLocationChangeListener()}}},{provide:Fu,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Xo(2,[{provide:Fu,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:R=>{const x=R.get(ve.hj,Promise.resolve());return()=>x.then(()=>new Promise(S=>{const O=R.get(zi),ie=R.get($a);Rn(O,()=>{S(!0)}),R.get(L).afterPreactivation=()=>(S(!0),ie.closed?(0,ce.of)(void 0):ie),O.initialNavigation()}))}}]).\u0275providers:[]]}const ru=new c.nKC("")},3345:(An,ft,$)=>{"use strict";$.d(ft,{A:()=>lt});var c=$(1076),f=$(1362),he=$(7852),ae=$(8041);class ye{constructor(et,Ye){this._delegate=et,this.firebase=Ye,(0,he._addComponent)(et,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,he.deleteApp)(this._delegate)))}_getService(et,Ye=he._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(et);return!dt.isInitialized()&&"EXPLICIT"===(null===(vt=dt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Ye})}_removeServiceInstance(et,Ye=he._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(Ye)}_addComponent(et){(0,he._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,he._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ie=function ze(){const st=function ke(st){const et={},Ye={__esModule:!0,initializeApp:function pt(ut,Ct={}){const Rt=he.initializeApp(ut,Ct);if((0,c.gR)(et,Rt.name))return et[Rt.name];const Se=new st(Rt,Ye);return et[Rt.name]=Se,Se},app:dt,registerVersion:he.registerVersion,setLogLevel:he.setLogLevel,onLog:he.onLog,apps:null,SDK_VERSION:he.SDK_VERSION,INTERNAL:{registerComponent:function we(ut){const Ct=ut.name,Rt=Ct.replace("-compat","");if(he._registerComponent(ut)&&"PUBLIC"===ut.type){const Se=(Wt=dt())=>{if("function"!=typeof Wt[Rt])throw be.create("invalid-app-argument",{appName:Ct});return Wt[Rt]()};void 0!==ut.serviceProps&&(0,c.zw)(Se,ut.serviceProps),Ye[Rt]=Se,st.prototype[Rt]=function(...Wt){return this._getService.bind(this,Ct).apply(this,ut.multipleInstances?Wt:[])}}return"PUBLIC"===ut.type?Ye[Rt]:null},removeApp:function vt(ut){delete et[ut]},useAsService:function rt(ut,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:he}};function dt(ut){if(!(0,c.gR)(et,ut=ut||he._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:ut});return et[ut]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function ve(){return Object.keys(et).map(ut=>et[ut])}}),dt.App=st,Ye}(ye);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:ze,extendNamespace:function et(Ye){(0,c.zw)(st,Ye)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),st}(),ue=new ae.Vy("@firebase/app-compat");try{const st=(0,c.mS)();if(void 0!==st.firebase){ue.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const et=st.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&ue.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const lt=Ie;!function Oe(st){(0,he.registerVersion)("@firebase/app-compat","0.2.43",st)}()},7852:(An,ft,$)=>{"use strict";$.r(ft),$.d(ft,{FirebaseError:()=>ae.g,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>hr,_addOrOverwriteComponent:()=>jr,_apps:()=>$r,_clearComponents:()=>Sr,_components:()=>dr,_getProvider:()=>Cr,_isFirebaseApp:()=>rr,_isFirebaseServerApp:()=>ii,_registerComponent:()=>di,_removeServiceInstance:()=>wr,_serverApps:()=>Or,deleteApp:()=>oe,getApp:()=>kt,getApps:()=>me,initializeApp:()=>je,initializeServerApp:()=>Ne,onLog:()=>Te,registerVersion:()=>pe,setLogLevel:()=>Ke});var c=$(467),f=$(1362),he=$(8041),ae=$(1076);const ye=($e,it)=>it.some(zt=>$e instanceof zt);let ce,be;const Ie=new WeakMap,ue=new WeakMap,Ue=new WeakMap,xe=new WeakMap,Oe=new WeakMap;let et={get($e,it,zt){if($e instanceof IDBTransaction){if("done"===it)return ue.get($e);if("objectStoreNames"===it)return $e.objectStoreNames||Ue.get($e);if("store"===it)return zt.objectStoreNames[1]?void 0:zt.objectStore(zt.objectStoreNames[0])}return pt($e[it])},set:($e,it,zt)=>($e[it]=zt,!0),has:($e,it)=>$e instanceof IDBTransaction&&("done"===it||"store"===it)||it in $e};function dt($e){return"function"==typeof $e?function vt($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ze(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...it){return $e.apply(ve(this),it),pt(Ie.get(this))}:function(...it){return pt($e.apply(ve(this),it))}:function(it,...zt){const yn=$e.call(ve(this),it,...zt);return Ue.set(yn,it.sort?it.sort():[it]),pt(yn)}}($e):($e instanceof IDBTransaction&&function st($e){if(ue.has($e))return;const it=new Promise((zt,yn)=>{const gt=()=>{$e.removeEventListener("complete",Gt),$e.removeEventListener("error",vn),$e.removeEventListener("abort",vn)},Gt=()=>{zt(),gt()},vn=()=>{yn($e.error||new DOMException("AbortError","AbortError")),gt()};$e.addEventListener("complete",Gt),$e.addEventListener("error",vn),$e.addEventListener("abort",vn)});ue.set($e,it)}($e),ye($e,function ke(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,et):$e)}function pt($e){if($e instanceof IDBRequest)return function lt($e){const it=new Promise((zt,yn)=>{const gt=()=>{$e.removeEventListener("success",Gt),$e.removeEventListener("error",vn)},Gt=()=>{zt(pt($e.result)),gt()},vn=()=>{yn($e.error),gt()};$e.addEventListener("success",Gt),$e.addEventListener("error",vn)});return it.then(zt=>{zt instanceof IDBCursor&&Ie.set(zt,$e)}).catch(()=>{}),Oe.set(it,$e),it}($e);if(xe.has($e))return xe.get($e);const it=dt($e);return it!==$e&&(xe.set($e,it),Oe.set(it,$e)),it}const ve=$e=>Oe.get($e),ut=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Rt=new Map;function Se($e,it){if(!($e instanceof IDBDatabase)||it in $e||"string"!=typeof it)return;if(Rt.get(it))return Rt.get(it);const zt=it.replace(/FromIndex$/,""),yn=it!==zt,gt=Ct.includes(zt);if(!(zt in(yn?IDBIndex:IDBObjectStore).prototype)||!gt&&!ut.includes(zt))return;const Gt=function(){var vn=(0,c.A)(function*(Gn,...fr){const se=this.transaction(Gn,gt?"readwrite":"readonly");let Ae=se.store;return yn&&(Ae=Ae.index(fr.shift())),(yield Promise.all([Ae[zt](...fr),gt&&se.done]))[0]});return function(fr){return vn.apply(this,arguments)}}();return Rt.set(it,Gt),Gt}!function Ye($e){et=$e(et)}($e=>({...$e,get:(it,zt,yn)=>Se(it,zt)||$e.get(it,zt,yn),has:(it,zt)=>!!Se(it,zt)||$e.has(it,zt)}));class Wt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function Ht($e){const it=$e.getComponent();return"VERSION"===(null==it?void 0:it.type)}(zt)){const yn=zt.getImmediate();return`${yn.library}/${yn.version}`}return null}).filter(zt=>zt).join(" ")}}const pn="@firebase/app",on="0.10.13",kn=new he.Vy("@firebase/app"),Pt="@firebase/app-compat",_e="@firebase/analytics-compat",Ee="@firebase/analytics",X="@firebase/app-check-compat",Y="@firebase/app-check",De="@firebase/auth",qe="@firebase/auth-compat",Je="@firebase/database",ot="@firebase/data-connect",$t="@firebase/database-compat",Ln="@firebase/functions",dn="@firebase/functions-compat",_n="@firebase/installations",zn="@firebase/installations-compat",Bt="@firebase/messaging",St="@firebase/messaging-compat",Qn="@firebase/performance",sr="@firebase/performance-compat",Xn="@firebase/remote-config",Tn="@firebase/remote-config-compat",Zt="@firebase/storage",Nt="@firebase/storage-compat",Ot="@firebase/firestore",En="@firebase/vertexai-preview",Vt="@firebase/firestore-compat",gr="firebase",Mn="[DEFAULT]",$n={[pn]:"fire-core",[Pt]:"fire-core-compat",[Ee]:"fire-analytics",[_e]:"fire-analytics-compat",[Y]:"fire-app-check",[X]:"fire-app-check-compat",[De]:"fire-auth",[qe]:"fire-auth-compat",[Je]:"fire-rtdb",[ot]:"fire-data-connect",[$t]:"fire-rtdb-compat",[Ln]:"fire-fn",[dn]:"fire-fn-compat",[_n]:"fire-iid",[zn]:"fire-iid-compat",[Bt]:"fire-fcm",[St]:"fire-fcm-compat",[Qn]:"fire-perf",[sr]:"fire-perf-compat",[Xn]:"fire-rc",[Tn]:"fire-rc-compat",[Zt]:"fire-gcs",[Nt]:"fire-gcs-compat",[Ot]:"fire-fst",[Vt]:"fire-fst-compat",[En]:"fire-vertex","fire-js":"fire-js",[gr]:"fire-js-all"},$r=new Map,Or=new Map,dr=new Map;function hr($e,it){try{$e.container.addComponent(it)}catch(zt){kn.debug(`Component ${it.name} failed to register with FirebaseApp ${$e.name}`,zt)}}function jr($e,it){$e.container.addOrOverwriteComponent(it)}function di($e){const it=$e.name;if(dr.has(it))return kn.debug(`There were multiple attempts to register component ${it}.`),!1;dr.set(it,$e);for(const zt of $r.values())hr(zt,$e);for(const zt of Or.values())hr(zt,$e);return!0}function Cr($e,it){const zt=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return zt&&zt.triggerHeartbeat(),$e.container.getProvider(it)}function wr($e,it,zt=Mn){Cr($e,it).clearInstance(zt)}function rr($e){return void 0!==$e.options}function ii($e){return void 0!==$e.settings}function Sr(){dr.clear()}const Kt=new ae.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qn{constructor(it,zt,yn){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=yn,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}class zr extends qn{constructor(it,zt,yn,gt){const Gt=void 0!==zt.automaticDataCollectionEnabled&&zt.automaticDataCollectionEnabled,vn={name:yn,automaticDataCollectionEnabled:Gt};super(void 0!==it.apiKey?it:it.options,vn,gt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Gt},zt),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,zt.releaseOnDeref=void 0,pe(pn,on,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(it){this.isDeleted||(this._refCount++,void 0!==it&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(it,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){oe(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Kt.create("server-app-deleted")}}const Vr="10.14.1";function je($e,it={}){let zt=$e;"object"!=typeof it&&(it={name:it});const yn=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},it),gt=yn.name;if("string"!=typeof gt||!gt)throw Kt.create("bad-app-name",{appName:String(gt)});if(zt||(zt=(0,ae.T9)()),!zt)throw Kt.create("no-options");const Gt=$r.get(gt);if(Gt){if((0,ae.bD)(zt,Gt.options)&&(0,ae.bD)(yn,Gt.config))return Gt;throw Kt.create("duplicate-app",{appName:gt})}const vn=new f.h1(gt);for(const fr of dr.values())vn.addComponent(fr);const Gn=new qn(zt,yn,vn);return $r.set(gt,Gn),Gn}function Ne($e,it){if((0,ae.Bd)()&&!(0,ae.p7)())throw Kt.create("invalid-server-app-environment");let zt;void 0===it.automaticDataCollectionEnabled&&(it.automaticDataCollectionEnabled=!1),zt=rr($e)?$e.options:$e;const yn=Object.assign(Object.assign({},it),zt);if(void 0!==yn.releaseOnDeref&&delete yn.releaseOnDeref,void 0!==it.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Kt.create("finalization-registry-not-supported",{});const Gt=""+(se=JSON.stringify(yn),[...se].reduce((Ae,Ze)=>Math.imul(31,Ae)+Ze.charCodeAt(0)|0,0)),vn=Or.get(Gt);var se;if(vn)return vn.incRefCount(it.releaseOnDeref),vn;const Gn=new f.h1(Gt);for(const se of dr.values())Gn.addComponent(se);const fr=new zr(zt,it,Gt,Gn);return Or.set(Gt,fr),fr}function kt($e=Mn){const it=$r.get($e);if(!it&&$e===Mn&&(0,ae.T9)())return je();if(!it)throw Kt.create("no-app",{appName:$e});return it}function me(){return Array.from($r.values())}function oe($e){return We.apply(this,arguments)}function We(){return(We=(0,c.A)(function*($e){let it=!1;const zt=$e.name;$r.has(zt)?(it=!0,$r.delete(zt)):Or.has(zt)&&$e.decRefCount()<=0&&(Or.delete(zt),it=!0),it&&(yield Promise.all($e.container.getProviders().map(yn=>yn.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function pe($e,it,zt){var yn;let gt=null!==(yn=$n[$e])&&void 0!==yn?yn:$e;zt&&(gt+=`-${zt}`);const Gt=gt.match(/\s|\//),vn=it.match(/\s|\//);if(Gt||vn){const Gn=[`Unable to register library "${gt}" with version "${it}":`];return Gt&&Gn.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),Gt&&vn&&Gn.push("and"),vn&&Gn.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void kn.warn(Gn.join(" "))}di(new f.uA(`${gt}-version`,()=>({library:gt,version:it}),"VERSION"))}function Te($e,it){if(null!==$e&&"function"!=typeof $e)throw Kt.create("invalid-log-argument");(0,he.Ey)($e,it)}function Ke($e){(0,he.He)($e)}const xt="firebase-heartbeat-database",ht=1,Dn="firebase-heartbeat-store";let On=null;function Zr(){return On||(On=function we($e,it,{blocked:zt,upgrade:yn,blocking:gt,terminated:Gt}={}){const vn=indexedDB.open($e,it),Gn=pt(vn);return yn&&vn.addEventListener("upgradeneeded",fr=>{yn(pt(vn.result),fr.oldVersion,fr.newVersion,pt(vn.transaction),fr)}),zt&&vn.addEventListener("blocked",fr=>zt(fr.oldVersion,fr.newVersion,fr)),Gn.then(fr=>{Gt&&fr.addEventListener("close",()=>Gt()),gt&&fr.addEventListener("versionchange",se=>gt(se.oldVersion,se.newVersion,se))}).catch(()=>{}),Gn}(xt,ht,{upgrade:($e,it)=>{if(0===it)try{$e.createObjectStore(Dn)}catch(zt){console.warn(zt)}}}).catch($e=>{throw Kt.create("idb-open",{originalErrorMessage:$e.message})})),On}function Nr(){return(Nr=(0,c.A)(function*($e){try{const zt=(yield Zr()).transaction(Dn),yn=yield zt.objectStore(Dn).get(Pn($e));return yield zt.done,yn}catch(it){if(it instanceof ae.g)kn.warn(it.message);else{const zt=Kt.create("idb-get",{originalErrorMessage:null==it?void 0:it.message});kn.warn(zt.message)}}})).apply(this,arguments)}function Gr($e,it){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.A)(function*($e,it){try{const yn=(yield Zr()).transaction(Dn,"readwrite");yield yn.objectStore(Dn).put(it,Pn($e)),yield yn.done}catch(zt){if(zt instanceof ae.g)kn.warn(zt.message);else{const yn=Kt.create("idb-set",{originalErrorMessage:null==zt?void 0:zt.message});kn.warn(yn.message)}}})).apply(this,arguments)}function Pn($e){return`${$e.name}!${$e.options.appId}`}class Hr{constructor(it){this.container=it,this._heartbeatsCache=null;const zt=this.container.getProvider("app").getImmediate();this._storage=new pr(zt),this._heartbeatsCachePromise=this._storage.read().then(yn=>(this._heartbeatsCache=yn,yn))}triggerHeartbeat(){var it=this;return(0,c.A)(function*(){var zt,yn;try{const Gt=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vn=Fn();return null==(null===(zt=it._heartbeatsCache)||void 0===zt?void 0:zt.heartbeats)&&(it._heartbeatsCache=yield it._heartbeatsCachePromise,null==(null===(yn=it._heartbeatsCache)||void 0===yn?void 0:yn.heartbeats))||it._heartbeatsCache.lastSentHeartbeatDate===vn||it._heartbeatsCache.heartbeats.some(Gn=>Gn.date===vn)?void 0:(it._heartbeatsCache.heartbeats.push({date:vn,agent:Gt}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(Gn=>{const fr=new Date(Gn.date).valueOf();return Date.now()-fr<=2592e6}),it._storage.overwrite(it._heartbeatsCache))}catch(gt){kn.warn(gt)}})()}getHeartbeatsHeader(){var it=this;return(0,c.A)(function*(){var zt;try{if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null==(null===(zt=it._heartbeatsCache)||void 0===zt?void 0:zt.heartbeats)||0===it._heartbeatsCache.heartbeats.length)return"";const yn=Fn(),{heartbeatsToSend:gt,unsentEntries:Gt}=function ji($e,it=1024){const zt=[];let yn=$e.slice();for(const gt of $e){const Gt=zt.find(vn=>vn.agent===gt.agent);if(Gt){if(Gt.dates.push(gt.date),vo(zt)>it){Gt.dates.pop();break}}else if(zt.push({agent:gt.agent,dates:[gt.date]}),vo(zt)>it){zt.pop();break}yn=yn.slice(1)}return{heartbeatsToSend:zt,unsentEntries:yn}}(it._heartbeatsCache.heartbeats),vn=(0,ae.Uj)(JSON.stringify({version:2,heartbeats:gt}));return it._heartbeatsCache.lastSentHeartbeatDate=yn,Gt.length>0?(it._heartbeatsCache.heartbeats=Gt,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),vn}catch(yn){return kn.warn(yn),""}})()}}function Fn(){return(new Date).toISOString().substring(0,10)}class pr{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,ae.zW)()&&(0,ae.eX)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,c.A)(function*(){if(yield it._canUseIndexedDBPromise){const yn=yield function pi($e){return Nr.apply(this,arguments)}(it.app);return null!=yn&&yn.heartbeats?yn:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(it){var zt=this;return(0,c.A)(function*(){var yn;if(yield zt._canUseIndexedDBPromise){const Gt=yield zt.read();return Gr(zt.app,{lastSentHeartbeatDate:null!==(yn=it.lastSentHeartbeatDate)&&void 0!==yn?yn:Gt.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var zt=this;return(0,c.A)(function*(){var yn;if(yield zt._canUseIndexedDBPromise){const Gt=yield zt.read();return Gr(zt.app,{lastSentHeartbeatDate:null!==(yn=it.lastSentHeartbeatDate)&&void 0!==yn?yn:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...it.heartbeats]})}})()}}function vo($e){return(0,ae.Uj)(JSON.stringify({version:2,heartbeats:$e})).length}!function Kn($e){di(new f.uA("platform-logger",it=>new Wt(it),"PRIVATE")),di(new f.uA("heartbeat",it=>new Hr(it),"PRIVATE")),pe(pn,on,$e),pe(pn,on,"esm2017"),pe("fire-js","")}("")},1362:(An,ft,$)=>{"use strict";$.d(ft,{h1:()=>ke,uA:()=>he});var c=$(467),f=$(1076);class he{constructor(Ie,ue,Ue){this.name=Ie,this.instanceFactory=ue,this.type=Ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ie){return this.instantiationMode=Ie,this}setMultipleInstances(Ie){return this.multipleInstances=Ie,this}setServiceProps(Ie){return this.serviceProps=Ie,this}setInstanceCreatedCallback(Ie){return this.onInstanceCreated=Ie,this}}const ae="[DEFAULT]";class ye{constructor(Ie,ue){this.name=Ie,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ie){const ue=this.normalizeInstanceIdentifier(Ie);if(!this.instancesDeferred.has(ue)){const Ue=new f.cY;if(this.instancesDeferred.set(ue,Ue),this.isInitialized(ue)||this.shouldAutoInitialize())try{const xe=this.getOrInitializeService({instanceIdentifier:ue});xe&&Ue.resolve(xe)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(Ie){var ue;const Ue=this.normalizeInstanceIdentifier(null==Ie?void 0:Ie.identifier),xe=null!==(ue=null==Ie?void 0:Ie.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Ue)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ue})}catch(Oe){if(xe)return null;throw Oe}}getComponent(){return this.component}setComponent(Ie){if(Ie.name!==this.name)throw Error(`Mismatching Component ${Ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ie,this.shouldAutoInitialize()){if(function be(ze){return"EAGER"===ze.instantiationMode}(Ie))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[ue,Ue]of this.instancesDeferred.entries()){const xe=this.normalizeInstanceIdentifier(ue);try{const Oe=this.getOrInitializeService({instanceIdentifier:xe});Ue.resolve(Oe)}catch{}}}}clearInstance(Ie=ae){this.instancesDeferred.delete(Ie),this.instancesOptions.delete(Ie),this.instances.delete(Ie)}delete(){var Ie=this;return(0,c.A)(function*(){const ue=Array.from(Ie.instances.values());yield Promise.all([...ue.filter(Ue=>"INTERNAL"in Ue).map(Ue=>Ue.INTERNAL.delete()),...ue.filter(Ue=>"_delete"in Ue).map(Ue=>Ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ie=ae){return this.instances.has(Ie)}getOptions(Ie=ae){return this.instancesOptions.get(Ie)||{}}initialize(Ie={}){const{options:ue={}}=Ie,Ue=this.normalizeInstanceIdentifier(Ie.instanceIdentifier);if(this.isInitialized(Ue))throw Error(`${this.name}(${Ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const xe=this.getOrInitializeService({instanceIdentifier:Ue,options:ue});for(const[Oe,lt]of this.instancesDeferred.entries())Ue===this.normalizeInstanceIdentifier(Oe)&&lt.resolve(xe);return xe}onInit(Ie,ue){var Ue;const xe=this.normalizeInstanceIdentifier(ue),Oe=null!==(Ue=this.onInitCallbacks.get(xe))&&void 0!==Ue?Ue:new Set;Oe.add(Ie),this.onInitCallbacks.set(xe,Oe);const lt=this.instances.get(xe);return lt&&Ie(lt,xe),()=>{Oe.delete(Ie)}}invokeOnInitCallbacks(Ie,ue){const Ue=this.onInitCallbacks.get(ue);if(Ue)for(const xe of Ue)try{xe(Ie,ue)}catch{}}getOrInitializeService({instanceIdentifier:Ie,options:ue={}}){let Ue=this.instances.get(Ie);if(!Ue&&this.component&&(Ue=this.component.instanceFactory(this.container,{instanceIdentifier:(ze=Ie,ze===ae?void 0:ze),options:ue}),this.instances.set(Ie,Ue),this.instancesOptions.set(Ie,ue),this.invokeOnInitCallbacks(Ue,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,Ue)}catch{}var ze;return Ue||null}normalizeInstanceIdentifier(Ie=ae){return this.component?this.component.multipleInstances?Ie:ae:Ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(Ie){this.name=Ie,this.providers=new Map}addComponent(Ie){const ue=this.getProvider(Ie.name);if(ue.isComponentSet())throw new Error(`Component ${Ie.name} has already been registered with ${this.name}`);ue.setComponent(Ie)}addOrOverwriteComponent(Ie){this.getProvider(Ie.name).isComponentSet()&&this.providers.delete(Ie.name),this.addComponent(Ie)}getProvider(Ie){if(this.providers.has(Ie))return this.providers.get(Ie);const ue=new ye(Ie,this);return this.providers.set(Ie,ue),ue}getProviders(){return Array.from(this.providers.values())}}},8041:(An,ft,$)=>{"use strict";$.d(ft,{$b:()=>f,Ey:()=>ze,He:()=>ke,Vy:()=>be});const c=[];var f=function(Ie){return Ie[Ie.DEBUG=0]="DEBUG",Ie[Ie.VERBOSE=1]="VERBOSE",Ie[Ie.INFO=2]="INFO",Ie[Ie.WARN=3]="WARN",Ie[Ie.ERROR=4]="ERROR",Ie[Ie.SILENT=5]="SILENT",Ie}(f||{});const he={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},ae=f.INFO,ye={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},ce=(Ie,ue,...Ue)=>{if(ue<Ie.logLevel)return;const xe=(new Date).toISOString(),Oe=ye[ue];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Oe](`[${xe}]  ${Ie.name}:`,...Ue)};class be{constructor(ue){this.name=ue,this._logLevel=ae,this._logHandler=ce,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in f))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?he[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...ue),this._logHandler(this,f.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...ue),this._logHandler(this,f.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,f.INFO,...ue),this._logHandler(this,f.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,f.WARN,...ue),this._logHandler(this,f.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...ue),this._logHandler(this,f.ERROR,...ue)}}function ke(Ie){c.forEach(ue=>{ue.setLogLevel(Ie)})}function ze(Ie,ue){for(const Ue of c){let xe=null;ue&&ue.level&&(xe=he[ue.level]),Ue.userLogHandler=null===Ie?null:(Oe,lt,...st)=>{const et=st.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");lt>=(null!=xe?xe:Oe.logLevel)&&Ie({level:f[lt].toLowerCase(),message:et,args:st,type:Oe.name})}}}},3667:(An,ft,$)=>{"use strict";$.d(ft,{U1:()=>ne,Jm:()=>yt,b_:()=>tn,I9:()=>gn,ME:()=>bn,tN:()=>Wn,W9:()=>ar,eU:()=>ms,iq:()=>ui,$w:()=>vi,uz:()=>Lo,he:()=>oo,nf:()=>to,Sb:()=>La,JI:()=>as,Rg:()=>Ms,Jq:()=>Tr,qW:()=>li,p4:()=>$o,Zx:()=>Vi,BC:()=>qi,ai:()=>fa,bv:()=>wa,su:()=>rs,N7:()=>pa,Gw:()=>ps});var c=$(9842),f=$(4438),he=$(4341),ae=$(467),ye=$(9384),ce=$(177),be=$(5531),ke=$(4442);var Ht=$(1413),pn=$(8750),on=$(1985),kn=$(1397),Pt=$(7441),_e=$(8071),Ee=$(6450);const X=["addListener","removeListener"],Y=["addEventListener","removeEventListener"],De=["on","off"];function qe(A,M,j,I){if((0,_e.T)(j)&&(I=j,j=void 0),I)return qe(A,M,j).pipe((0,Ee.I)(I));const[V,te]=function Ln(A){return(0,_e.T)(A.addEventListener)&&(0,_e.T)(A.removeEventListener)}(A)?Y.map(Ut=>mn=>A[Ut](M,mn,j)):function ot(A){return(0,_e.T)(A.addListener)&&(0,_e.T)(A.removeListener)}(A)?X.map(Je(A,M)):function $t(A){return(0,_e.T)(A.on)&&(0,_e.T)(A.off)}(A)?De.map(Je(A,M)):[];if(!V&&(0,Pt.X)(A))return(0,kn.Z)(Ut=>qe(Ut,M,j))((0,pn.Tg)(A));if(!V)throw new TypeError("Invalid event target");return new on.c(Ut=>{const mn=(...Un)=>Ut.next(1<Un.length?Un:Un[0]);return V(mn),()=>te(mn)})}function Je(A,M){return j=>I=>A[j](M,I)}var dn=$(4412),_n=$(4572),zn=$(7673),Bt=$(1635),St=$(5964),Qn=$(5558),sr=$(3294);const Xn=["tabsInner"];let Ot=(()=>{var A;class M{constructor(I,V){(0,c.A)(this,"doc",void 0),(0,c.A)(this,"_readyPromise",void 0),(0,c.A)(this,"win",void 0),(0,c.A)(this,"backButton",new Ht.B),(0,c.A)(this,"keyboardDidShow",new Ht.B),(0,c.A)(this,"keyboardDidHide",new Ht.B),(0,c.A)(this,"pause",new Ht.B),(0,c.A)(this,"resume",new Ht.B),(0,c.A)(this,"resize",new Ht.B),this.doc=I,V.run(()=>{var te;let Ut;this.win=I.defaultView,this.backButton.subscribeWithPriority=function(mn,Un){return this.subscribe(D=>D.register(mn,U=>V.run(()=>Un(U))))},Vt(this.pause,I,"pause",V),Vt(this.resume,I,"resume",V),Vt(this.backButton,I,"ionBackButton",V),Vt(this.resize,this.win,"resize",V),Vt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",V),Vt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",V),this._readyPromise=new Promise(mn=>{Ut=mn}),null!==(te=this.win)&&void 0!==te&&te.cordova?I.addEventListener("deviceready",()=>{Ut("cordova")},{once:!0}):Ut("dom")})}is(I){return(0,be.a)(this.win,I)}platforms(){return(0,be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(I){return En(this.win.location.href,I)}isLandscape(){return!this.isPortrait()}isPortrait(){var I,V;return null===(I=(V=this.win).matchMedia)||void 0===I?void 0:I.call(V,"(orientation: portrait)").matches}testUserAgent(I){const V=this.win.navigator;return!!(null!=V&&V.userAgent&&V.userAgent.indexOf(I)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.KVO(ce.qQ),f.KVO(f.SKi))}),(0,c.A)(M,"\u0275prov",f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})),M})();const En=(A,M)=>{M=M.replace(/[[\]\\]/g,"\\$&");const I=new RegExp("[\\?&]"+M+"=([^&#]*)").exec(A);return I?decodeURIComponent(I[1].replace(/\+/g," ")):null},Vt=(A,M,j,I)=>{M&&M.addEventListener(j,V=>{I.run(()=>{A.next(null!=V?V.detail:void 0)})})};let gr=(()=>{var A;class M{constructor(I,V,te,Ut){(0,c.A)(this,"location",void 0),(0,c.A)(this,"serializer",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"topOutlet",void 0),(0,c.A)(this,"direction",Mn),(0,c.A)(this,"animated",$n),(0,c.A)(this,"animationBuilder",void 0),(0,c.A)(this,"guessDirection","forward"),(0,c.A)(this,"guessAnimation",void 0),(0,c.A)(this,"lastNavId",-1),this.location=V,this.serializer=te,this.router=Ut,Ut&&Ut.events.subscribe(mn=>{if(mn instanceof ye.Z){const Un=mn.restoredState?mn.restoredState.navigationId:mn.id;this.guessDirection=this.guessAnimation=Un<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?mn.id:Un}}),I.backButton.subscribeWithPriority(0,mn=>{this.pop(),mn()})}navigateForward(I,V={}){return this.setDirection("forward",V.animated,V.animationDirection,V.animation),this.navigate(I,V)}navigateBack(I,V={}){return this.setDirection("back",V.animated,V.animationDirection,V.animation),this.navigate(I,V)}navigateRoot(I,V={}){return this.setDirection("root",V.animated,V.animationDirection,V.animation),this.navigate(I,V)}back(I={animated:!0,animationDirection:"back"}){return this.setDirection("back",I.animated,I.animationDirection,I.animation),this.location.back()}pop(){var I=this;return(0,ae.A)(function*(){let V=I.topOutlet;for(;V;){if(yield V.pop())return!0;V=V.parentOutlet}return!1})()}setDirection(I,V,te,Ut){this.direction=I,this.animated=mr(I,V,te),this.animationBuilder=Ut}setTopOutlet(I){this.topOutlet=I}consumeTransition(){let V,I="root";const te=this.animationBuilder;return"auto"===this.direction?(I=this.guessDirection,V=this.guessAnimation):(V=this.animated,I=this.direction),this.direction=Mn,this.animated=$n,this.animationBuilder=void 0,{direction:I,animation:V,animationBuilder:te}}navigate(I,V){if(Array.isArray(I))return this.router.navigate(I,V);{const te=this.serializer.parse(I.toString());return void 0!==V.queryParams&&(te.queryParams={...V.queryParams}),void 0!==V.fragment&&(te.fragment=V.fragment),this.router.navigateByUrl(te,V)}}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.KVO(Ot),f.KVO(ce.aZ),f.KVO(ye.Sd),f.KVO(ye.Ix,8))}),(0,c.A)(M,"\u0275prov",f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})),M})();const mr=(A,M,j)=>{if(!1!==M){if(void 0!==j)return j;if("forward"===A||"back"===A)return A;if("root"===A&&!0===M)return"forward"}},Mn="auto",$n=void 0;let $r=(()=>{var A;class M{get(I,V){const te=dr();return te?te.get(I,V):null}getBoolean(I,V){const te=dr();return!!te&&te.getBoolean(I,V)}getNumber(I,V){const te=dr();return te?te.getNumber(I,V):0}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)}),(0,c.A)(M,"\u0275prov",f.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})),M})();const Or=new f.nKC("USERCONFIG"),dr=()=>{if(typeof window<"u"){const A=window.Ionic;if(null!=A&&A.config)return A.config}return null};class hr{constructor(M={}){(0,c.A)(this,"data",void 0),this.data=M,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(M){return this.data[M]}}let jr=(()=>{var A;class M{constructor(){(0,c.A)(this,"zone",(0,f.WQX)(f.SKi)),(0,c.A)(this,"applicationRef",(0,f.WQX)(f.o8S)),(0,c.A)(this,"config",(0,f.WQX)(Or))}create(I,V,te){var Ut;return new di(I,V,this.applicationRef,this.zone,te,null!==(Ut=this.config.useSetInputAPI)&&void 0!==Ut&&Ut)}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)}),(0,c.A)(M,"\u0275prov",f.jDH({token:A,factory:A.\u0275fac})),M})();class di{constructor(M,j,I,V,te,Ut){(0,c.A)(this,"environmentInjector",void 0),(0,c.A)(this,"injector",void 0),(0,c.A)(this,"applicationRef",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"elementReferenceKey",void 0),(0,c.A)(this,"enableSignalsSupport",void 0),(0,c.A)(this,"elRefMap",new WeakMap),(0,c.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=M,this.injector=j,this.applicationRef=I,this.zone=V,this.elementReferenceKey=te,this.enableSignalsSupport=Ut}attachViewToDom(M,j,I,V){return this.zone.run(()=>new Promise(te=>{const Ut={...I};void 0!==this.elementReferenceKey&&(Ut[this.elementReferenceKey]=M),te(Cr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,M,j,Ut,V,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(M,j){return this.zone.run(()=>new Promise(I=>{const V=this.elRefMap.get(j);if(V){V.destroy(),this.elRefMap.delete(j);const te=this.elEventsMap.get(j);te&&(te(),this.elEventsMap.delete(j))}I()}))}}const Cr=(A,M,j,I,V,te,Ut,mn,Un,D,U,fe)=>{const L=f.zZn.create({providers:Sr(Un),parent:j}),Z=(0,f.a0P)(mn,{environmentInjector:M,elementInjector:L}),Pe=Z.instance,bt=Z.location.nativeElement;if(Un)if(U&&void 0!==Pe[U]&&console.error(`[Ionic Error]: ${U} is a reserved property when using ${Ut.tagName.toLowerCase()}. Rename or remove the "${U}" property from ${mn.name}.`),!0===fe&&void 0!==Z.setInput){const{modal:lr,popover:ni,...ri}=Un;for(const Rn in ri)Z.setInput(Rn,ri[Rn]);void 0!==lr&&Object.assign(Pe,{modal:lr}),void 0!==ni&&Object.assign(Pe,{popover:ni})}else Object.assign(Pe,Un);if(D)for(const lr of D)bt.classList.add(lr);const cn=rr(A,Pe,bt);return Ut.appendChild(bt),I.attachView(Z.hostView),V.set(bt,Z),te.set(bt,cn),bt},wr=[ke.L,ke.a,ke.b,ke.c,ke.d],rr=(A,M,j)=>A.run(()=>{const I=wr.filter(V=>"function"==typeof M[V]).map(V=>{const te=Ut=>M[V](Ut.detail);return j.addEventListener(V,te),()=>j.removeEventListener(V,te)});return()=>I.forEach(V=>V())}),ii=new f.nKC("NavParamsToken"),Sr=A=>[{provide:ii,useValue:A},{provide:hr,useFactory:eo,deps:[ii]}],eo=A=>new hr(A),Kt=(A,M)=>{const j=A.prototype;M.forEach(I=>{Object.defineProperty(j,I,{get(){return this.el[I]},set(V){this.z.runOutsideAngular(()=>this.el[I]=V)}})})},qn=(A,M)=>{const j=A.prototype;M.forEach(I=>{j[I]=function(){const V=arguments;return this.z.runOutsideAngular(()=>this.el[I].apply(this.el,V))}})};function Vr(A){return function(j){const{defineCustomElementFn:I,inputs:V,methods:te}=A;return void 0!==I&&I(),V&&Kt(j,V),te&&qn(j,te),j}}const me=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],oe=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let We=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"template",void 0),(0,c.A)(this,"isCmpOpen",!1),(0,c.A)(this,"el",void 0),this.z=te,this.el=V.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,I.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,I.detectChanges()}),((A,M,j)=>{j.forEach(I=>A[I]=qe(M,I))})(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275dir",f.FsC({type:A,selectors:[["ion-modal"]],contentQueries:function(I,V,te){if(1&I&&f.wni(te,f.C4Q,5),2&I){let Ut;f.mGM(Ut=f.lsd())&&(V.template=Ut.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),A);return M=(0,Bt.Cg)([Vr({inputs:me,methods:oe})],M),M})();const Te=(A,M)=>((A=A.filter(j=>j.stackId!==M.stackId)).push(M),A),ht=(A,M)=>{const j=A.createUrlTree(["."],{relativeTo:M});return A.serializeUrl(j)},Dn=(A,M)=>!M||A.stackId!==M.stackId,On=(A,M)=>{if(!A)return;const j=Zr(M);for(let I=0;I<j.length;I++){if(I>=A.length)return j[I];if(j[I]!==A[I])return}},Zr=A=>A.split("/").map(M=>M.trim()).filter(M=>""!==M),pi=A=>{A&&(A.ref.destroy(),A.unlistenEvents())};class Nr{constructor(M,j,I,V,te,Ut){(0,c.A)(this,"containerEl",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"zone",void 0),(0,c.A)(this,"location",void 0),(0,c.A)(this,"views",[]),(0,c.A)(this,"runningTask",void 0),(0,c.A)(this,"skipTransition",!1),(0,c.A)(this,"tabsPrefix",void 0),(0,c.A)(this,"activeView",void 0),(0,c.A)(this,"nextId",0),this.containerEl=j,this.router=I,this.navCtrl=V,this.zone=te,this.location=Ut,this.tabsPrefix=void 0!==M?Zr(M):void 0}createView(M,j){var I;const V=ht(this.router,j),te=null==M||null===(I=M.location)||void 0===I?void 0:I.nativeElement,Ut=rr(this.zone,M.instance,te);return{id:this.nextId++,stackId:On(this.tabsPrefix,V),unlistenEvents:Ut,element:te,ref:M,url:V}}getExistingView(M){const j=ht(this.router,M),I=this.views.find(V=>V.url===j);return I&&I.ref.changeDetectorRef.reattach(),I}setActive(M){var j,I;const V=this.navCtrl.consumeTransition();let{direction:te,animation:Ut,animationBuilder:mn}=V;const Un=this.activeView,D=Dn(M,Un);D&&(te="back",Ut=void 0);const U=this.views.slice();let fe;const L=this.router;L.getCurrentNavigation?fe=L.getCurrentNavigation():null!==(j=L.navigations)&&void 0!==j&&j.value&&(fe=L.navigations.value),null!==(I=fe)&&void 0!==I&&null!==(I=I.extras)&&void 0!==I&&I.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Z=this.views.includes(M),Pe=this.insertView(M,te);Z||M.ref.changeDetectorRef.detectChanges();const bt=M.animationBuilder;return void 0===mn&&"back"===te&&!D&&void 0!==bt&&(mn=bt),Un&&(Un.animationBuilder=mn),this.zone.runOutsideAngular(()=>this.wait(()=>(Un&&Un.ref.changeDetectorRef.detach(),M.ref.changeDetectorRef.reattach(),this.transition(M,Un,Ut,this.canGoBack(1),!1,mn).then(()=>Gr(M,Pe,U,this.location,this.zone)).then(()=>({enteringView:M,direction:te,animation:Ut,tabSwitch:D})))))}canGoBack(M,j=this.getActiveStackId()){return this.getStack(j).length>M}pop(M,j=this.getActiveStackId()){return this.zone.run(()=>{const I=this.getStack(j);if(I.length<=M)return Promise.resolve(!1);const V=I[I.length-M-1];let te=V.url;const Ut=V.savedData;if(Ut){var mn;const D=Ut.get("primary");null!=D&&null!==(mn=D.route)&&void 0!==mn&&null!==(mn=mn._routerState)&&void 0!==mn&&mn.snapshot.url&&(te=D.route._routerState.snapshot.url)}const{animationBuilder:Un}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(te,{...V.savedExtras,animation:Un}).then(()=>!0)})}startBackTransition(){const M=this.activeView;if(M){const j=this.getStack(M.stackId),I=j[j.length-2],V=I.animationBuilder;return this.wait(()=>this.transition(I,M,"back",this.canGoBack(2),!0,V))}return Promise.resolve()}endBackTransition(M){M?(this.skipTransition=!0,this.pop(1)):this.activeView&&ir(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(M){const j=this.getStack(M);return j.length>0?j[j.length-1]:void 0}getRootUrl(M){const j=this.getStack(M);return j.length>0?j[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(pi),this.activeView=void 0,this.views=[]}getStack(M){return this.views.filter(j=>j.stackId===M)}insertView(M,j){return this.activeView=M,this.views=((A,M,j)=>"root"===j?Te(A,M):"forward"===j?((A,M)=>(A.indexOf(M)>=0?A=A.filter(I=>I.stackId!==M.stackId||I.id<=M.id):A.push(M),A))(A,M):((A,M)=>A.indexOf(M)>=0?A.filter(I=>I.stackId!==M.stackId||I.id<=M.id):Te(A,M))(A,M))(this.views,M,j),this.views.slice()}transition(M,j,I,V,te,Ut){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(j===M)return Promise.resolve(!1);const mn=M?M.element:void 0,Un=j?j.element:void 0,D=this.containerEl;return mn&&mn!==Un&&(mn.classList.add("ion-page"),mn.classList.add("ion-page-invisible"),D.commit)?D.commit(mn,Un,{duration:void 0===I?0:void 0,direction:I,showGoBack:V,progressAnimation:te,animationBuilder:Ut}):Promise.resolve(!1)}wait(M){var j=this;return(0,ae.A)(function*(){void 0!==j.runningTask&&(yield j.runningTask,j.runningTask=void 0);const I=j.runningTask=M();return I.finally(()=>j.runningTask=void 0),I})()}}const Gr=(A,M,j,I,V)=>"function"==typeof requestAnimationFrame?new Promise(te=>{requestAnimationFrame(()=>{ir(A,M,j,I,V),te()})}):Promise.resolve(),ir=(A,M,j,I,V)=>{V.run(()=>j.filter(te=>!M.includes(te)).forEach(pi)),M.forEach(te=>{const mn=I.path().split("?")[0].split("#")[0];if(te!==A&&te.url!==mn){const Un=te.element;Un.setAttribute("aria-hidden","true"),Un.classList.add("ion-page-hidden"),te.ref.changeDetectorRef.detach()}})};let Pn=(()=>{var A;class M{get activatedComponentRef(){return this.activated}set animation(I){this.nativeEl.animation=I}set animated(I){this.nativeEl.animated=I}set swipeGesture(I){this._swipeGesture=I,this.nativeEl.swipeHandler=I?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:V=>this.stackCtrl.endBackTransition(V)}:void 0}constructor(I,V,te,Ut,mn,Un,D,U){(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"nativeEl",void 0),(0,c.A)(this,"activatedView",null),(0,c.A)(this,"tabsPrefix",void 0),(0,c.A)(this,"_swipeGesture",void 0),(0,c.A)(this,"stackCtrl",void 0),(0,c.A)(this,"proxyMap",new WeakMap),(0,c.A)(this,"currentActivatedRoute$",new dn.t(null)),(0,c.A)(this,"activated",null),(0,c.A)(this,"_activatedRoute",null),(0,c.A)(this,"name",ye.Xk),(0,c.A)(this,"stackWillChange",new f.bkB),(0,c.A)(this,"stackDidChange",new f.bkB),(0,c.A)(this,"activateEvents",new f.bkB),(0,c.A)(this,"deactivateEvents",new f.bkB),(0,c.A)(this,"parentContexts",(0,f.WQX)(ye.Zp)),(0,c.A)(this,"location",(0,f.WQX)(f.c1b)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ)),(0,c.A)(this,"inputBinder",(0,f.WQX)(Hn,{optional:!0})),(0,c.A)(this,"supportsBindingToComponentInputs",!0),(0,c.A)(this,"config",(0,f.WQX)($r)),(0,c.A)(this,"navCtrl",(0,f.WQX)(gr)),this.parentOutlet=U,this.nativeEl=Ut.nativeElement,this.name=I||ye.Xk,this.tabsPrefix="true"===V?ht(mn,D):void 0,this.stackCtrl=new Nr(this.tabsPrefix,this.nativeEl,mn,this.navCtrl,Un,te),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var I;this.stackCtrl.destroy(),null===(I=this.inputBinder)||void 0===I||I.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const I=this.getContext();null!=I&&I.route&&this.activateWith(I.route,I.injector)}new Promise(I=>((A,M)=>{A.componentOnReady?A.componentOnReady().then(j=>M(j)):(A=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(A):"function"==typeof requestAnimationFrame?requestAnimationFrame(A):setTimeout(A)})(()=>M(A))})(this.nativeEl,I)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(I,V){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const V=this.getContext();this.activatedView.savedData=new Map(V.children.contexts);const te=this.activatedView.savedData.get("primary");if(te&&V.route&&(te.route={...V.route}),this.activatedView.savedExtras={},V.route){const Ut=V.route.snapshot;this.activatedView.savedExtras.queryParams=Ut.queryParams,this.activatedView.savedExtras.fragment=Ut.fragment}}const I=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,V){var te;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;let Ut,mn=this.stackCtrl.getExistingView(I);if(mn){Ut=this.activated=mn.ref;const U=mn.savedData;U&&(this.getContext().children.contexts=U),this.updateActivatedRouteProxy(Ut.instance,I)}else{var Un;const U=I._futureSnapshot,fe=this.parentContexts.getOrCreateContext(this.name).children,L=new dn.t(null),Z=this.createActivatedRouteProxy(L,I),Pe=new Wr(Z,fe,this.location.injector),bt=null!==(Un=U.routeConfig.component)&&void 0!==Un?Un:U.component;Ut=this.activated=this.outletContent.createComponent(bt,{index:this.outletContent.length,injector:Pe,environmentInjector:null!=V?V:this.environmentInjector}),L.next(Ut.instance),mn=this.stackCtrl.createView(this.activated,I),this.proxyMap.set(Ut.instance,Z),this.currentActivatedRoute$.next({component:Ut.instance,activatedRoute:I})}null===(te=this.inputBinder)||void 0===te||te.bindActivatedRouteToOutletComponent(this),this.activatedView=mn,this.navCtrl.setTopOutlet(this);const D=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:mn,tabSwitch:Dn(mn,D)}),this.stackCtrl.setActive(mn).then(U=>{this.activateEvents.emit(Ut.instance),this.stackDidChange.emit(U)})}canGoBack(I=1,V){return this.stackCtrl.canGoBack(I,V)}pop(I=1,V){return this.stackCtrl.pop(I,V)}getLastUrl(I){const V=this.stackCtrl.getLastUrl(I);return V?V.url:void 0}getLastRouteView(I){return this.stackCtrl.getLastUrl(I)}getRootView(I){return this.stackCtrl.getRootUrl(I)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(I,V){const te=new ye.nX;return te._futureSnapshot=V._futureSnapshot,te._routerState=V._routerState,te.snapshot=V.snapshot,te.outlet=V.outlet,te.component=V.component,te._paramMap=this.proxyObservable(I,"paramMap"),te._queryParamMap=this.proxyObservable(I,"queryParamMap"),te.url=this.proxyObservable(I,"url"),te.params=this.proxyObservable(I,"params"),te.queryParams=this.proxyObservable(I,"queryParams"),te.fragment=this.proxyObservable(I,"fragment"),te.data=this.proxyObservable(I,"data"),te}proxyObservable(I,V){return I.pipe((0,St.p)(te=>!!te),(0,Qn.n)(te=>this.currentActivatedRoute$.pipe((0,St.p)(Ut=>null!==Ut&&Ut.component===te),(0,Qn.n)(Ut=>Ut&&Ut.activatedRoute[V]),(0,sr.F)())))}updateActivatedRouteProxy(I,V){const te=this.proxyMap.get(I);if(!te)throw new Error("Could not find activated route proxy for view");te._futureSnapshot=V._futureSnapshot,te._routerState=V._routerState,te.snapshot=V.snapshot,te.outlet=V.outlet,te.component=V.component,this.currentActivatedRoute$.next({component:I,activatedRoute:V})}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.kS0("name"),f.kS0("tabs"),f.rXU(ce.aZ),f.rXU(f.aKT),f.rXU(ye.Ix),f.rXU(f.SKi),f.rXU(ye.nX),f.rXU(A,12))}),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),M})();class Wr{constructor(M,j,I){(0,c.A)(this,"route",void 0),(0,c.A)(this,"childContexts",void 0),(0,c.A)(this,"parent",void 0),this.route=M,this.childContexts=j,this.parent=I}get(M,j){return M===ye.nX?this.route:M===ye.Zp?this.childContexts:this.parent.get(M,j)}}const Hn=new f.nKC("");let Hr=(()=>{var A;class M{constructor(){(0,c.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){var V;null===(V=this.outletDataSubscriptions.get(I))||void 0===V||V.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:V}=I,te=(0,_n.z)([V.queryParams,V.params,V.data]).pipe((0,Qn.n)(([Ut,mn,Un],D)=>(Un={...Ut,...mn,...Un},0===D?(0,zn.of)(Un):Promise.resolve(Un)))).subscribe(Ut=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==V||null===V.component)return void this.unsubscribeFromRouteData(I);const mn=(0,f.HJs)(V.component);if(mn)for(const{templateName:Un}of mn.inputs)I.activatedComponentRef.setInput(Un,Ut[Un]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,te)}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)}),(0,c.A)(M,"\u0275prov",f.jDH({token:A,factory:A.\u0275fac})),M})();function ji(A){return null!=A&&A.componentInputBindingEnabled?new Hr:null}let Kn=(()=>{var A;class M{constructor(I,V,te,Ut,mn){(0,c.A)(this,"locationStrategy",void 0),(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"elementRef",void 0),(0,c.A)(this,"router",void 0),(0,c.A)(this,"routerLink",void 0),(0,c.A)(this,"routerDirection","forward"),(0,c.A)(this,"routerAnimation",void 0),this.locationStrategy=I,this.navCtrl=V,this.elementRef=te,this.router=Ut,this.routerLink=mn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const V=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(V.tagName)&&"0"===V.getAttribute("tabindex")&&V.removeAttribute("tabindex")}updateTargetUrlAndHref(){var I;if(null!==(I=this.routerLink)&&void 0!==I&&I.urlTree){const V=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=V}}onClick(I){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),I.preventDefault()}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.rXU(ce.hb),f.rXU(gr),f.rXU(f.aKT),f.rXU(ye.Ix),f.rXU(ye.Wk,8))}),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,V){1&I&&f.bIt("click",function(Ut){return V.onClick(Ut)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f.OA$]})),M})(),gt=(()=>{var A;class M{constructor(I){(0,c.A)(this,"navCtrl",void 0),(0,c.A)(this,"tabsInner",void 0),(0,c.A)(this,"ionTabsWillChange",new f.bkB),(0,c.A)(this,"ionTabsDidChange",new f.bkB),(0,c.A)(this,"tabBarSlot","bottom"),(0,c.A)(this,"hasTab",!1),(0,c.A)(this,"selectedTab",void 0),(0,c.A)(this,"leavingTab",void 0),this.navCtrl=I}ngAfterViewInit(){const I=this.tabs.length>0?this.tabs.first:void 0;I&&(this.hasTab=!0,this.setActiveTab(I.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:I,tabSwitch:V}){const te=I.stackId;V&&void 0!==te&&this.ionTabsWillChange.emit({tab:te})}onStackDidChange({enteringView:I,tabSwitch:V}){const te=I.stackId;V&&void 0!==te&&(this.tabBar&&(this.tabBar.selectedTab=te),this.ionTabsDidChange.emit({tab:te}))}select(I){const V="string"==typeof I,te=V?I:I.detail.tab;if(this.hasTab)return this.setActiveTab(te),void this.tabSwitch();const Ut=this.outlet.getActiveStackId()===te,mn=`${this.outlet.tabsPrefix}/${te}`;if(V||I.stopPropagation(),Ut){const Un=this.outlet.getActiveStackId(),D=this.outlet.getLastRouteView(Un);if((null==D?void 0:D.url)===mn)return;const U=this.outlet.getRootView(te);return this.navCtrl.navigateRoot(mn,{...U&&mn===U.url&&U.savedExtras,animated:!0,animationDirection:"back"})}{const Un=this.outlet.getLastRouteView(te);return this.navCtrl.navigateRoot((null==Un?void 0:Un.url)||mn,{...null==Un?void 0:Un.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(I){const te=this.tabs.find(Ut=>Ut.tab===I);te?(this.leavingTab=this.selectedTab,this.selectedTab=te,this.ionTabsWillChange.emit({tab:I}),te.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${I}" does not exist`)}tabSwitch(){const{selectedTab:I,leavingTab:V}=this;this.tabBar&&I&&(this.tabBar.selectedTab=I.tab),(null==V?void 0:V.tab)!==(null==I?void 0:I.tab)&&null!=V&&V.el&&(V.el.active=!1),I&&this.ionTabsDidChange.emit({tab:I.tab})}getSelected(){var I;return this.hasTab?null===(I=this.selectedTab)||void 0===I?void 0:I.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(I=>{const V=I.el.getAttribute("slot");V!==this.tabBarSlot&&(this.tabBarSlot=V,this.relocateTabBar())})}relocateTabBar(){const I=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(I):this.tabsInner.nativeElement.after(I)}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.rXU(gr))}),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["ion-tabs"]],viewQuery:function(I,V){if(1&I&&f.GBs(Xn,7,f.aKT),2&I){let te;f.mGM(te=f.lsd())&&(V.tabsInner=te.first)}},hostBindings:function(I,V){1&I&&f.bIt("ionTabButtonClick",function(Ut){return V.select(Ut)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),M})();const Gt=A=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(A):"function"==typeof requestAnimationFrame?requestAnimationFrame(A):setTimeout(A);let vn=(()=>{var A;class M{constructor(I,V){(0,c.A)(this,"injector",void 0),(0,c.A)(this,"elementRef",void 0),(0,c.A)(this,"onChange",()=>{}),(0,c.A)(this,"onTouched",()=>{}),(0,c.A)(this,"lastValue",void 0),(0,c.A)(this,"statusChanges",void 0),this.injector=I,this.elementRef=V}writeValue(I){this.elementRef.nativeElement.value=this.lastValue=I,Gn(this.elementRef)}handleValueChange(I,V){I===this.elementRef.nativeElement&&(V!==this.lastValue&&(this.lastValue=V,this.onChange(V)),Gn(this.elementRef))}_handleBlurEvent(I){I===this.elementRef.nativeElement&&(this.onTouched(),Gn(this.elementRef))}registerOnChange(I){this.onChange=I}registerOnTouched(I){this.onTouched=I}setDisabledState(I){this.elementRef.nativeElement.disabled=I}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let I;try{I=this.injector.get(he.vO)}catch{}if(!I)return;I.statusChanges&&(this.statusChanges=I.statusChanges.subscribe(()=>Gn(this.elementRef)));const V=I.control;V&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ut=>{if(typeof V[Ut]<"u"){const mn=V[Ut].bind(V);V[Ut]=(...Un)=>{mn(...Un),Gn(this.elementRef)}}})}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,c.A)(M,"\u0275dir",f.FsC({type:A,hostBindings:function(I,V){1&I&&f.bIt("ionBlur",function(Ut){return V._handleBlurEvent(Ut.target)})}})),M})();const Gn=A=>{Gt(()=>{const M=A.nativeElement,j=null!=M.value&&M.value.toString().length>0,I=fr(M);se(M,I);const V=M.closest("ion-item");V&&se(V,j?[...I,"item-has-value"]:I)})},fr=A=>{const M=A.classList,j=[];for(let I=0;I<M.length;I++){const V=M.item(I);null!==V&&Ae(V,"ng-")&&j.push(`ion-${V.substring(3)}`)}return j},se=(A,M)=>{const j=A.classList;j.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),j.add(...M)},Ae=(A,M)=>A.substring(0,M.length)===M;class ct{constructor(M){(0,c.A)(this,"ctrl",void 0),this.ctrl=M}create(M){return this.ctrl.create(M||{})}dismiss(M,j,I){return this.ctrl.dismiss(M,j,I)}getTop(){return this.ctrl.getTop()}}$(9986),$(3604),$(5022),$(3615),$(8607);var jn=$(9483),Kr=$(464),Ti=($(9568),$(9440)),gi=($(8476),$(4261));$(1970),$(7192);const Xr=jn.i,qr=function(){var A=(0,ae.A)(function*(M,j){if(!(typeof window>"u"))return yield Xr(),(0,gi.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),j)});return function(j,I){return A.apply(this,arguments)}}(),Ft=["*"],vr=["outletContent"],fs=["outlet"],Mi=[[["","slot","top"]],"*",[["ion-tab"]]],Go=["[slot=top]","*","ion-tab"];function So(A,M){if(1&A){const j=f.RV6();f.j41(0,"ion-router-outlet",5,1),f.bIt("stackWillChange",function(V){f.eBV(j);const te=f.XpG();return f.Njj(te.onStackWillChange(V))})("stackDidChange",function(V){f.eBV(j);const te=f.XpG();return f.Njj(te.onStackDidChange(V))}),f.k0s()}}function Gi(A,M){1&A&&f.SdG(0,2,["*ngIf","tabs.length > 0"])}function ko(A,M){if(1&A&&(f.j41(0,"div",1),f.eu8(1,2),f.k0s()),2&A){const j=f.XpG();f.R7$(),f.Y8G("ngTemplateOutlet",j.template)}}let rs=(()=>{var A;class M extends vn{constructor(I,V){super(I,V),(0,c.A)(this,"el",void 0),this.el=V}handleInputEvent(I){this.handleValueChange(I,I.value)}registerOnChange(I){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?V=>{I(""===V?null:parseFloat(V))}:I)}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(I,V){1&I&&f.bIt("ionInput",function(Ut){return V.handleInputEvent(Ut.target)})},features:[f.Jv_([{provide:he.kq,useExisting:A,multi:!0}]),f.Vt3]})),M})(),ps=(()=>{var A;class M extends vn{constructor(I,V){super(I,V)}_handleInputEvent(I){this.handleValueChange(I,I.value)}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(I,V){1&I&&f.bIt("ionInput",function(Ut){return V._handleInputEvent(Ut.target)})},features:[f.Jv_([{provide:he.kq,useExisting:A,multi:!0}]),f.Vt3]})),M})();const is=(A,M)=>{const j=A.prototype;M.forEach(I=>{Object.defineProperty(j,I,{get(){return this.el[I]},set(V){this.z.runOutsideAngular(()=>this.el[I]=V)},configurable:!0})})},ca=(A,M)=>{const j=A.prototype;M.forEach(I=>{j[I]=function(){const V=arguments;return this.z.runOutsideAngular(()=>this.el[I].apply(this.el,V))}})},kr=(A,M,j)=>{j.forEach(I=>A[I]=qe(M,I))};function Cn(A){return function(j){const{defineCustomElementFn:I,inputs:V,methods:te}=A;return void 0!==I&&I(),V&&is(j,V),te&&ca(j,te),j}}let ne=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-app"]],ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({methods:["setFocus"]})],M),M})(),yt=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement,kr(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],M),M})(),tn=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],M),M})(),gn=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["mode"]})],M),M})(),bn=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","mode","translucent"]})],M),M})(),Wn=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","mode"]})],M),M})(),ar=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement,kr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],M),M})(),ms=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["collapse","mode","translucent"]})],M),M})(),ui=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],M),M})(),vi=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement,kr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],M),M})(),Lo=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],M),M})(),oo=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","mode","position"]})],M),M})(),to=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],M),M})(),as=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","mode"]})],M),M})(),Bo=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["component","tab"],methods:["setActive"]})],M),M})(),Tr=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","mode","selectedTab","translucent"]})],M),M})(),li=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],M),M})(),Vi=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-thumbnail"]],ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({})],M),M})(),qi=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","size"]})],M),M})(),fa=(()=>{var A;let M=((0,c.A)(A=class{constructor(I,V,te){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=te,I.detach(),this.el=V.nativeElement}},"\u0275fac",function(I){return new(I||A)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,c.A)(A,"\u0275cmp",f.VBU({type:A,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(I,V){1&I&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),A);return M=(0,Bt.Cg)([Cn({inputs:["color","mode"]})],M),M})(),Ms=(()=>{var A;class M extends Pn{constructor(I,V,te,Ut,mn,Un,D,U){super(I,V,te,Ut,mn,Un,D,U),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=U}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)(f.kS0("name"),f.kS0("tabs"),f.rXU(ce.aZ),f.rXU(f.aKT),f.rXU(ye.Ix),f.rXU(f.SKi),f.rXU(ye.nX),f.rXU(A,12))}),(0,c.A)(M,"\u0275cmp",f.VBU({type:A,selectors:[["ion-router-outlet"]],viewQuery:function(I,V){if(1&I&&f.GBs(vr,7,f.c1b),2&I){let te;f.mGM(te=f.lsd())&&(V.outletContent=te.first)}},features:[f.Vt3],ngContentSelectors:Ft,decls:3,vars:0,consts:[["outletContent",""]],template:function(I,V){1&I&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),M})(),$o=(()=>{var A;class M extends gt{constructor(...I){super(...I),(0,c.A)(this,"outlet",void 0),(0,c.A)(this,"tabBar",void 0),(0,c.A)(this,"tabBars",void 0),(0,c.A)(this,"tabs",void 0)}}return A=M,(0,c.A)(M,"\u0275fac",(()=>{let j;return function(V){return(j||(j=f.xGo(A)))(V||A)}})()),(0,c.A)(M,"\u0275cmp",f.VBU({type:A,selectors:[["ion-tabs"]],contentQueries:function(I,V,te){if(1&I&&(f.wni(te,Tr,5),f.wni(te,Tr,4),f.wni(te,Bo,4)),2&I){let Ut;f.mGM(Ut=f.lsd())&&(V.tabBar=Ut.first),f.mGM(Ut=f.lsd())&&(V.tabBars=Ut),f.mGM(Ut=f.lsd())&&(V.tabs=Ut)}},viewQuery:function(I,V){if(1&I&&f.GBs(fs,5,Ms),2&I){let te;f.mGM(te=f.lsd())&&(V.outlet=te.first)}},features:[f.Vt3],ngContentSelectors:Go,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(I,V){1&I&&(f.NAR(Mi),f.SdG(0),f.j41(1,"div",2,0),f.DNE(3,So,2,0,"ion-router-outlet",3)(4,Gi,1,0,"ng-content",4),f.k0s(),f.SdG(5,1)),2&I&&(f.R7$(3),f.Y8G("ngIf",0===V.tabs.length),f.R7$(),f.Y8G("ngIf",V.tabs.length>0))},dependencies:[ce.bT,Ms],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})),M})(),pa=(()=>{var A;class M extends Kn{}return A=M,(0,c.A)(M,"\u0275fac",(()=>{let j;return function(V){return(j||(j=f.xGo(A)))(V||A)}})()),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],features:[f.Vt3]})),M})(),La=(()=>{var A;class M extends We{}return A=M,(0,c.A)(M,"\u0275fac",(()=>{let j;return function(V){return(j||(j=f.xGo(A)))(V||A)}})()),(0,c.A)(M,"\u0275cmp",f.VBU({type:A,selectors:[["ion-modal"]],features:[f.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(I,V){1&I&&f.DNE(0,ko,2,1,"div",0),2&I&&f.Y8G("ngIf",V.isCmpOpen||V.keepContentsMounted)},dependencies:[ce.bT,ce.T3],encapsulation:2,changeDetection:0})),M})();const nl={provide:he.cz,useExisting:(0,f.Rfq)(()=>ku),multi:!0};let ku=(()=>{var A;class M extends he.zX{}return A=M,(0,c.A)(M,"\u0275fac",(()=>{let j;return function(V){return(j||(j=f.xGo(A)))(V||A)}})()),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(I,V){2&I&&f.BMQ("max",V._enabled?V.max:null)},features:[f.Jv_([nl]),f.Vt3]})),M})();const Ps={provide:he.cz,useExisting:(0,f.Rfq)(()=>qs),multi:!0};let qs=(()=>{var A;class M extends he.VZ{}return A=M,(0,c.A)(M,"\u0275fac",(()=>{let j;return function(V){return(j||(j=f.xGo(A)))(V||A)}})()),(0,c.A)(M,"\u0275dir",f.FsC({type:A,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(I,V){2&I&&f.BMQ("min",V._enabled?V.min:null)},features:[f.Jv_([Ps]),f.Vt3]})),M})(),Ua=(()=>{var A;class M extends ct{constructor(){super(Ti.m),(0,c.A)(this,"angularDelegate",(0,f.WQX)(jr)),(0,c.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(I){return super.create({...I,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)}),(0,c.A)(M,"\u0275prov",f.jDH({token:A,factory:A.\u0275fac})),M})();class ba extends ct{constructor(){super(Ti.c),(0,c.A)(this,"angularDelegate",(0,f.WQX)(jr)),(0,c.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,c.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(M){return super.create({...M,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Do=(A,M,j)=>()=>{const I=M.defaultView;if(I&&typeof window<"u"){(0,Kr.s)({...A,_zoneGate:te=>j.run(te)});const V="__zone_symbol__addEventListener"in M.body?"__zone_symbol__addEventListener":"addEventListener";return function Di(){var A=[];if(typeof window<"u"){var M=window;(!M.customElements||M.Element&&(!M.Element.prototype.closest||!M.Element.prototype.matches||!M.Element.prototype.remove||!M.Element.prototype.getRootNode))&&A.push($.e(7278).then($.t.bind($,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||M.NodeList&&!M.NodeList.prototype.forEach||!M.fetch||!function(){try{var I=new URL("b","http://a");return I.pathname="c%20d","http://a/c%20d"===I.href&&I.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&A.push($.e(9329).then($.t.bind($,7783,23)))}return Promise.all(A)}().then(()=>qr(I,{exclude:["ion-tabs"],syncQueue:!0,raf:Gt,jmp:te=>j.runOutsideAngular(te),ael(te,Ut,mn,Un){te[V](Ut,mn,Un)},rel(te,Ut,mn,Un){te.removeEventListener(Ut,mn,Un)}}))}};let wa=(()=>{var A;class M{static forRoot(I={}){return{ngModule:M,providers:[{provide:Or,useValue:I},{provide:f.hnV,useFactory:Do,multi:!0,deps:[Or,ce.qQ,f.SKi]},jr,{provide:Hn,useFactory:ji,deps:[ye.Ix]}]}}}return A=M,(0,c.A)(M,"\u0275fac",function(I){return new(I||A)}),(0,c.A)(M,"\u0275mod",f.$C({type:A})),(0,c.A)(M,"\u0275inj",f.G2t({providers:[Ua,ba],imports:[ce.MD]})),M})()},7935:(An,ft,$)=>{"use strict";$.d(ft,{A:()=>c.A});var c=$(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},7955:(An,ft,$)=>{"use strict";var c=$(467),f=$(3345),he=$(7852),ae=$(1076),ye=$(8041),ce=$(1635),be=$(1362);const ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const lt=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},st=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new ae.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new ye.Vy("@firebase/auth");function pt(y,...h){vt.logLevel<=ye.$b.ERROR&&vt.error(`Auth (${he.SDK_VERSION}): ${y}`,...h)}function ve(y,...h){throw Rt(y,...h)}function we(y,...h){return Rt(y,...h)}function rt(y,h,g){const C=Object.assign(Object.assign({},st()),{[h]:g});return new ae.FA("auth","Firebase",C).create(h,{appName:y.name})}function ut(y){return rt(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ct(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&ve(y,"argument-error"),rt(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rt(y,...h){if("string"!=typeof y){const g=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return et.create(y,...h)}function Se(y,h,...g){if(!y)throw Rt(h,...g)}function Wt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw pt(h),new Error(h)}function Ht(y,h){y||Wt(h)}function pn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function on(){return"http:"===kn()||"https:"===kn()}function kn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ee{constructor(h,g){this.shortDelay=h,this.longDelay=g,Ht(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,ae.jZ)()||(0,ae.lV)()}get(){return function Pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,ae.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function X(y,h){Ht(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Y{static initialize(h,g,C){this.fetchImpl=h,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const De={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new Ee(3e4,6e4);function Je(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function ot(y,h,g,C){return $t.apply(this,arguments)}function $t(){return($t=(0,c.A)(function*(y,h,g,C,H={}){return Ln(y,H,(0,c.A)(function*(){let ee={},Ge={};C&&("GET"===h?Ge=C:ee={body:JSON.stringify(C)});const It=(0,ae.Am)(Object.assign({key:y.config.apiKey},Ge)).slice(1),rn=yield y._getAdditionalHeaders();rn["Content-Type"]="application/json",y.languageCode&&(rn["X-Firebase-Locale"]=y.languageCode);const xn=Object.assign({method:h,headers:rn},ee);return(0,ae.c1)()||(xn.referrerPolicy="no-referrer"),Y.fetch()(Bt(y,y.config.apiHost,g,It),xn)}))})).apply(this,arguments)}function Ln(y,h,g){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.A)(function*(y,h,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},De),h);try{const H=new Qn(y),ee=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Ge=yield ee.json();if("needConfirmation"in Ge)throw sr(y,"account-exists-with-different-credential",Ge);if(ee.ok&&!("errorMessage"in Ge))return Ge;{const It=ee.ok?Ge.errorMessage:Ge.error.message,[rn,xn]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rn)throw sr(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===rn)throw sr(y,"email-already-in-use",Ge);if("USER_DISABLED"===rn)throw sr(y,"user-disabled",Ge);const tr=C[rn]||rn.toLowerCase().replace(/[_\s]+/g,"-");if(xn)throw rt(y,tr,xn);ve(y,tr)}}catch(H){if(H instanceof ae.g)throw H;ve(y,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function _n(y,h,g,C){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.A)(function*(y,h,g,C,H={}){const ee=yield ot(y,h,g,C,H);return"mfaPendingCredential"in ee&&ve(y,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function Bt(y,h,g,C){const H=`${h}${g}?${C}`;return y.config.emulator?X(y.config,H):`${y.config.apiScheme}://${H}`}function St(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(we(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(y,h,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const H=we(y,h,C);return H.customData._tokenResponse=g,H}function Xn(y){return void 0!==y&&void 0!==y.getResponse}function Tn(y){return void 0!==y&&void 0!==y.enterprise}class Zt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return St(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Ot(){return(Ot=(0,c.A)(function*(y){return(yield ot(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function En(y,h){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,c.A)(function*(y,h){return ot(y,"GET","/v2/recaptchaConfig",Je(y,h))})).apply(this,arguments)}function mr(){return(mr=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function $n(){return($n=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function $r(y,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function dr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function di(){return(di=(0,c.A)(function*(y,h=!1){const g=(0,ae.Ku)(y),C=yield g.getIdToken(h),H=wr(C);Se(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const ee="object"==typeof H.firebase?H.firebase:void 0,Ge=null==ee?void 0:ee.sign_in_provider;return{claims:H,token:C,authTime:dr(Cr(H.auth_time)),issuedAtTime:dr(Cr(H.iat)),expirationTime:dr(Cr(H.exp)),signInProvider:Ge||null,signInSecondFactor:(null==ee?void 0:ee.sign_in_second_factor)||null}})).apply(this,arguments)}function Cr(y){return 1e3*Number(y)}function wr(y){const[h,g,C]=y.split(".");if(void 0===h||void 0===g||void 0===C)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,ae.u)(g);return H?JSON.parse(H):(pt("Failed to decode base64 JWT payload"),null)}catch(H){return pt("Caught error parsing JWT payload as JSON",null==H?void 0:H.toString()),null}}function rr(y){const h=wr(y);return Se(h,"internal-error"),Se(typeof h.exp<"u","internal-error"),Se(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function ii(y,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.A)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(C){throw C instanceof ae.g&&function eo({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}class Kt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,c.A)(function*(){yield g.iteration()}),C)}iteration(){var h=this;return(0,c.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class qn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zr(y){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.A)(function*(y){var h;const g=y.auth,C=yield y.getIdToken(),H=yield ii(y,$r(g,{idToken:C}));Se(null==H?void 0:H.users.length,g,"internal-error");const ee=H.users[0];y._notifyReloadListener(ee);const Ge=null!==(h=ee.providerUserInfo)&&void 0!==h&&h.length?me(ee.providerUserInfo):[],It=function kt(y,h){return[...y.filter(C=>!h.some(H=>H.providerId===C.providerId)),...h]}(y.providerData,Ge),tr=!!y.isAnonymous&&!(y.email&&ee.passwordHash||null!=It&&It.length),Yn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:It,metadata:new qn(ee.createdAt,ee.lastLoginAt),isAnonymous:tr};Object.assign(y,Yn)})).apply(this,arguments)}function Ne(){return(Ne=(0,c.A)(function*(y){const h=(0,ae.Ku)(y);yield zr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function me(y){return y.map(h=>{var{providerId:g}=h,C=(0,ce.Tt)(h,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function We(){return(We=(0,c.A)(function*(y,h){const g=yield Ln(y,{},(0,c.A)(function*(){const C=(0,ae.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ee}=y.config,Ge=Bt(y,H,"/v1/token",`key=${ee}`),It=yield y._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(Ge,{method:"POST",headers:It,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Te(){return(Te=(0,c.A)(function*(y,h){return ot(y,"POST","/v2/accounts:revokeToken",Je(y,h))})).apply(this,arguments)}class Ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Se(h.idToken,"internal-error"),Se(typeof h.idToken<"u","internal-error"),Se(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):rr(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Se(0!==h.length,"internal-error");const g=rr(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var C=this;return(0,c.A)(function*(){return g||!C.accessToken||C.isExpired?(Se(C.refreshToken,h,"user-token-expired"),C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null):C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var C=this;return(0,c.A)(function*(){const{accessToken:H,refreshToken:ee,expiresIn:Ge}=yield function oe(y,h){return We.apply(this,arguments)}(h,g);C.updateTokensAndExpiration(H,ee,Number(Ge))})()}updateTokensAndExpiration(h,g,C){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,g){const{refreshToken:C,accessToken:H,expirationTime:ee}=g,Ge=new Ke;return C&&(Se("string"==typeof C,"internal-error",{appName:h}),Ge.refreshToken=C),H&&(Se("string"==typeof H,"internal-error",{appName:h}),Ge.accessToken=H),ee&&(Se("number"==typeof ee,"internal-error",{appName:h}),Ge.expirationTime=ee),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ke,this.toJSON())}_performRefresh(){return Wt("not implemented")}}function xt(y,h){Se("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class ht{constructor(h){var{uid:g,auth:C,stsTokenManager:H}=h,ee=(0,ce.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new qn(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,c.A)(function*(){const C=yield ii(g,g.stsTokenManager.getToken(g.auth,h));return Se(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(h){return function jr(y){return di.apply(this,arguments)}(this,h)}reload(){return function je(y){return Ne.apply(this,arguments)}(this)}_assign(h){this!==h&&(Se(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new ht(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var C=this;return(0,c.A)(function*(){let H=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),H=!0),g&&(yield zr(C)),yield C.auth._persistUserIfCurrent(C),H&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,c.A)(function*(){if((0,he._isFirebaseServerApp)(h.auth.app))return Promise.reject(ut(h.auth));const g=yield h.getIdToken();return yield ii(h,function gr(y,h){return mr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var C,H,ee,Ge,It,rn,xn,tr;const Yn=null!==(C=g.displayName)&&void 0!==C?C:void 0,ro=null!==(H=g.email)&&void 0!==H?H:void 0,na=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,Zu=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,Iu=null!==(It=g.tenantId)&&void 0!==It?It:void 0,ra=null!==(rn=g._redirectEventId)&&void 0!==rn?rn:void 0,Tp=null!==(xn=g.createdAt)&&void 0!==xn?xn:void 0,Jh=null!==(tr=g.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:Zh,emailVerified:Dp,isAnonymous:Em,providerData:qd,stsTokenManager:Am}=g;Se(Zh&&Am,h,"internal-error");const ef=Ke.fromJSON(this.name,Am);Se("string"==typeof Zh,h,"internal-error"),xt(Yn,h.name),xt(ro,h.name),Se("boolean"==typeof Dp,h,"internal-error"),Se("boolean"==typeof Em,h,"internal-error"),xt(na,h.name),xt(Zu,h.name),xt(Iu,h.name),xt(ra,h.name),xt(Tp,h.name),xt(Jh,h.name);const $l=new ht({uid:Zh,auth:h,email:ro,emailVerified:Dp,displayName:Yn,isAnonymous:Em,photoURL:Zu,phoneNumber:na,tenantId:Iu,stsTokenManager:ef,createdAt:Tp,lastLoginAt:Jh});return qd&&Array.isArray(qd)&&($l.providerData=qd.map(Eu=>Object.assign({},Eu))),ra&&($l._redirectEventId=ra),$l}static _fromIdTokenResponse(h,g,C=!1){return(0,c.A)(function*(){const H=new Ke;H.updateFromServerResponse(g);const ee=new ht({uid:g.localId,auth:h,stsTokenManager:H,isAnonymous:C});return yield zr(ee),ee})()}static _fromGetAccountInfoResponse(h,g,C){return(0,c.A)(function*(){const H=g.users[0];Se(void 0!==H.localId,"internal-error");const ee=void 0!==H.providerUserInfo?me(H.providerUserInfo):[],Ge=!(H.email&&H.passwordHash||null!=ee&&ee.length),It=new Ke;It.updateFromIdToken(C);const rn=new ht({uid:H.localId,auth:h,stsTokenManager:It,isAnonymous:Ge}),xn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ee,metadata:new qn(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||null!=ee&&ee.length)};return Object.assign(rn,xn),rn})()}}const Dn=new Map;function On(y){Ht(y instanceof Function,"Expected a class definition");let h=Dn.get(y);return h?(Ht(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,Dn.set(y,h),h)}const pi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(g,C){var H=this;return(0,c.A)(function*(){H.storage[g]=C})()}_get(g){var C=this;return(0,c.A)(function*(){const H=C.storage[g];return void 0===H?null:H})()}_remove(g){var C=this;return(0,c.A)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function Nr(y,h,g){return`firebase:${y}:${h}:${g}`}class Gr{constructor(h,g,C){this.persistence=h,this.auth=g,this.userKey=C;const{config:H,name:ee}=this.auth;this.fullUserKey=Nr(this.userKey,H.apiKey,ee),this.fullPersistenceKey=Nr("persistence",H.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ht._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,c.A)(function*(){if(g.persistence===h)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,C="authUser"){return(0,c.A)(function*(){if(!g.length)return new Gr(On(pi),h,C);const H=(yield Promise.all(g.map(function(){var xn=(0,c.A)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return xn.apply(this,arguments)}}()))).filter(xn=>xn);let ee=H[0]||On(pi);const Ge=Nr(C,h.config.apiKey,h.name);let It=null;for(const xn of g)try{const tr=yield xn._get(Ge);if(tr){const Yn=ht._fromJSON(h,tr);xn!==ee&&(It=Yn),ee=xn;break}}catch{}const rn=H.filter(xn=>xn._shouldAllowMigration);return ee._shouldAllowMigration&&rn.length?(ee=rn[0],It&&(yield ee._set(Ge,It.toJSON())),yield Promise.all(g.map(function(){var xn=(0,c.A)(function*(tr){if(tr!==ee)try{yield tr._remove(Ge)}catch{}});return function(tr){return xn.apply(this,arguments)}}())),new Gr(ee,h,C)):new Gr(ee,h,C)})()}}function ir(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Hr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Pn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ji(h))return"Blackberry";if(pr(h))return"Webos";if(Wr(h))return"Safari";if((h.includes("chrome/")||Hn(h))&&!h.includes("edge/"))return"Chrome";if(Fn(h))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Pn(y=(0,ae.ZQ)()){return/firefox\//i.test(y)}function Wr(y=(0,ae.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Hn(y=(0,ae.ZQ)()){return/crios\//i.test(y)}function Hr(y=(0,ae.ZQ)()){return/iemobile/i.test(y)}function Fn(y=(0,ae.ZQ)()){return/android/i.test(y)}function ji(y=(0,ae.ZQ)()){return/blackberry/i.test(y)}function pr(y=(0,ae.ZQ)()){return/webos/i.test(y)}function vo(y=(0,ae.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function zt(y=(0,ae.ZQ)()){return vo(y)||Fn(y)||pr(y)||ji(y)||/windows phone/i.test(y)||Hr(y)}function yn(y,h=[]){let g;switch(y){case"Browser":g=ir((0,ae.ZQ)());break;case"Worker":g=`${ir((0,ae.ZQ)())}-${y}`;break;default:g=y}const C=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${he.SDK_VERSION}/${C}`}class gt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const C=ee=>new Promise((Ge,It)=>{try{Ge(h(ee))}catch(rn){It(rn)}});C.onAbort=g,this.queue.push(C);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,c.A)(function*(){if(g.auth.currentUser===h)return;const C=[];try{for(const H of g.queue)yield H(h),H.onAbort&&C.push(H.onAbort)}catch(H){C.reverse();for(const ee of C)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==H?void 0:H.message})}})()}}function vn(){return(vn=(0,c.A)(function*(y,h={}){return ot(y,"GET","/v2/passwordPolicy",Je(y,h))})).apply(this,arguments)}class fr{constructor(h){var g,C,H,ee;const Ge=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ge.minPasswordLength)&&void 0!==g?g:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ee=h.forceUpgradeOnSignin)&&void 0!==ee&&ee,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,C,H,ee,Ge,It;const rn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,rn),this.validatePasswordCharacterOptions(h,rn),rn.isValid&&(rn.isValid=null===(g=rn.meetsMinPasswordLength)||void 0===g||g),rn.isValid&&(rn.isValid=null===(C=rn.meetsMaxPasswordLength)||void 0===C||C),rn.isValid&&(rn.isValid=null===(H=rn.containsLowercaseLetter)||void 0===H||H),rn.isValid&&(rn.isValid=null===(ee=rn.containsUppercaseLetter)||void 0===ee||ee),rn.isValid&&(rn.isValid=null===(Ge=rn.containsNumericCharacter)||void 0===Ge||Ge),rn.isValid&&(rn.isValid=null===(It=rn.containsNonAlphanumericCharacter)||void 0===It||It),rn}validatePasswordLengthOptions(h,g){const C=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;C&&(g.meetsMinPasswordLength=h.length>=C),H&&(g.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,g){let C;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let H=0;H<h.length;H++)C=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(g,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,g,C,H,ee){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ee))}}class se{constructor(h,g,C,H){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.beforeStateQueue=new gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,g){var C=this;return g&&(this._popupRedirectResolver=On(g)),this._initializationPromise=this.queue((0,c.A)(function*(){var H,ee;if(!C._deleted&&(C.persistenceManager=yield Gr.create(C,h),!C._deleted)){if(null!==(H=C._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,c.A)(function*(){try{const C=yield $r(g,{idToken:h}),H=yield ht._fromGetAccountInfoResponse(g,C,h);yield g.directlySetCurrentUser(H)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,c.A)(function*(){var C;if((0,he._isFirebaseServerApp)(g.app)){const It=g.app.settings.authIdToken;return It?new Promise(rn=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(It).then(rn,rn))}):g.directlySetCurrentUser(null)}const H=yield g.assertedPersistence.getCurrentUser();let ee=H,Ge=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const It=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,rn=null==ee?void 0:ee._redirectEventId,xn=yield g.tryRedirectSignIn(h);(!It||It===rn)&&null!=xn&&xn.user&&(ee=xn.user,Ge=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(It){ee=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(It))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return Se(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(h){var g=this;return(0,c.A)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,c.A)(function*(){try{yield zr(h)}catch(C){if("auth/network-request-failed"!==(null==C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,c.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,c.A)(function*(){if((0,he._isFirebaseServerApp)(g.app))return Promise.reject(ut(g));const C=h?(0,ae.Ku)(h):null;return C&&Se(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(h,g=!1){var C=this;return(0,c.A)(function*(){if(!C._deleted)return h&&Se(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,c.A)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.A)(function*(){return(0,he._isFirebaseServerApp)(h.app)?Promise.reject(ut(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,he._isFirebaseServerApp)(this.app)?Promise.reject(ut(this)):this.queue((0,c.A)(function*(){yield g.assertedPersistence.setPersistence(On(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,c.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const C=g._getPasswordPolicyInternal();return C.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.A)(function*(){const g=yield function Gt(y){return vn.apply(this,arguments)}(h),C=new fr(g);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ae.FA("auth","Firebase",h())}onAuthStateChanged(h,g,C){return this.registerStateListener(this.authStateSubscription,h,g,C)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,C){return this.registerStateListener(this.idTokenSubscription,h,g,C)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,c.A)(function*(){if(g.currentUser){const C=yield g.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=g.tenantId&&(H.tenantId=g.tenantId),yield function pe(y,h){return Te.apply(this,arguments)}(g,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var C=this;return(0,c.A)(function*(){const H=yield C.getOrInitRedirectPersistenceManager(g);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,c.A)(function*(){if(!g.redirectPersistenceManager){const C=h&&On(h)||g._popupRedirectResolver;Se(C,g,"argument-error"),g.redirectPersistenceManager=yield Gr.create(g,[On(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,c.A)(function*(){var C,H;return g._isInitialized&&(yield g.queue((0,c.A)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===h?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,c.A)(function*(){if(h===g.currentUser)return g.queue((0,c.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,C,H){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g);let Ge=!1;const It=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(It,this,"internal-error"),It.then(()=>{Ge||ee(this.currentUser)}),"function"==typeof g){const rn=h.addObserver(g,C,H);return()=>{Ge=!0,rn()}}{const rn=h.addObserver(g);return()=>{Ge=!0,rn()}}}directlySetCurrentUser(h){var g=this;return(0,c.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.A)(function*(){var g;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(C["X-Firebase-Client"]=H);const ee=yield h._getAppCheckToken();return ee&&(C["X-Firebase-AppCheck"]=ee),C})()}_getAppCheckToken(){var h=this;return(0,c.A)(function*(){var g;const C=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=C&&C.error&&function dt(y,...h){vt.logLevel<=ye.$b.WARN&&vt.warn(`Auth (${he.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${C.error}`),null==C?void 0:C.token})()}}function Ae(y){return(0,ae.Ku)(y)}class Ze{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ae.tD)(g=>this.observer=g)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ct={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sn(y){return ct.loadJS(y)}function jn(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Ti{constructor(h){this.type="recaptcha-enterprise",this.auth=Ae(h)}verify(h="verify",g=!1){var C=this;return(0,c.A)(function*(){function ee(){return ee=(0,c.A)(function*(It){if(!g){if(null==It.tenantId&&null!=It._agentRecaptchaConfig)return It._agentRecaptchaConfig.siteKey;if(null!=It.tenantId&&void 0!==It._tenantRecaptchaConfigs[It.tenantId])return It._tenantRecaptchaConfigs[It.tenantId].siteKey}return new Promise(function(){var rn=(0,c.A)(function*(xn,tr){En(It,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Yn=>{if(void 0!==Yn.recaptchaKey){const ro=new Zt(Yn);return null==It.tenantId?It._agentRecaptchaConfig=ro:It._tenantRecaptchaConfigs[It.tenantId]=ro,xn(ro.siteKey)}tr(new Error("recaptcha Enterprise site key undefined"))}).catch(Yn=>{tr(Yn)})});return function(xn,tr){return rn.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Ge(It,rn,xn){const tr=window.grecaptcha;Tn(tr)?tr.enterprise.ready(()=>{tr.enterprise.execute(It,{action:h}).then(Yn=>{rn(Yn)}).catch(()=>{rn("NO_RECAPTCHA")})}):xn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((It,rn)=>{(function H(It){return ee.apply(this,arguments)})(C.auth).then(xn=>{if(!g&&Tn(window.grecaptcha))Ge(xn,It,rn);else{if(typeof window>"u")return void rn(new Error("RecaptchaVerifier is only supported in browser"));let tr=function Le(){return ct.recaptchaEnterpriseScript}();0!==tr.length&&(tr+=xn),sn(tr).then(()=>{Ge(xn,It,rn)}).catch(Yn=>{rn(Yn)})}}).catch(xn=>{rn(xn)})})})()}}function hi(y,h,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.A)(function*(y,h,g,C=!1){const H=new Ti(y);let ee;try{ee=yield H.verify(g)}catch{ee=yield H.verify(g,!0)}const Ge=Object.assign({},h);return Object.assign(Ge,C?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function ti(y,h,g,C){return Rr.apply(this,arguments)}function Rr(){return Rr=(0,c.A)(function*(y,h,g,C){var H;if(null!==(H=y._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ee=yield hi(y,h,g,"getOobCode"===g);return C(y,ee)}return C(y,h).catch(function(){var ee=(0,c.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const It=yield hi(y,h,g,"getOobCode"===g);return C(y,It)}return Promise.reject(Ge)});return function(Ge){return ee.apply(this,arguments)}}())}),Rr.apply(this,arguments)}function vr(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Mi(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class So{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Wt("not implemented")}_getIdTokenResponse(h){return Wt("not implemented")}_linkToIdToken(h,g){return Wt("not implemented")}_getReauthenticationResolver(h){return Wt("not implemented")}}function Gi(y,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:resetPassword",Je(y,h))})).apply(this,arguments)}function Fo(){return(Fo=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function rs(y,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function is(){return(is=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:update",Je(y,h))})).apply(this,arguments)}function ca(y,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithPassword",Je(y,h))})).apply(this,arguments)}function Ki(y,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:sendOobCode",Je(y,h))})).apply(this,arguments)}function Hs(){return(Hs=(0,c.A)(function*(y,h){return Ki(y,h)})).apply(this,arguments)}function os(y,h){return W.apply(this,arguments)}function W(){return(W=(0,c.A)(function*(y,h){return Ki(y,h)})).apply(this,arguments)}function ne(y,h){return Me.apply(this,arguments)}function Me(){return(Me=(0,c.A)(function*(y,h){return Ki(y,h)})).apply(this,arguments)}function tt(){return(tt=(0,c.A)(function*(y,h){return Ki(y,h)})).apply(this,arguments)}function Qt(){return(Qt=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithEmailLink",Je(y,h))})).apply(this,arguments)}function qt(){return(qt=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithEmailLink",Je(y,h))})).apply(this,arguments)}class tn extends So{constructor(h,g,C,H=null){super("password",C),this._email=h,this._password=g,this._tenantId=H}static _fromEmailAndPassword(h,g){return new tn(h,g,"password")}static _fromEmailAndCode(h,g,C=null){return new tn(h,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,c.A)(function*(){switch(g.signInMethod){case"password":return ti(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ca);case"emailLink":return function Qe(y,h){return Qt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ve(h,"internal-error")}})()}_linkToIdToken(h,g){var C=this;return(0,c.A)(function*(){switch(C.signInMethod){case"password":return ti(h,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rs);case"emailLink":return function yt(y,h){return qt.apply(this,arguments)}(h,{idToken:g,email:C._email,oobCode:C._password});default:ve(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function gn(y,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithIdp",Je(y,h))})).apply(this,arguments)}class Wn extends So{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Wn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:H}=g,ee=(0,ce.Tt)(g,["providerId","signInMethod"]);if(!C||!H)return null;const Ge=new Wn(C,H);return Ge.idToken=ee.idToken||void 0,Ge.accessToken=ee.accessToken||void 0,Ge.secret=ee.secret,Ge.nonce=ee.nonce,Ge.pendingToken=ee.pendingToken||null,Ge}_getIdTokenResponse(h){return gn(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,gn(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,gn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,ae.Am)(g)}return h}}function oi(){return(oi=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:sendVerificationCode",Je(y,h))})).apply(this,arguments)}function ar(){return(ar=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithPhoneNumber",Je(y,h))})).apply(this,arguments)}function fi(){return(fi=(0,c.A)(function*(y,h){const g=yield _n(y,"POST","/v1/accounts:signInWithPhoneNumber",Je(y,h));if(g.temporaryProof)throw sr(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const xr={USER_NOT_FOUND:"user-not-found"};function ao(){return(ao=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithPhoneNumber",Je(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),xr)})).apply(this,arguments)}class Ci extends So{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Ci({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Ci({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function wi(y,h){return ar.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function mi(y,h){return fi.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function _o(y,h){return ao.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:C,verificationCode:H}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:C,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ee}=h;return C||g||H||ee?new Ci({verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ee}):null}}class ui{constructor(h){var g,C,H,ee,Ge,It;const rn=(0,ae.I9)((0,ae.hp)(h)),xn=null!==(g=rn.apiKey)&&void 0!==g?g:null,tr=null!==(C=rn.oobCode)&&void 0!==C?C:null,Yn=function ws(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=rn.mode)&&void 0!==H?H:null);Se(xn&&tr&&Yn,"argument-error"),this.apiKey=xn,this.operation=Yn,this.code=tr,this.continueUrl=null!==(ee=rn.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Ge=rn.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(It=rn.tenantId)&&void 0!==It?It:null}static parseLink(h){const g=function ms(y){const h=(0,ae.I9)((0,ae.hp)(y)).link,g=h?(0,ae.I9)((0,ae.hp)(h)).deep_link_id:null,C=(0,ae.I9)((0,ae.hp)(y)).deep_link_id;return(C?(0,ae.I9)((0,ae.hp)(C)).link:null)||C||g||h||y}(h);try{return new ui(g)}catch{return null}}}let Ro=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return tn._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const H=ui.parseLink(C);return Se(H,"argument-error"),tn._fromEmailAndCode(g,H.code,H.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class si{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class vi extends si{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Mo extends vi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Se("providerId"in g&&"signInMethod"in g,"argument-error"),Wn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Se(h.idToken||h.accessToken,"argument-error"),Wn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Mo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Mo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:H,pendingToken:ee,nonce:Ge,providerId:It}=h;if(!C&&!H&&!g&&!ee||!It)return null;try{return new Mo(It)._credential({idToken:g,accessToken:C,nonce:Ge,pendingToken:ee})}catch{return null}}}let Lo=(()=>{class y extends vi{constructor(){super("facebook.com")}static credential(g){return Wn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),da=(()=>{class y extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Wn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:H}=g;if(!C&&!H)return null;try{return y.credential(C,H)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),zs=(()=>{class y extends vi{constructor(){super("github.com")}static credential(g){return Wn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class yr extends So{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return gn(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,gn(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,gn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:H,pendingToken:ee}=g;return C&&H&&ee&&C===H?new yr(C,ee):null}static _create(h,g){return new yr(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oo extends si{constructor(h){Se(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return oo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return oo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=yr.fromJSON(h);return Se(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:C}=h;if(!g||!C)return null;try{return yr._create(C,g)}catch{return null}}}let to=(()=>{class y extends vi{constructor(){super("twitter.com")}static credential(g,C){return Wn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:H}=g;if(!C||!H)return null;try{return y.credential(C,H)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Wo(y,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signUp",Je(y,h))})).apply(this,arguments)}class Pi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,C,H=!1){return(0,c.A)(function*(){const ee=yield ht._fromIdTokenResponse(h,C,H),Ge=To(C);return new Pi({user:ee,providerId:Ge,_tokenResponse:C,operationType:g})})()}static _forOperation(h,g,C){return(0,c.A)(function*(){yield h._updateTokensIfNecessary(C,!0);const H=To(C);return new Pi({user:h,providerId:H,_tokenResponse:C,operationType:g})})()}}function To(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ss(){return(Ss=(0,c.A)(function*(y){var h;if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const g=Ae(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Pi({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Wo(g,{returnSecureToken:!0}),H=yield Pi._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class as extends ae.g{constructor(h,g,C,H){var ee;super(g.code,g.message),this.operationType=C,this.user=H,Object.setPrototypeOf(this,as.prototype),this.customData={appName:h.name,tenantId:null!==(ee=h.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,g,C,H){return new as(h,g,C,H)}}function Ko(y,h,g,C){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?as._fromErrorAndOperation(y,ee,h,C):ee})}function vs(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Gs(){return Gs=(0,c.A)(function*(y,h){const g=(0,ae.Ku)(y);yield Ws(!0,g,h);const{providerUserInfo:C}=yield function Mn(y,h){return $n.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),H=vs(C||[]);return g.providerData=g.providerData.filter(ee=>H.has(ee.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Gs.apply(this,arguments)}function ai(y,h){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.A)(function*(y,h,g=!1){const C=yield ii(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return Pi._forOperation(y,"link",C)})).apply(this,arguments)}function Ws(y,h,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.A)(function*(y,h,g){yield zr(h);const H=!1===y?"provider-already-linked":"no-such-provider";Se(vs(h.providerData).has(g)===y,h.auth,H)})).apply(this,arguments)}function Uo(y,h){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.A)(function*(y,h,g=!1){const{auth:C}=y;if((0,he._isFirebaseServerApp)(C.app))return Promise.reject(ut(C));const H="reauthenticate";try{const ee=yield ii(y,Ko(C,H,h,y),g);Se(ee.idToken,C,"internal-error");const Ge=wr(ee.idToken);Se(Ge,C,"internal-error");const{sub:It}=Ge;return Se(y.uid===It,C,"user-mismatch"),Pi._forOperation(y,H,ee)}catch(ee){throw"auth/user-not-found"===(null==ee?void 0:ee.code)&&ve(C,"user-mismatch"),ee}})).apply(this,arguments)}function el(y,h){return z.apply(this,arguments)}function z(){return(z=(0,c.A)(function*(y,h,g=!1){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const C="signIn",H=yield Ko(y,C,h),ee=yield Pi._fromIdTokenResponse(y,C,H);return g||(yield y._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function N(y,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.A)(function*(y,h){return el(Ae(y),h)})).apply(this,arguments)}function B(y,h){return de.apply(this,arguments)}function de(){return(de=(0,c.A)(function*(y,h){const g=(0,ae.Ku)(y);return yield Ws(!1,g,h.providerId),ai(g,h)})).apply(this,arguments)}function Xt(y,h){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.A)(function*(y,h){return Uo((0,ae.Ku)(y),h)})).apply(this,arguments)}function $i(){return($i=(0,c.A)(function*(y,h){return _n(y,"POST","/v1/accounts:signInWithCustomToken",Je(y,h))})).apply(this,arguments)}function ls(){return ls=(0,c.A)(function*(y,h){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const g=Ae(y),C=yield function Si(y,h){return $i.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),H=yield Pi._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(H.user),H}),ls.apply(this,arguments)}class Bo{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Tr._fromServerResponse(h,g):"totpInfo"in g?li._fromServerResponse(h,g):ve(h,"internal-error")}}class Tr extends Bo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Tr(g)}}class li extends Bo{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new li(g)}}function qo(y,h,g){var C;Se((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Se(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Se(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Se(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Fr(y){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.A)(function*(y){const h=Ae(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Po(){return(Po=(0,c.A)(function*(y,h,g){const C=Ae(y),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&qo(C,H,g),yield ti(C,H,"getOobCode",os)})).apply(this,arguments)}function fa(){return fa=(0,c.A)(function*(y,h,g){yield Gi((0,ae.Ku)(y),{oobCode:h,newPassword:g}).catch(function(){var C=(0,c.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Fr(y),H});return function(H){return C.apply(this,arguments)}}())}),fa.apply(this,arguments)}function $o(){return $o=(0,c.A)(function*(y,h){yield function ps(y,h){return is.apply(this,arguments)}((0,ae.Ku)(y),{oobCode:h})}),$o.apply(this,arguments)}function Fa(y,h){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,c.A)(function*(y,h){const g=(0,ae.Ku)(y),C=yield Gi(g,{oobCode:h}),H=C.requestType;switch(Se(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(C.mfaInfo,g,"internal-error");default:Se(C.email,g,"internal-error")}let ee=null;return C.mfaInfo&&(ee=Bo._fromServerResponse(Ae(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:H}})).apply(this,arguments)}function bl(){return(bl=(0,c.A)(function*(y,h){const{data:g}=yield Fa((0,ae.Ku)(y),h);return g.email})).apply(this,arguments)}function tl(){return(tl=(0,c.A)(function*(y,h,g){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const C=Ae(y),Ge=yield ti(C,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wo).catch(rn=>{throw"auth/password-does-not-meet-requirements"===rn.code&&Fr(y),rn}),It=yield Pi._fromIdTokenResponse(C,"signIn",Ge);return yield C._updateCurrentUser(It.user),It})).apply(this,arguments)}function Ps(){return(Ps=(0,c.A)(function*(y,h,g){const C=Ae(y),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ee(Ge,It){Se(It.handleCodeInApp,C,"argument-error"),It&&qo(C,Ge,It)})(H,g),yield ti(C,H,"getOobCode",ne)})).apply(this,arguments)}function ga(){return(ga=(0,c.A)(function*(y,h,g){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const C=(0,ae.Ku)(y),H=Ro.credentialWithLink(h,g||pn());return Se(H._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),N(C,H)})).apply(this,arguments)}function Ns(){return(Ns=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:createAuthUri",Je(y,h))})).apply(this,arguments)}function jo(){return jo=(0,c.A)(function*(y,h){const C={identifier:h,continueUri:on()?pn():"http://localhost"},{signinMethods:H}=yield function Va(y,h){return Ns.apply(this,arguments)}((0,ae.Ku)(y),C);return H||[]}),jo.apply(this,arguments)}function ma(){return ma=(0,c.A)(function*(y,h){const g=(0,ae.Ku)(y),H={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&qo(g.auth,H,h);const{email:ee}=yield function gs(y,h){return Hs.apply(this,arguments)}(g.auth,H);ee!==y.email&&(yield y.reload())}),ma.apply(this,arguments)}function Qs(){return Qs=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&qo(C.auth,ee,g);const{email:Ge}=yield function Fe(y,h){return tt.apply(this,arguments)}(C.auth,ee);Ge!==y.email&&(yield y.reload())}),Qs.apply(this,arguments)}function Ni(){return(Ni=(0,c.A)(function*(y,h){return ot(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function wa(){return wa=(0,c.A)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const C=(0,ae.Ku)(y),ee={idToken:yield C.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ge=yield ii(C,function Do(y,h){return Ni.apply(this,arguments)}(C.auth,ee));C.displayName=Ge.displayName||null,C.photoURL=Ge.photoUrl||null;const It=C.providerData.find(({providerId:rn})=>"password"===rn);It&&(It.displayName=C.displayName,It.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ge)}),wa.apply(this,arguments)}function j(y,h,g){return I.apply(this,arguments)}function I(){return I=(0,c.A)(function*(y,h,g){const{auth:C}=y,ee={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ee.email=h),g&&(ee.password=g);const Ge=yield ii(y,function Mr(y,h){return Fo.apply(this,arguments)}(C,ee));yield y._updateTokensIfNecessary(Ge,!0)}),I.apply(this,arguments)}class te{constructor(h,g,C={}){this.isNewUser=h,this.providerId=g,this.profile=C}}class Ut extends te{constructor(h,g,C,H){super(h,g,C),this.username=H}}class mn extends te{constructor(h,g){super(h,"facebook.com",g)}}class Un extends Ut{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class D extends te{constructor(h,g){super(h,"google.com",g)}}class U extends Ut{constructor(h,g,C){super(h,"twitter.com",g,C)}}function fe(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function V(y){var h,g;if(!y)return null;const{providerId:C}=y,H=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ee=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&null!=y&&y.idToken){const Ge=null===(g=null===(h=wr(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new te(ee,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!C)return null;switch(C){case"facebook.com":return new mn(ee,H);case"github.com":return new Un(ee,H);case"google.com":return new D(ee,H);case"twitter.com":return new U(ee,H,y.screenName||null);case"custom":case"anonymous":return new te(ee,null);default:return new te(ee,C,H)}}(g)}class Qr{constructor(h,g,C){this.type=h,this.credential=g,this.user=C}static _fromIdtoken(h,g){return new Qr("enroll",h,g)}static _fromMfaPendingCredential(h){return new Qr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,C;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Qr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(C=h.multiFactorSession)&&void 0!==C&&C.idToken)return Qr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class hn{constructor(h,g,C){this.session=h,this.hints=g,this.signInResolver=C}static _fromError(h,g){const C=Ae(h),H=g.customData._serverResponse,ee=(H.mfaInfo||[]).map(It=>Bo._fromServerResponse(C,It));Se(H.mfaPendingCredential,C,"internal-error");const Ge=Qr._fromMfaPendingCredential(H.mfaPendingCredential);return new hn(Ge,ee,function(){var It=(0,c.A)(function*(rn){const xn=yield rn._process(C,Ge);delete H.mfaInfo,delete H.mfaPendingCredential;const tr=Object.assign(Object.assign({},H),{idToken:xn.idToken,refreshToken:xn.refreshToken});switch(g.operationType){case"signIn":const Yn=yield Pi._fromIdTokenResponse(C,g.operationType,tr);return yield C._updateCurrentUser(Yn.user),Yn;case"reauthenticate":return Se(g.user,C,"internal-error"),Pi._forOperation(g.user,g.operationType,tr);default:ve(C,"internal-error")}});return function(rn){return It.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,c.A)(function*(){return g.signInResolver(h)})()}}class yi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Bo._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new yi(h)}getSession(){var h=this;return(0,c.A)(function*(){return Qr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var C=this;return(0,c.A)(function*(){const H=h,ee=yield C.getSession(),Ge=yield ii(C.user,H._process(C.user.auth,ee,g));return yield C.user._updateTokensIfNecessary(Ge),C.user.reload()})()}unenroll(h){var g=this;return(0,c.A)(function*(){const C="string"==typeof h?h:h.uid,H=yield g.user.getIdToken();try{const ee=yield ii(g.user,function Ys(y,h){return ot(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Je(y,h))}(g.user.auth,{idToken:H,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ge})=>Ge!==C),yield g.user._updateTokensIfNecessary(ee),yield g.user.reload()}catch(ee){throw ee}})()}}const Ji=new WeakMap,Ir="__sak";class Ba{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ir,"1"),this.storage.removeItem(Ir),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const bi=(()=>{class y extends Ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const H=this.storage.getItem(C),ee=this.localCache[C];H!==ee&&g(C,ee,H)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((It,rn,xn)=>{this.notifyListeners(It,xn)});const H=g.key;C?this.detachListener():this.stopPolling();const ee=()=>{const It=this.storage.getItem(H);!C&&this.localCache[H]===It||this.notifyListeners(H,It)},Ge=this.storage.getItem(H);!function it(){return(0,ae.lT)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ee of Array.from(H))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var H=()=>super._set,ee=this;return(0,c.A)(function*(){yield H().call(ee,g,C),ee.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,H=this;return(0,c.A)(function*(){const ee=yield C().call(H,g);return H.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var C=()=>super._remove,H=this;return(0,c.A)(function*(){yield C().call(H,g),delete H.localCache[g]})()}}return y.type="LOCAL",y})(),Io=(()=>{class y extends Ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let Fu=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ee=>ee.isListeningto(g));if(C)return C;const H=new y(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,c.A)(function*(){const H=g,{eventId:ee,eventType:Ge,data:It}=H.data,rn=C.handlersMap[Ge];if(null==rn||!rn.size)return;H.ports[0].postMessage({status:"ack",eventId:ee,eventType:Ge});const xn=Array.from(rn).map(function(){var Yn=(0,c.A)(function*(ro){return ro(H.origin,It)});return function(ro){return Yn.apply(this,arguments)}}()),tr=yield function $a(y){return Promise.all(y.map(function(){var h=(0,c.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return h.apply(this,arguments)}}()))}(xn);H.ports[0].postMessage({status:"done",eventId:ee,eventType:Ge,response:tr})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function zo(y="",h=10){let g="";for(let C=0;C<h;C++)g+=Math.floor(10*Math.random());return y+g}class Zl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,C=50){var H=this;return(0,c.A)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Ge,It;return new Promise((rn,xn)=>{const tr=zo("",20);ee.port1.start();const Yn=setTimeout(()=>{xn(new Error("unsupported_event"))},C);It={messageChannel:ee,onMessage(ro){const na=ro;if(na.data.eventId===tr)switch(na.data.status){case"ack":clearTimeout(Yn),Ge=setTimeout(()=>{xn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),rn(na.data.response);break;default:clearTimeout(Yn),clearTimeout(Ge),xn(new Error("invalid_response"))}}},H.handlers.add(It),ee.port1.addEventListener("message",It.onMessage),H.target.postMessage({eventType:h,eventId:tr,data:g},[ee.port2])}).finally(()=>{It&&H.removeMessageHandler(It)})})()}}function Ri(){return window}function _s(){return typeof Ri().WorkerGlobalScope<"u"&&"function"==typeof Ri().importScripts}function xs(){return(xs=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const no="firebaseLocalStorageDb",Zi="firebaseLocalStorage",wo="fbase_key";class ja{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function va(y,h){return y.transaction([Zi],h?"readwrite":"readonly").objectStore(Zi)}function Lr(){const y=indexedDB.open(no,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Zi,{keyPath:wo})}catch(H){g(H)}}),y.addEventListener("success",(0,c.A)(function*(){const C=y.result;C.objectStoreNames.contains(Zi)?h(C):(C.close(),yield function so(){const y=indexedDB.deleteDatabase(no);return new ja(y).toPromise()}(),h(yield Lr()))}))})}function ol(y,h,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.A)(function*(y,h,g){const C=va(y,!0).put({[wo]:h,value:g});return new ja(C).toPromise()})).apply(this,arguments)}function Rl(){return(Rl=(0,c.A)(function*(y,h){const g=va(y,!1).get(h),C=yield new ja(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Cd(y,h){const g=va(y,!0).delete(h);return new ja(g).toPromise()}const Ha=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.A)(function*(){return g.db||(g.db=yield Lr()),g.db})()}_withRetries(g){var C=this;return(0,c.A)(function*(){let H=0;for(;;)try{const ee=yield C._openDb();return yield g(ee)}catch(ee){if(H++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.A)(function*(){return _s()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.A)(function*(){g.receiver=Fu._getInstance(function Js(){return _s()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,c.A)(function*(H,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(H,ee){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,c.A)(function*(H,ee){return["keyChanged"]});return function(H,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.A)(function*(){var C,H;if(g.activeServiceWorker=yield function eu(){return xs.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Zl(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);ee&&null!==(C=ee[0])&&void 0!==C&&C.fulfilled&&null!==(H=ee[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,c.A)(function*(){if(C.sender&&C.activeServiceWorker&&function Lu(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const g=yield Lr();return yield ol(g,Ir,"1"),yield Cd(g,Ir),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,c.A)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var H=this;return(0,c.A)(function*(){return H._withPendingWrite((0,c.A)(function*(){return yield H._withRetries(ee=>ol(ee,g,C)),H.localCache[g]=C,H.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,c.A)(function*(){const H=yield C._withRetries(ee=>function ru(y,h){return Rl.apply(this,arguments)}(ee,g));return C.localCache[g]=H,H})()}_remove(g){var C=this;return(0,c.A)(function*(){return C._withPendingWrite((0,c.A)(function*(){return yield C._withRetries(H=>Cd(H,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.A)(function*(){const C=yield g._withRetries(Ge=>{const It=va(Ge,!1).getAll();return new ja(It).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const H=[],ee=new Set;if(0!==C.length)for(const{fbase_key:Ge,value:It}of C)ee.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(It)&&(g.notifyListeners(Ge,It),H.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!ee.has(Ge)&&(g.notifyListeners(Ge,null),H.push(Ge));return H})()}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ee of Array.from(H))ee(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),O=1e12;class ie{constructor(h){this.auth=h,this.counter=O,this._widgets=new Map}render(h,g){const C=this.counter;return this._widgets.set(C,new le(h,this.auth.name,g||{})),this.counter++,C}reset(h){var g;const C=h||O;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(h){var g;return(null===(g=this._widgets.get(h||O))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,c.A)(function*(){var C;return null===(C=g._widgets.get(h||O))||void 0===C||C.execute(),""})()}}class le{constructor(h,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;Se(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _t(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nn=jn("rcb"),At=new Ee(3e4,6e4);class Nn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ri().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Se(function Dr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Xn(Ri().grecaptcha)?Promise.resolve(Ri().grecaptcha):new Promise((C,H)=>{const ee=Ri().setTimeout(()=>{H(we(h,"network-request-failed"))},At.get());Ri()[nn]=()=>{Ri().clearTimeout(ee),delete Ri()[nn];const It=Ri().grecaptcha;if(!It||!Xn(It))return void H(we(h,"internal-error"));const rn=It.render;It.render=(xn,tr)=>{const Yn=rn(xn,tr);return this.counter++,Yn},this.hostLanguage=g,C(It)},sn(`${function wn(){return ct.recaptchaV2Script}()}?${(0,ae.Am)({onload:nn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ee),H(we(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Ri().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ii{load(h){return(0,c.A)(function*(){return new ie(h)})()}clearedOneInstance(){}}const Er="recaptcha",co={theme:"light",type:"image"};class us{constructor(h,g,C=Object.assign({},co)){this.parameters=C,this.type=Er,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(h),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;Se(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ii:new Nn,this.validateStartingState()}verify(){var h=this;return(0,c.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ee=>{const Ge=It=>{It&&(h.tokenChangeListeners.delete(Ge),ee(It))};h.tokenChangeListeners.add(Ge),h.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof h)h(g);else if("string"==typeof h){const C=Ri()[h];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.A)(function*(){Se(on()&&!_s(),h.auth,"internal-error"),yield function Ei(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Nt(y){return Ot.apply(this,arguments)}(h.auth);Se(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zs{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Ci._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function sl(){return(sl=(0,c.A)(function*(y,h,g){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const C=Ae(y),H=yield Ml(C,h,(0,ae.Ku)(g));return new Zs(H,ee=>N(C,ee))})).apply(this,arguments)}function Yo(){return(Yo=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y);yield Ws(!1,C,"phone");const H=yield Ml(C.auth,h,(0,ae.Ku)(g));return new Zs(H,ee=>B(C,ee))})).apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y);if((0,he._isFirebaseServerApp)(C.auth.app))return Promise.reject(ut(C.auth));const H=yield Ml(C.auth,h,(0,ae.Ku)(g));return new Zs(H,ee=>Xt(C,ee))})).apply(this,arguments)}function Ml(y,h,g){return Td.apply(this,arguments)}function Td(){return Td=(0,c.A)(function*(y,h,g){var C;const H=yield g.verify();try{let ee;if(Se("string"==typeof H,y,"argument-error"),Se(g.type===Er,y,"argument-error"),ee="string"==typeof h?{phoneNumber:h}:h,"session"in ee){const Ge=ee.session;if("phoneNumber"in ee)return Se("enroll"===Ge.type,y,"internal-error"),(yield function Qi(y,h){return ot(y,"POST","/v2/accounts/mfaEnrollment:start",Je(y,h))}(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Se("signin"===Ge.type,y,"internal-error");const It=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return Se(It,y,"missing-multi-factor-info"),(yield function Dc(y,h){return ot(y,"POST","/v2/accounts/mfaSignIn:start",Je(y,h))}(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function Pr(y,h){return oi.apply(this,arguments)}(y,{phoneNumber:ee.phoneNumber,recaptchaToken:H});return Ge}}finally{g._reset()}}),Td.apply(this,arguments)}function wc(){return(wc=(0,c.A)(function*(y,h){const g=(0,ae.Ku)(y);if((0,he._isFirebaseServerApp)(g.auth.app))return Promise.reject(ut(g.auth));yield ai(g,h)})).apply(this,arguments)}let Vu=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ae(g)}verifyPhoneNumber(g,C){return Ml(this.auth,g,(0,ae.Ku)(C))}static credential(g,C){return Ci._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:H}=g;return C&&H?Ci._fromTokenResponse(C,H):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ci(y,h){return h?On(h):(Se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ul extends So{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return gn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return gn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return gn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function iu(y){return el(y.auth,new ul(y),y.bypassAuthState)}function ys(y){const{auth:h,user:g}=y;return Se(g,h,"internal-error"),Uo(g,new ul(y),y.bypassAuthState)}function ap(y){return za.apply(this,arguments)}function za(){return(za=(0,c.A)(function*(y){const{auth:h,user:g}=y;return Se(g,h,"internal-error"),ai(g,new ul(y),y.bypassAuthState)})).apply(this,arguments)}class cl{constructor(h,g,C,H,ee=!1){this.auth=h,this.resolver=C,this.user=H,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,c.A)(function*(C,H){h.pendingPromise={resolve:C,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ee){h.reject(ee)}});return function(C,H){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,c.A)(function*(){const{urlResponse:C,sessionId:H,postBody:ee,tenantId:Ge,error:It,type:rn}=h;if(It)return void g.reject(It);const xn={auth:g.auth,requestUri:C,sessionId:H,tenantId:Ge||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(rn)(xn))}catch(tr){g.reject(tr)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return iu;case"linkViaPopup":case"linkViaRedirect":return ap;case"reauthViaPopup":case"reauthViaRedirect":return ys;default:ve(this.auth,"internal-error")}}resolve(h){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Os=new Ee(2e3,1e4);function Uu(){return(Uu=(0,c.A)(function*(y,h,g){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(we(y,"operation-not-supported-in-this-environment"));const C=Ae(y);Ct(y,h,si);const H=ci(C,g);return new dl(C,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function ks(){return(ks=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y);if((0,he._isFirebaseServerApp)(C.auth.app))return Promise.reject(we(C.auth,"operation-not-supported-in-this-environment"));Ct(C.auth,h,si);const H=ci(C.auth,g);return new dl(C.auth,"reauthViaPopup",h,H,C).executeNotNull()})).apply(this,arguments)}function Ra(){return(Ra=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y);Ct(C.auth,h,si);const H=ci(C.auth,g);return new dl(C.auth,"linkViaPopup",h,H,C).executeNotNull()})).apply(this,arguments)}let dl=(()=>{class y extends cl{constructor(g,C,H,ee,Ge){super(g,C,ee,Ge),this.provider=H,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.A)(function*(){const C=yield g.execute();return Se(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,c.A)(function*(){Ht(1===g.filter.length,"Popup operations only handle one event");const C=zo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,H;this.pollId=null!==(H=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Os.get())};g()}}return y.currentPopupAction=null,y})();const Sc="pendingRedirect",ou=new Map;class Rc extends cl{constructor(h,g,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,c.A)(function*(){let C=ou.get(g.auth._key());if(!C){try{const ee=(yield function _a(y,h){return Bu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;C=()=>Promise.resolve(ee)}catch(H){C=()=>Promise.reject(H)}ou.set(g.auth._key(),C)}return g.bypassAuthState||ou.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,C=this;return(0,c.A)(function*(){if("signInViaRedirect"===h.type)return g().call(C,h);if("unknown"!==h.type){if(h.eventId){const H=yield C.auth._redirectUserForId(h.eventId);if(H)return C.user=H,g().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Bu(){return(Bu=(0,c.A)(function*(y,h){const g=au(h),C=hl(y);if(!(yield C._isAvailable()))return!1;const H="true"===(yield C._get(g));return yield C._remove(g),H})).apply(this,arguments)}function Ma(y,h){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(y,h){return hl(y)._set(au(h),"true")})).apply(this,arguments)}function Pa(y,h){ou.set(y._key(),h)}function hl(y){return On(y._redirectPersistence)}function au(y){return Nr(Sc,y.config.apiKey,y.name)}function Mc(y,h,g){return function up(y,h,g){return Pc.apply(this,arguments)}(y,h,g)}function Pc(){return(Pc=(0,c.A)(function*(y,h,g){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const C=Ae(y);Ct(y,h,si),yield C._initializationPromise;const H=ci(C,g);return yield Ma(H,C),H._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function Dd(y,h,g){return function Pl(y,h,g){return bd.apply(this,arguments)}(y,h,g)}function bd(){return(bd=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y);if(Ct(C.auth,h,si),(0,he._isFirebaseServerApp)(C.auth.app))return Promise.reject(ut(C.auth));yield C.auth._initializationPromise;const H=ci(C.auth,g);yield Ma(H,C.auth);const ee=yield Rh(C);return H._openRedirect(C.auth,h,"reauthViaRedirect",ee)})).apply(this,arguments)}function dm(y,h,g){return function cp(y,h,g){return wd.apply(this,arguments)}(y,h,g)}function wd(){return(wd=(0,c.A)(function*(y,h,g){const C=(0,ae.Ku)(y);Ct(C.auth,h,si),yield C.auth._initializationPromise;const H=ci(C.auth,g);yield Ws(!1,C,h.providerId),yield Ma(H,C.auth);const ee=yield Rh(C);return H._openRedirect(C.auth,h,"linkViaRedirect",ee)})).apply(this,arguments)}function Yt(){return(Yt=(0,c.A)(function*(y,h){return yield Ae(y)._initializationPromise,ei(y,h,!1)})).apply(this,arguments)}function ei(y,h){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.A)(function*(y,h,g=!1){if((0,he._isFirebaseServerApp)(y.app))return Promise.reject(ut(y));const C=Ae(y),H=ci(C,h),Ge=yield new Rc(C,H,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield C._persistUserIfCurrent(Ge.user),yield C._setRedirectUser(null,h)),Ge})).apply(this,arguments)}function Rh(y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.A)(function*(y){const h=zo(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class $u{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(g=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function fl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nl(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var C;if(h.error&&!Nl(h)){const H=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(we(this.auth,H))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const C=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ya(h))}saveEventToCache(h){this.cachedEventUids.add(ya(h)),this.lastProcessedEventTime=Date.now()}}function ya(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Nl({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Wa(y){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,c.A)(function*(y,h={}){return ot(y,"GET","/v1/projects",h)})).apply(this,arguments)}const hm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ph=/^https?/;function ju(){return(ju=(0,c.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Wa(y);for(const g of h)try{if(Jo(g))return}catch{}ve(y,"unauthorized-domain")})).apply(this,arguments)}function Jo(y){const h=pn(),{protocol:g,hostname:C}=new URL(h);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===C}if(!Ph.test(g))return!1;if(hm.test(y))return C===y;const H=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(C)}const Ka=new Ee(3e4,6e4);function Nc(){const y=Ri().___jsl;if(null!=y&&y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let ta=null;const fp=new Ee(5e3,15e3),Nh="__/auth/iframe",Md="emulator/auth/iframe",xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xl(y){const h=y.config;Se(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?X(h,Md):`https://${y.config.authDomain}/${Nh}`,C={apiKey:h.apiKey,appName:y.name,v:he.SDK_VERSION},H=Pd.get(y.config.apiHost);H&&(C.eid=H);const ee=y._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${g}?${(0,ae.Am)(C).slice(1)}`}function kl(){return kl=(0,c.A)(function*(y){const h=yield function Rd(y){return ta=ta||function ea(y){return new Promise((h,g)=>{var C,H,ee;function Ge(){Nc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Nc(),g(we(y,"network-request-failed"))},timeout:Ka.get()})}if(null!==(H=null===(C=Ri().gapi)||void 0===C?void 0:C.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ee=Ri().gapi)||void 0===ee||!ee.load){const It=jn("iframefcb");return Ri()[It]=()=>{gapi.load?Ge():g(we(y,"network-request-failed"))},sn(`${function ur(){return ct.gapiScript}()}?onload=${It}`).catch(rn=>g(rn))}Ge()}}).catch(h=>{throw ta=null,h})}(y),ta}(y),g=Ri().gapi;return Se(g,y,"internal-error"),h.open({where:document.body,url:xl(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},C=>new Promise(function(){var H=(0,c.A)(function*(ee,Ge){yield C.restyle({setHideOnLeave:!1});const It=we(y,"network-request-failed"),rn=Ri().setTimeout(()=>{Ge(It)},fp.get());function xn(){Ri().clearTimeout(rn),ee(C)}C.ping(xn).then(xn,()=>{Ge(It)})});return function(ee,Ge){return H.apply(this,arguments)}}()))}),kl.apply(this,arguments)}const Oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hu{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bo="__/auth/handler",Ll="emulator/auth/handler",ki=encodeURIComponent("fac");function Fh(y,h,g,C,H,ee){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,c.A)(function*(y,h,g,C,H,ee){Se(y.config.authDomain,y,"auth-domain-config-required"),Se(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:he.SDK_VERSION,eventId:H};if(h instanceof si){h.setDefaultLanguage(y.languageCode),Ge.providerId=h.providerId||"",(0,ae.Im)(h.getCustomParameters())||(Ge.customParameters=JSON.stringify(h.getCustomParameters()));for(const[tr,Yn]of Object.entries(ee||{}))Ge[tr]=Yn}if(h instanceof vi){const tr=h.getScopes().filter(Yn=>""!==Yn);tr.length>0&&(Ge.scopes=tr.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const It=Ge;for(const tr of Object.keys(It))void 0===It[tr]&&delete It[tr];const rn=yield y._getAppCheckToken(),xn=rn?`#${ki}=${encodeURIComponent(rn)}`:"";return`${function pp({config:y}){return y.emulator?X(y,Ll):`https://${y.authDomain}/${bo}`}(y)}?${(0,ae.Am)(It).slice(1)}${xn}`})).apply(this,arguments)}const qa="webStorageSupport",Vh=class Lh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Io,this._completeRedirectFn=ei,this._overrideRedirectResult=Pa}_openPopup(h,g,C,H){var ee=this;return(0,c.A)(function*(){var Ge;Ht(null===(Ge=ee.eventManagers[h._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const It=yield Fh(h,g,C,pn(),H);return function xd(y,h,g,C=500,H=600){const ee=Math.max((window.screen.availHeight-H)/2,0).toString(),Ge=Math.max((window.screen.availWidth-C)/2,0).toString();let It="";const rn=Object.assign(Object.assign({},Oh),{width:C.toString(),height:H.toString(),top:ee,left:Ge}),xn=(0,ae.ZQ)().toLowerCase();g&&(It=Hn(xn)?"_blank":g),Pn(xn)&&(h=h||"http://localhost",rn.scrollbars="yes");const tr=Object.entries(rn).reduce((ro,[na,Zu])=>`${ro}${na}=${Zu},`,"");if(function $e(y=(0,ae.ZQ)()){var h;return vo(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(xn)&&"_self"!==It)return function Fl(y,h){const g=document.createElement("a");g.href=y,g.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(h||"",It),new Hu(null);const Yn=window.open(h||"",It,tr);Se(Yn,y,"popup-blocked");try{Yn.focus()}catch{}return new Hu(Yn)}(h,It,zo())})()}_openRedirect(h,g,C,H){var ee=this;return(0,c.A)(function*(){return yield ee._originValidation(h),function er(y){Ri().location.href=y}(yield Fh(h,g,C,pn(),H)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:H,promise:ee}=this.eventManagers[g];return H?Promise.resolve(H):(Ht(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(h);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(h){var g=this;return(0,c.A)(function*(){const C=yield function Ol(y){return kl.apply(this,arguments)}(h),H=new $u(h);return C.register("authEvent",ee=>(Se(null==ee?void 0:ee.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:H},g.iframes[h._key()]=C,H})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(qa,{type:qa},H=>{var ee;const Ge=null===(ee=null==H?void 0:H[0])||void 0===ee?void 0:ee[qa];void 0!==Ge&&g(!!Ge),ve(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function hp(y){return ju.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return zt()||Wr()||vo()}};class lu{constructor(h){this.factorId=h}_process(h,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,C);case"signin":return this._finalizeSignIn(h,g.credential);default:return Wt("unexpected MultiFactorSessionType")}}}class Ia extends lu{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ia(h)}_finalizeEnroll(h,g,C){return function yo(y,h){return ot(y,"POST","/v2/accounts/mfaEnrollment:finalize",Je(y,h))}(h,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function T(y,h){return ot(y,"POST","/v2/accounts/mfaSignIn:finalize",Je(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gp=(()=>{class y{constructor(){}static assertion(g){return Ia._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Od="@firebase/auth";class mp{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,c.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(C=>{h((null==C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wu(){return window}(0,ae.XA)("authIdTokenMaxAge"),function Mt(y){ct=y}({loadJS:y=>new Promise((h,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=h,C.onerror=H=>{const ee=we("internal-error");ee.customData=H,g(ee)},C.type="text/javascript",C.charset="UTF-8",function fm(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function gl(y){(0,he._registerComponent)(new be.uA("auth",(h,{options:g})=>{const C=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ee=h.getProvider("app-check-internal"),{apiKey:Ge,authDomain:It}=C.options;Se(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:C.name});const rn={apiKey:Ge,authDomain:It,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yn(y)},xn=new se(C,H,ee,rn);return function qr(y,h){const g=(null==h?void 0:h.persistence)||[],C=(Array.isArray(g)?g:[g]).map(On);null!=h&&h.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(C,null==h?void 0:h.popupRedirectResolver)}(xn,g),xn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,C)=>{h.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new be.uA("auth-internal",h=>{const g=Ae(h.getProvider("auth").getImmediate());return new mp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(Od,"1.7.9",function Ea(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,he.registerVersion)(Od,"1.7.9","esm2017")}("Browser");function ml(){return ml=(0,c.A)(function*(y,h,g){var C;const{BuildInfo:H}=Wu();Ht(h.sessionId,"AuthEvent did not contain a session ID");const ee=yield function du(y){return Ip.apply(this,arguments)}(h.sessionId),Ge={};return vo()?Ge.ibi=H.packageName:Fn()?Ge.apn=H.packageName:ve(y,"operation-not-supported-in-this-environment"),H.displayName&&(Ge.appDisplayName=H.displayName),Ge.sessionId=ee,Fh(y,g,h.type,void 0,null!==(C=h.eventId)&&void 0!==C?C:void 0,Ge)}),ml.apply(this,arguments)}function uu(){return(uu=(0,c.A)(function*(y){const{BuildInfo:h}=Wu(),g={};vo()?g.iosBundleId=h.packageName:Fn()?g.androidPackageName=h.packageName:ve(y,"operation-not-supported-in-this-environment"),yield Wa(y,g)})).apply(this,arguments)}function Hh(){return(Hh=(0,c.A)(function*(y,h,g){const{cordova:C}=Wu();let H=()=>{};try{yield new Promise((ee,Ge)=>{let It=null;function rn(){var Yn;ee();const ro=null===(Yn=C.plugins.browsertab)||void 0===Yn?void 0:Yn.close;"function"==typeof ro&&ro(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function xn(){It||(It=window.setTimeout(()=>{Ge(we(y,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===(null==document?void 0:document.visibilityState)&&xn()}h.addPassiveListener(rn),document.addEventListener("resume",xn,!1),Fn()&&document.addEventListener("visibilitychange",tr,!1),H=()=>{h.removePassiveListener(rn),document.removeEventListener("resume",xn,!1),document.removeEventListener("visibilitychange",tr,!1),It&&window.clearTimeout(It)}})}finally{H()}})).apply(this,arguments)}function Ip(){return(Ip=(0,c.A)(function*(y){const h=function zh(y){if(Ht(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let C=0;C<y.length;C++)g[C]=y.charCodeAt(C);return g}(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Gh extends $u{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.A)(function*(){yield h.initPromise})()}}function hu(y){return fu.apply(this,arguments)}function fu(){return(fu=(0,c.A)(function*(y){const h=yield kc()._get(Vd(y));return h&&(yield kc()._remove(Vd(y))),h})).apply(this,arguments)}function Oc(){const y=[];for(let g=0;g<20;g++){const C=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(C))}return y.join("")}function kc(){return On(bi)}function Vd(y){return Nr("authEvent",y.config.apiKey,y.name)}function Fc(y){if(null==y||!y.includes("?"))return{};const[h,...g]=y.split("?");return(0,ae.I9)(g.join("?"))}const Lc=class gm{constructor(){this._redirectPersistence=Io,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ei,this._overrideRedirectResult=Pa}_initialize(h){var g=this;return(0,c.A)(function*(){const C=h._key();let H=g.eventManagers.get(C);return H||(H=new Gh(h),g.eventManagers.set(C,H),g.attachCallbackListeners(h,H)),H})()}_openPopup(h){ve(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,C,H){var ee=this;return(0,c.A)(function*(){!function Ku(y){var h,g,C,H,ee,Ge,It,rn,xn,tr;const Yn=Wu();Se("function"==typeof(null===(h=null==Yn?void 0:Yn.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof(null===(g=null==Yn?void 0:Yn.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(ee=null===(H=null===(C=null==Yn?void 0:Yn.cordova)||void 0===C?void 0:C.plugins)||void 0===H?void 0:H.browsertab)||void 0===ee?void 0:ee.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(rn=null===(It=null===(Ge=null==Yn?void 0:Yn.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===It?void 0:It.browsertab)||void 0===rn?void 0:rn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(tr=null===(xn=null==Yn?void 0:Yn.cordova)||void 0===xn?void 0:xn.InAppBrowser)||void 0===tr?void 0:tr.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ge=yield ee._initialize(h);yield Ge.initialized(),Ge.resetRedirect(),function su(){ou.clear()}(),yield ee._originValidation(h);const It=function Fs(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Oc(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(h,C,H);yield function Ld(y,h){return kc()._set(Vd(y),h)}(h,It);const rn=yield function No(y,h,g){return ml.apply(this,arguments)}(h,It,g),xn=yield function pm(y){const{cordova:h}=Wu();return new Promise(g=>{h.plugins.browsertab.isAvailable(C=>{let H=null;C?h.plugins.browsertab.openUrl(y):H=h.InAppBrowser.open(y,function Kn(y=(0,ae.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(H)})})}(rn);return function cu(y,h,g){return Hh.apply(this,arguments)}(h,Ge,xn)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function jh(y){return uu.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:C,handleOpenURL:H,BuildInfo:ee}=Wu(),Ge=setTimeout((0,c.A)(function*(){yield hu(h),g.onEvent(Ul())}),500),It=function(){var tr=(0,c.A)(function*(Yn){clearTimeout(Ge);const ro=yield hu(h);let na=null;ro&&null!=Yn&&Yn.url&&(na=function Ep(y,h){var g,C;const H=function Ud(y){const h=Fc(y),g=h.link?decodeURIComponent(h.link):void 0,C=Fc(g).link,H=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Fc(H).link||H||C||g||y}(h);if(H.includes("/__/auth/callback")){const ee=Fc(H),Ge=ee.firebaseError?function Wh(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(ee.firebaseError)):null,It=null===(C=null===(g=null==Ge?void 0:Ge.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],rn=It?we(It):null;return rn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:H,postBody:null}}return null}(ro,Yn.url)),g.onEvent(na||Ul())});return function(ro){return tr.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,It);const rn=H,xn=`${ee.packageName.toLowerCase()}://`;Wu().handleOpenURL=function(){var tr=(0,c.A)(function*(Yn){if(Yn.toLowerCase().startsWith(xn)&&It({url:Yn}),"function"==typeof rn)try{rn(Yn)}catch(ro){console.error(ro)}});return function(Yn){return tr.apply(this,arguments)}}()}};function Ul(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Na(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function qh(y=(0,ae.ZQ)()){return!("file:"!==Na()&&"ionic:"!==Na()&&"capacitor:"!==Na()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xu(){try{const y=self.localStorage,h=zo();if(y)return y.setItem(h,"1"),y.removeItem(h),!function $d(y=(0,ae.ZQ)()){return function Vc(){return(0,ae.lT)()&&11===(null==document?void 0:document.documentMode)}()||function mm(y=(0,ae.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,ae.zW)()}catch{return jd()&&(0,ae.zW)()}return!1}function jd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qu(){return(function xo(){return"http:"===Na()||"https:"===Na()}()||(0,ae.sr)()||qh())&&!function Ap(){return(0,ae.lV)()||(0,ae.Ll)()}()&&Xu()&&!jd()}function gu(){return qh()&&typeof document<"u"}function mu(){return(mu=(0,c.A)(function*(){return!!gu()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Is={LOCAL:"local",NONE:"none",SESSION:"session"},vu=Se,Hd="persistence";function Uc(y){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,c.A)(function*(y){yield y._initializationPromise;const h=_m(),g=Nr(Hd,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function _m(){var y;try{return(null===(y=function Xh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Cp=Se;class ho{constructor(){this.browserResolver=On(Vh),this.cordovaResolver=On(Lc),this.underlyingResolver=null,this._redirectPersistence=Io,this._completeRedirectFn=ei,this._overrideRedirectResult=Pa}_initialize(h){var g=this;return(0,c.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,C,H){var ee=this;return(0,c.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(h,g,C,H)})()}_openRedirect(h,g,C,H){var ee=this;return(0,c.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(h,g,C,H)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return gu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.A)(function*(){if(h.underlyingResolver)return;const g=yield function Bl(){return mu.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function cs(y){return y.unwrap()}function zd(y){return Bc(y)}function Bc(y){const{_tokenResponse:h}=y instanceof ae.g?y.customData:y;if(!h)return null;if(!(y instanceof ae.g)&&"temporaryProof"in h&&"phoneNumber"in h)return Vu.credentialFromResult(y);const g=h.providerId;if(!g||g===ze.PASSWORD)return null;let C;switch(g){case ze.GOOGLE:C=da;break;case ze.FACEBOOK:C=Lo;break;case ze.GITHUB:C=zs;break;case ze.TWITTER:C=to;break;default:const{oauthIdToken:H,oauthAccessToken:ee,oauthTokenSecret:Ge,pendingToken:It,nonce:rn}=h;return ee||Ge||H||It?It?g.startsWith("saml.")?yr._create(g,It):Wn._fromParams({providerId:g,signInMethod:g,pendingToken:It,idToken:H,accessToken:ee}):new Mo(g).credential({idToken:H,accessToken:ee,rawNonce:rn}):null}return y instanceof ae.g?C.credentialFromError(y):C.credentialFromResult(y)}function Ls(y,h){return h.catch(g=>{throw g instanceof ae.g&&function Gd(y,h){var g;const C=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new jc(y,function Zn(y,h){var g;const C=(0,ae.Ku)(y),H=h;return Se(h.customData.operationType,C,"argument-error"),Se(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),hn._fromError(C,H)}(y,h));else if(C){const H=Bc(h),ee=h;H&&(ee.credential=H,ee.tenantId=C.tenantId||void 0,ee.email=C.email||void 0,ee.phoneNumber=C.phoneNumber||void 0)}}(y,g),g}).then(g=>{const H=g.user;return{operationType:g.operationType,credential:zd(g),additionalUserInfo:fe(g),user:_l.getOrCreate(H)}})}function $c(y,h){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,c.A)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:C=>Ls(y,g.confirm(C))}})).apply(this,arguments)}class jc{constructor(h,g){this.resolver=g,this.auth=function ym(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ls(cs(this.auth),this.resolver.resolveSignIn(h))}}class _l{constructor(h){this._delegate=h,this.multiFactor=function Ho(y){const h=(0,ae.Ku)(y);return Ji.has(h)||Ji.set(h,yi._fromUser(h)),Ji.get(h)}(h)}static getOrCreate(h){return _l.USER_MAP.has(h)||_l.USER_MAP.set(h,new _l(h)),_l.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,c.A)(function*(){return Ls(g.auth,B(g._delegate,h))})()}linkWithPhoneNumber(h,g){var C=this;return(0,c.A)(function*(){return $c(C.auth,function al(y,h,g){return Yo.apply(this,arguments)}(C._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,c.A)(function*(){return Ls(g.auth,function lp(y,h,g){return Ra.apply(this,arguments)}(g._delegate,h,ho))})()}linkWithRedirect(h){var g=this;return(0,c.A)(function*(){return yield Uc(Ae(g.auth)),dm(g._delegate,h,ho)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,c.A)(function*(){return Ls(g.auth,Xt(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return $c(this.auth,function bc(y,h,g){return ll.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Ls(this.auth,function cm(y,h,g){return ks.apply(this,arguments)}(this._delegate,h,ho))}reauthenticateWithRedirect(h){var g=this;return(0,c.A)(function*(){return yield Uc(Ae(g.auth)),Dd(g._delegate,h,ho)})()}sendEmailVerification(h){return function Ua(y,h){return ma.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,c.A)(function*(){return yield function Rs(y,h){return Gs.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function A(y,h){const g=(0,ae.Ku)(y);return(0,he._isFirebaseServerApp)(g.auth.app)?Promise.reject(ut(g.auth)):j(g,h,null)}(this._delegate,h)}updatePassword(h){return function M(y,h){return j((0,ae.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Sa(y,h){return wc.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function rl(y,h){return wa.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function ba(y,h,g){return Qs.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_l.USER_MAP=new WeakMap;const Hc=Se;let Aa=(()=>{class y{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=g.options;Hc(H,"invalid-api-key",{appName:g.name}),Hc(H,"invalid-api-key",{appName:g.name});const ee=typeof window<"u"?ho:void 0;this._delegate=C.initialize({options:{persistence:Ju(H,g.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(lt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_l.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function Ft(y,h,g){const C=Ae(y);Se(C._canInitEmulator,C,"emulator-config-failed"),Se(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const H=!(null==g||!g.disableWarnings),ee=vr(h),{host:Ge,port:It}=function fs(y){const h=vr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(C);if(H){const ee=H[1];return{host:ee,port:Mi(C.substr(ee.length+1))}}{const[ee,Ge]=C.split(":");return{host:ee,port:Mi(Ge)}}}(h);C.config.emulator={url:`${ee}//${Ge}${null===It?"":`:${It}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ge,port:It,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Go(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,C)}applyActionCode(g){return function Ms(y,h){return $o.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Fa(this._delegate,g)}confirmPasswordReset(g,C){return function lo(y,h,g){return fa.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var H=this;return(0,c.A)(function*(){return Ls(H._delegate,function La(y,h,g){return tl.apply(this,arguments)}(H._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function wl(y,h){return jo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function qs(y,h){const g=ui.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.A)(function*(){Hc(Qu(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function Sd(y,h){return Yt.apply(this,arguments)}(g._delegate,ho);return C?Ls(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function qu(y,h){Ae(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,C,H){const{next:ee,error:Ge,complete:It}=Yh(g,C,H);return this._delegate.onAuthStateChanged(ee,Ge,It)}onIdTokenChanged(g,C,H){const{next:ee,error:Ge,complete:It}=Yh(g,C,H);return this._delegate.onIdTokenChanged(ee,Ge,It)}sendSignInLinkToEmail(g,C){return function ku(y,h,g){return Ps.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function qi(y,h,g){return Po.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,c.A)(function*(){let H;switch(function vm(y,h){vu(Object.values(Is).includes(h),y,"invalid-persistence-type"),(0,ae.lV)()?vu(h!==Is.SESSION,y,"unsupported-persistence-type"):(0,ae.Ll)()?vu(h===Is.NONE,y,"unsupported-persistence-type"):jd()?vu(h===Is.NONE||h===Is.LOCAL&&(0,ae.zW)(),y,"unsupported-persistence-type"):vu(h===Is.NONE||Xu(),y,"unsupported-persistence-type")}(C._delegate,g),g){case Is.SESSION:H=Io;break;case Is.LOCAL:H=(yield On(Ha)._isAvailable())?Ha:bi;break;case Is.NONE:H=pi;break;default:return ve("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ls(this._delegate,function ha(y){return Ss.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ls(this._delegate,N(this._delegate,g))}signInWithCustomToken(g){return Ls(this._delegate,function Hi(y,h){return ls.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return Ls(this._delegate,function nl(y,h,g){return(0,he._isFirebaseServerApp)(y.app)?Promise.reject(ut(y)):N((0,ae.Ku)(y),Ro.credential(h,g)).catch(function(){var C=(0,c.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&Fr(y),H});return function(H){return C.apply(this,arguments)}}())}(this._delegate,g,C))}signInWithEmailLink(g,C){return Ls(this._delegate,function Xs(y,h,g){return ga.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return $c(this._delegate,function Qo(y,h,g){return sl.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,c.A)(function*(){return Hc(Qu(),C._delegate,"operation-not-supported-in-this-environment"),Ls(C._delegate,function um(y,h,g){return Uu.apply(this,arguments)}(C._delegate,g,ho))})()}signInWithRedirect(g){var C=this;return(0,c.A)(function*(){return Hc(Qu(),C._delegate,"operation-not-supported-in-this-environment"),yield Uc(C._delegate),Mc(C._delegate,g,ho)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function pa(y,h){return bl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Is,y})();function Yh(y,h,g){let C=y;"function"!=typeof y&&({next:C,error:h,complete:g}=y);const H=C;return{next:Ge=>H(Ge&&_l.getOrCreate(Ge)),error:h,complete:g}}function Ju(y,h){const g=function Qh(y,h){const g=_m();if(!g)return[];const C=Nr(Hd,y,h);switch(g.getItem(C)){case Is.NONE:return[pi];case Is.LOCAL:return[Ha,Io];case Is.SESSION:return[Io];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(Ha)&&g.push(Ha),typeof window<"u")for(const C of[bi,Io])g.includes(C)||g.push(C);return g.includes(pi)||g.push(pi),g}class Vs{constructor(){this.providerId="phone",this._delegate=new Vu(cs(f.A.auth()))}static credential(h,g){return Vu.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Vs.PHONE_SIGN_IN_METHOD=Vu.PHONE_SIGN_IN_METHOD,Vs.PROVIDER_ID=Vu.PROVIDER_ID;const _u=Se;class yu{constructor(h,g,C=f.A.app()){var H;_u(null===(H=C.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new us(C.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Im(y){y.INTERNAL.registerComponent(new be.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),C=h.getProvider("auth");return new Aa(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ro,FacebookAuthProvider:Lo,GithubAuthProvider:zs,GoogleAuthProvider:da,OAuthProvider:Mo,SAMLAuthProvider:oo,PhoneAuthProvider:Vs,PhoneMultiFactorGenerator:gp,RecaptchaVerifier:yu,TwitterAuthProvider:to,Auth:Aa,AuthCredential:So,Error:ae.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(f.A)},467:(An,ft,$)=>{"use strict";function c(he,ae,ye,ce,be,ke,ze){try{var Ie=he[ke](ze),ue=Ie.value}catch(Ue){return void ye(Ue)}Ie.done?ae(ue):Promise.resolve(ue).then(ce,be)}function f(he){return function(){var ae=this,ye=arguments;return new Promise(function(ce,be){var ke=he.apply(ae,ye);function ze(ue){c(ke,ce,be,ze,Ie,"next",ue)}function Ie(ue){c(ke,ce,be,ze,Ie,"throw",ue)}ze(void 0)})}}$.d(ft,{A:()=>f})},9842:(An,ft,$)=>{"use strict";function c(ye){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce})(ye)}function ae(ye,ce,be){return(ce=function he(ye){var ce=function f(ye,ce){if("object"!=c(ye)||!ye)return ye;var be=ye[Symbol.toPrimitive];if(void 0!==be){var ke=be.call(ye,ce||"default");if("object"!=c(ke))return ke;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ce?String:Number)(ye)}(ye,"string");return"symbol"==c(ce)?ce:ce+""}(ce))in ye?Object.defineProperty(ye,ce,{value:be,enumerable:!0,configurable:!0,writable:!0}):ye[ce]=be,ye}$.d(ft,{A:()=>ae})},1635:(An,ft,$)=>{"use strict";function ae(X,Y){var De={};for(var qe in X)Object.prototype.hasOwnProperty.call(X,qe)&&Y.indexOf(qe)<0&&(De[qe]=X[qe]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(qe=Object.getOwnPropertySymbols(X);Je<qe.length;Je++)Y.indexOf(qe[Je])<0&&Object.prototype.propertyIsEnumerable.call(X,qe[Je])&&(De[qe[Je]]=X[qe[Je]])}return De}function ye(X,Y,De,qe){var $t,Je=arguments.length,ot=Je<3?Y:null===qe?qe=Object.getOwnPropertyDescriptor(Y,De):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(X,Y,De,qe);else for(var Ln=X.length-1;Ln>=0;Ln--)($t=X[Ln])&&(ot=(Je<3?$t(ot):Je>3?$t(Y,De,ot):$t(Y,De))||ot);return Je>3&&ot&&Object.defineProperty(Y,De,ot),ot}function Ue(X,Y,De,qe){return new(De||(De=Promise))(function(ot,$t){function Ln(zn){try{_n(qe.next(zn))}catch(Bt){$t(Bt)}}function dn(zn){try{_n(qe.throw(zn))}catch(Bt){$t(Bt)}}function _n(zn){zn.done?ot(zn.value):function Je(ot){return ot instanceof De?ot:new De(function($t){$t(ot)})}(zn.value).then(Ln,dn)}_n((qe=qe.apply(X,Y||[])).next())})}function pt(X){return this instanceof pt?(this.v=X,this):new pt(X)}function ve(X,Y,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,qe=De.apply(X,Y||[]),ot=[];return Je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ln("next"),Ln("throw"),Ln("return",function $t(Qn){return function(sr){return Promise.resolve(sr).then(Qn,Bt)}}),Je[Symbol.asyncIterator]=function(){return this},Je;function Ln(Qn,sr){qe[Qn]&&(Je[Qn]=function(Xn){return new Promise(function(Tn,Zt){ot.push([Qn,Xn,Tn,Zt])>1||dn(Qn,Xn)})},sr&&(Je[Qn]=sr(Je[Qn])))}function dn(Qn,sr){try{!function _n(Qn){Qn.value instanceof pt?Promise.resolve(Qn.value.v).then(zn,Bt):St(ot[0][2],Qn)}(qe[Qn](sr))}catch(Xn){St(ot[0][3],Xn)}}function zn(Qn){dn("next",Qn)}function Bt(Qn){dn("throw",Qn)}function St(Qn,sr){Qn(sr),ot.shift(),ot.length&&dn(ot[0][0],ot[0][1])}}function rt(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Y=X[Symbol.asyncIterator];return Y?Y.call(X):(X=function st(X){var Y="function"==typeof Symbol&&Symbol.iterator,De=Y&&X[Y],qe=0;if(De)return De.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&qe>=X.length&&(X=void 0),{value:X&&X[qe++],done:!X}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),De={},qe("next"),qe("throw"),qe("return"),De[Symbol.asyncIterator]=function(){return this},De);function qe(ot){De[ot]=X[ot]&&function($t){return new Promise(function(Ln,dn){!function Je(ot,$t,Ln,dn){Promise.resolve(dn).then(function(_n){ot({value:_n,done:Ln})},$t)}(Ln,dn,($t=X[ot]($t)).done,$t.value)})}}}$.d(ft,{AQ:()=>ve,Cg:()=>ye,N3:()=>pt,Tt:()=>ae,sH:()=>Ue,xN:()=>rt}),"function"==typeof SuppressedError&&SuppressedError}},An=>{An(An.s=226)}]);